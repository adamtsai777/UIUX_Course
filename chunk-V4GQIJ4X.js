var sk=Object.create;var Mf=Object.defineProperty,ak=Object.defineProperties,ck=Object.getOwnPropertyDescriptor,uk=Object.getOwnPropertyDescriptors,lk=Object.getOwnPropertyNames,cu=Object.getOwnPropertySymbols,dk=Object.getPrototypeOf,xf=Object.prototype.hasOwnProperty,Ww=Object.prototype.propertyIsEnumerable;var zw=(n,e,t)=>e in n?Mf(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,J=(n,e)=>{for(var t in e||={})xf.call(e,t)&&zw(n,t,e[t]);if(cu)for(var t of cu(e))Ww.call(e,t)&&zw(n,t,e[t]);return n},ce=(n,e)=>ak(n,uk(e));var t$=(n,e)=>{var t={};for(var r in n)xf.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&cu)for(var r of cu(n))e.indexOf(r)<0&&Ww.call(n,r)&&(t[r]=n[r]);return t};var n$=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var hk=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lk(e))!xf.call(n,i)&&i!==t&&Mf(n,i,{get:()=>e[i],enumerable:!(r=ck(e,i))||r.enumerable});return n};var r$=(n,e,t)=>(t=n!=null?sk(dk(n)):{},hk(e||!n||!n.__esModule?Mf(t,"default",{value:n,enumerable:!0}):t,n));var A=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});function H(n){return typeof n=="function"}function Do(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var uu=Do(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ti(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qw(o)}catch(s){e=e??[],s instanceof uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ti(t,e)}remove(e){let{_finalizers:t}=this;t&&ti(t,e),e instanceof n&&e._removeParent(this)}};me.EMPTY=(()=>{let n=new me;return n.closed=!0,n})();var Pf=me.EMPTY;function lu(n){return n instanceof me||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function qw(n){H(n)?n():n.unsubscribe()}var qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bo={setTimeout(n,e,...t){let{delegate:r}=bo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=bo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function du(n){bo.setTimeout(()=>{let{onUnhandledError:e}=qt;if(e)e(n);else throw n})}function ni(){}var Gw=Of("C",void 0,void 0);function Kw(n){return Of("E",void 0,n)}function Yw(n){return Of("N",n,void 0)}function Of(n,e,t){return{kind:n,value:e,error:t}}var ri=null;function Co(n){if(qt.useDeprecatedSynchronousErrorHandling){let e=!ri;if(e&&(ri={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ri;if(ri=null,t)throw r}}else n()}function Qw(n){qt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=n)}var ii=class extends me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lu(e)&&e.add(this)):this.destination=gk}static create(e,t,r){return new Un(e,t,r)}next(e){this.isStopped?Lf(Yw(e),this):this._next(e)}error(e){this.isStopped?Lf(Kw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lf(Gw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fk=Function.prototype.bind;function Ff(n,e){return fk.call(n,e)}var Vf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hu(r)}else hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hu(t)}}},Un=class extends ii{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ff(e.next,o),error:e.error&&Ff(e.error,o),complete:e.complete&&Ff(e.complete,o)}):i=e}this.destination=new Vf(i)}};function hu(n){qt.useDeprecatedSynchronousErrorHandling?Qw(n):du(n)}function pk(n){throw n}function Lf(n,e){let{onStoppedNotification:t}=qt;t&&bo.setTimeout(()=>t(n,e))}var gk={closed:!0,next:ni,error:pk,complete:ni};var To=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vt(n){return n}function Zw(...n){return jf(n)}function jf(n){return n.length===0?vt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var G=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=_k(t)?t:new Un(t,r,i);return Co(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Xw(r),new r((i,o)=>{let s=new Un({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[To](){return this}pipe(...t){return jf(t)(this)}toPromise(t){return t=Xw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Xw(n){var e;return(e=n??qt.Promise)!==null&&e!==void 0?e:Promise}function mk(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function _k(n){return n&&n instanceof ii||mk(n)&&lu(n)}var Jw=Do(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=(()=>{class n extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Jw}next(t){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pf:(this.currentObservers=null,o.push(t),new me(()=>{this.currentObservers=null,ti(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new G;return t.source=this,t}}return n.create=(e,t)=>new fu(e,t),n})(),fu=class extends te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Pf}};var Hn=class extends te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function Bf(n){return H(n?.lift)}function W(n){return e=>{if(Bf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(n,e,t,r,i){return new Uf(n,e,t,r,i)}var Uf=class extends ii{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Le(n,e){return W((t,r)=>{let i=0;t.subscribe(U(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yk}=Array,{getPrototypeOf:vk,prototype:Ek,keys:wk}=Object;function pu(n){if(n.length===1){let e=n[0];if(yk(e))return{args:e,keys:null};if(Ik(e)){let t=wk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Ik(n){return n&&typeof n=="object"&&vk(n)===Ek}function Hf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function eI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oi(n){return this instanceof oi?(this.v=n,this):new oi(n)}function nI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(T){return Promise.resolve(T).then(_,p)}}function c(_,T){r[_]&&(i[_]=function(k){return new Promise(function(N,P){o.push([_,k,N,P])>1||u(_,k)})},T&&(i[_]=T(i[_])))}function u(_,T){try{l(r[_](T))}catch(k){m(o[0][3],k)}}function l(_){_.value instanceof oi?Promise.resolve(_.value.v).then(h,p):m(o[0][2],_)}function h(_){u("next",_)}function p(_){u("throw",_)}function m(_,T){_(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function rI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eI=="function"?eI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var So=n=>n&&typeof n.length=="number"&&typeof n!="function";function gu(n){return H(n?.then)}function mu(n){return H(n[To])}function _u(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}function yu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Dk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vu=Dk();function Eu(n){return H(n?.[vu])}function wu(n){return nI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield oi(t.read());if(i)return yield oi(void 0);yield yield oi(r)}}finally{t.releaseLock()}})}function Iu(n){return H(n?.getReader)}function he(n){if(n instanceof G)return n;if(n!=null){if(mu(n))return bk(n);if(So(n))return Ck(n);if(gu(n))return Tk(n);if(_u(n))return iI(n);if(Eu(n))return Sk(n);if(Iu(n))return Ak(n)}throw yu(n)}function bk(n){return new G(e=>{let t=n[To]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ck(n){return new G(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Tk(n){return new G(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,du)})}function Sk(n){return new G(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iI(n){return new G(e=>{Rk(n,e).catch(t=>e.error(t))})}function Ak(n){return iI(wu(n))}function Rk(n,e){var t,r,i,o;return tI(this,void 0,void 0,function*(){try{for(t=rI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function fr(n,e=0){return W((t,r)=>{t.subscribe(U(r,i=>bt(r,n,()=>r.next(i),e),()=>bt(r,n,()=>r.complete(),e),i=>bt(r,n,()=>r.error(i),e)))})}function pr(n,e=0){return W((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function oI(n,e){return he(n).pipe(pr(e),fr(e))}function sI(n,e){return he(n).pipe(pr(e),fr(e))}function aI(n,e){return new G(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cI(n,e){return new G(t=>{let r;return bt(t,e,()=>{r=n[vu](),bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function Du(n,e){if(!n)throw new Error("Iterable cannot be null");return new G(t=>{bt(t,e,()=>{let r=n[Symbol.asyncIterator]();bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function uI(n,e){return Du(wu(n),e)}function lI(n,e){if(n!=null){if(mu(n))return oI(n,e);if(So(n))return aI(n,e);if(gu(n))return sI(n,e);if(_u(n))return Du(n,e);if(Eu(n))return cI(n,e);if(Iu(n))return uI(n,e)}throw yu(n)}function kt(n,e){return e?lI(n,e):he(n)}var{isArray:Nk}=Array;function kk(n,e){return Nk(e)?n(...e):n(e)}function Ao(n){return Le(e=>kk(n,e))}function bu(n){return n&&H(n.schedule)}function $f(n){return n[n.length-1]}function Cu(n){return H($f(n))?n.pop():void 0}function hn(n){return bu($f(n))?n.pop():void 0}function dI(n,e){return typeof $f(n)=="number"?n.pop():e}function Tu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zf(...n){let e=hn(n),t=Cu(n),{args:r,keys:i}=pu(n);if(r.length===0)return kt([],e);let o=new G(Mk(r,e,i?s=>Tu(i,s):vt));return t?o.pipe(Ao(t)):o}function Mk(n,e,t=vt){return r=>{hI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)hI(e,()=>{let l=kt(n[u],e),h=!1;l.subscribe(U(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hI(n,e,t){n?bt(t,n,e):e()}function Wf(){return W((n,e)=>{let t=null;n._refCount++;let r=U(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ca=class extends G{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Bf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new me;let t=this.getSubject();e.add(this.source.subscribe(U(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=me.EMPTY)}return e}refCount(){return Wf()(this)}};var ua={now(){return(ua.delegate||Date).now()},delegate:void 0};var Ro=class extends te{constructor(e=1/0,t=1/0,r=ua){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),c=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)c=u;c&&r.splice(0,c+1)}}};var Su=class extends me{constructor(e,t){super()}schedule(e,t=0){return this}};var la={setInterval(n,e,...t){let{delegate:r}=la;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=la;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var No=class extends Su{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return la.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&la.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ti(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ko=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ko.now=ua.now;var Mo=class extends ko{constructor(e,t=ko.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var fn=new Mo(No),qf=fn;var Au=class extends No{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ru=class extends Mo{};var Gf=new Ru(Au);var $n=new G(n=>n.complete());function gr(...n){let e=hn(n);return kt(n,e)}function xk(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new G(e?i=>e.schedule(r,0,i):r)}function Nu(n){return!!n&&(n instanceof G||H(n.lift)&&H(n.subscribe))}var si=Do(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fI(n){return n instanceof Date&&!isNaN(n)}function pI(n,e,t,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},_=k=>l<r?T(k):u.push(k),T=k=>{o&&e.next(k),l++;let N=!1;he(t(k,h++)).subscribe(U(e,P=>{i?.(P),o?_(P):e.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let P=u.shift();s?bt(e,s,()=>T(P)):T(P)}m()}catch(P){e.error(P)}}))};return n.subscribe(U(e,_,()=>{p=!0,m()})),()=>{c?.()}}function Gt(n,e,t=1/0){return H(e)?Gt((r,i)=>Le((o,s)=>e(r,o,i,s))(he(n(r,i))),t):(typeof e=="number"&&(t=e),W((r,i)=>pI(r,i,n,t)))}function da(n=1/0){return Gt(vt,n)}function gI(){return da(1)}function mr(...n){return gI()(kt(n,hn(n)))}function Pk(n){return new G(e=>{he(n()).subscribe(e)})}function Kf(...n){let e=Cu(n),{args:t,keys:r}=pu(n),i=new G(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;he(t[h]).subscribe(U(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Tu(r,c):c),o.complete())}))}});return e?i.pipe(Ao(e)):i}var Ok=["addListener","removeListener"],Fk=["addEventListener","removeEventListener"],Lk=["on","off"];function Yf(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Yf(n,e,t).pipe(Ao(r));let[i,o]=Bk(n)?Fk.map(s=>c=>n[s](e,c,t)):Vk(n)?Ok.map(mI(n,e)):jk(n)?Lk.map(mI(n,e)):[];if(!i&&So(n))return Gt(s=>Yf(s,e,t))(he(n));if(!i)throw new TypeError("Invalid event target");return new G(s=>{let c=(...u)=>s.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function mI(n,e){return t=>r=>n[t](e,r)}function Vk(n){return H(n.addListener)&&H(n.removeListener)}function jk(n){return H(n.on)&&H(n.off)}function Bk(n){return H(n.addEventListener)&&H(n.removeEventListener)}function xo(n=0,e,t=qf){let r=-1;return e!=null&&(bu(e)?t=e:r=e),new G(i=>{let o=fI(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Uk(...n){let e=hn(n),t=dI(n,1/0),r=n;return r.length?r.length===1?he(r[0]):da(t)(kt(r,e)):$n}function Ct(n,e){return W((t,r)=>{let i=0;t.subscribe(U(r,o=>n.call(e,o,i++)&&r.next(o)))})}function _I(n){return W((e,t)=>{let r=!1,i=null,o=null,s=!1,c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};e.subscribe(U(t,l=>{r=!0,i=l,o||he(n(l)).subscribe(o=U(t,c,u))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function ku(n,e=fn){return _I(()=>xo(n,e))}function yI(n){return W((e,t)=>{let r=null,i=!1,o;r=e.subscribe(U(t,void 0,void 0,s=>{o=he(n(s,yI(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function vI(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(U(s,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Hk(n,e){return H(e)?Gt(n,e,1):Gt(n,1)}function ha(n,e=fn){return W((t,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}c()}t.subscribe(U(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function fa(n){return W((e,t)=>{let r=!1;e.subscribe(U(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _r(n){return n<=0?()=>$n:W((e,t)=>{let r=0;e.subscribe(U(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function EI(){return W((n,e)=>{n.subscribe(U(e,ni))})}function wI(n){return Le(()=>n)}function Qf(n,e){return e?t=>mr(e.pipe(_r(1),EI()),t.pipe(Qf(n))):Gt((t,r)=>he(n(t,r)).pipe(_r(1),wI(t)))}function $k(n,e=fn){let t=xo(n,e);return Qf(()=>t)}function pa(n,e=vt){return n=n??zk,W((t,r)=>{let i,o=!0;t.subscribe(U(r,s=>{let c=e(s);(o||!n(i,c))&&(o=!1,i=c,r.next(s))}))})}function zk(n,e){return n===e}function Mu(n=Wk){return W((e,t)=>{let r=!1;e.subscribe(U(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Wk(){return new si}function qk(n){return W((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Gk(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):vt,_r(1),t?fa(e):Mu(()=>new si))}function Zf(n){return n<=0?()=>$n:W((e,t)=>{let r=[];e.subscribe(U(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kk(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):vt,Zf(1),t?fa(e):Mu(()=>new si))}function Xf(){return W((n,e)=>{let t,r=!1;n.subscribe(U(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function Yk(n){let e=1/0,t;return n!=null&&(typeof n=="object"?{count:e=1/0,delay:t}=n:e=n),e<=0?()=>$n:W((r,i)=>{let o=0,s,c=()=>{if(s?.unsubscribe(),s=null,t!=null){let l=typeof t=="number"?xo(t):he(t(o)),h=U(i,()=>{h.unsubscribe(),u()});l.subscribe(h)}else u()},u=()=>{let l=!1;s=r.subscribe(U(i,void 0,()=>{++o<e?s?c():l=!0:i.complete()})),l&&c()};u()})}function II(n,e){return W(vI(n,e,arguments.length>=2,!0))}function ep(n={}){let{connector:e=()=>new te,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,c,u,l=0,h=!1,p=!1,m=()=>{c?.unsubscribe(),c=void 0},_=()=>{m(),s=u=void 0,h=p=!1},T=()=>{let k=s;_(),k?.unsubscribe()};return W((k,N)=>{l++,!p&&!h&&m();let P=u=u??e();N.add(()=>{l--,l===0&&!p&&!h&&(c=Jf(T,i))}),P.subscribe(N),!s&&l>0&&(s=new Un({next:B=>P.next(B),error:B=>{p=!0,m(),c=Jf(_,t,B),P.error(B)},complete:()=>{h=!0,m(),c=Jf(_,r),P.complete()}}),he(k).subscribe(s))})(o)}}function Jf(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Un({next:()=>{r.unsubscribe(),n()}});return he(e(...t)).subscribe(r)}function DI(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,ep({connector:()=>new Ro(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ga(n){return Ct((e,t)=>n<=t)}function ma(...n){let e=hn(n);return W((t,r)=>{(e?mr(n,t,e):mr(n,t)).subscribe(r)})}function bI(n,e){return W((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(U(r,u=>{i?.unsubscribe();let l=0,h=o++;he(n(u,h)).subscribe(i=U(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function pn(n){return W((e,t)=>{he(n).subscribe(U(t,()=>t.complete(),ni)),!t.closed&&e.subscribe(t)})}function tp(n,e=!1){return W((t,r)=>{let i=0;t.subscribe(U(r,o=>{let s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function np(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(U(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vt}var rp;function xu(){return rp}function gn(n){let e=rp;return rp=n,e}var CI=Symbol("NotFound");function Po(n){return n===CI||n?.name==="\u0275NotFound"}var dt=null,Pu=!1,ip=1,Qk=null,We=Symbol("SIGNAL");function Y(n){let e=dt;return dt=n,e}function Vu(){return dt}var ai={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ci(n){if(Pu)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(n);let e=dt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=dt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:dt.producers,t!==void 0&&t.producer===n)){dt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===dt&&(!r||Xk(i,dt)))return;let o=Oo(dt),s={producer:n,consumer:dt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};dt.producersTail=s,e!==void 0?e.nextProducer=s:dt.producers=s,o&&RI(n,s)}function TI(){ip++}function ju(n){if(!(Oo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ip)){if(!n.producerMustRecompute(n)&&!li(n)){Lu(n);return}n.producerRecomputeValue(n),Lu(n)}}function op(n){if(n.consumers===void 0)return;let e=Pu;Pu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Zk(r)}}finally{Pu=e}}function sp(){return dt?.consumerAllowSignalWrites!==!1}function Zk(n){n.dirty=!0,op(n),n.consumerMarkedDirty?.(n)}function Lu(n){n.dirty=!1,n.lastCleanEpoch=ip}function yr(n){return n&&SI(n),Y(n)}function SI(n){n.producersTail=void 0,n.recomputing=!0}function ui(n,e){Y(e),n&&AI(n)}function AI(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Oo(n))do t=ap(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function li(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(ju(t),r!==t.version))return!0}return!1}function vr(n){if(Oo(n)){let e=n.producers;for(;e!==void 0;)e=ap(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function RI(n,e){let t=n.consumersTail,r=Oo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)RI(i.producer,i)}function ap(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Oo(e)){let o=e.producers;for(;o!==void 0;)o=ap(o)}return t}function Oo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Bu(n){Qk?.(n)}function Xk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Uu(n,e){return Object.is(n,e)}function ya(n,e){let t=Object.create(Jk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(ju(t),ci(t),t.value===_a)throw t.error;return t.value};return r[We]=t,Bu(t),r}var Ou=Symbol("UNSET"),Fu=Symbol("COMPUTING"),_a=Symbol("ERRORED"),Jk=ce(J({},ai),{value:Ou,dirty:!0,error:null,equal:Uu,kind:"computed",producerMustRecompute(n){return n.value===Ou||n.value===Fu},producerRecomputeValue(n){if(n.value===Fu)throw new Error("");let e=n.value;n.value=Fu;let t=yr(n),r,i=!1;try{r=n.computation(),Y(null),i=e!==Ou&&e!==_a&&r!==_a&&n.equal(e,r)}catch(o){r=_a,n.error=o}finally{ui(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function eM(){throw new Error}var NI=eM;function kI(n){NI(n)}function cp(n){NI=n}var tM=null;function up(n,e){let t=Object.create(va);t.value=n,e!==void 0&&(t.equal=e);let r=()=>MI(t);return r[We]=t,Bu(t),[r,s=>Fo(t,s),s=>lp(t,s)]}function MI(n){return ci(n),n.value}function Fo(n,e){sp()||kI(n),n.equal(n.value,e)||(n.value=e,nM(n))}function lp(n,e){sp()||kI(n),Fo(n,e(n.value))}var va=ce(J({},ai),{equal:Uu,value:void 0,kind:"signal"});function nM(n){n.version++,TI(),op(n),tM?.(n)}function xI(n){let e=Y(null);try{return n()}finally{Y(e)}}var PI=ce(J({},ai),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function OI(n){if(n.dirty=!1,n.version>0&&!li(n))return;n.version++;let e=yr(n);try{n.cleanup(),n.fn()}finally{ui(n,e)}}var Er=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ip=new Er("20.3.7");var Dp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Q=class extends Error{code;constructor(e,t){super(gi(e,t)),this.code=e}};function rM(n){return`NG0${Math.abs(n)}`}function gi(n,e){return`${rM(n)}${e?": "+e:""}`}function _e(n){for(let e in n)if(n[e]===_e)return e;throw Error("")}function VI(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Wn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Wu(n,e){return n?e?`${n} ${e}`:n:e||""}var iM=_e({__forward_ref__:_e});function mn(n){return n.__forward_ref__=mn,n.toString=function(){return Wn(this())},n}function it(n){return bp(n)?n():n}function bp(n){return typeof n=="function"&&n.hasOwnProperty(iM)&&n.__forward_ref__===mn}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pe(n){return{providers:n.providers||[],imports:n.imports||[]}}function ba(n){return sM(n,qu)}function oM(n){return ba(n)!==null}function sM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function aM(n){let e=n?.[qu]??null;return e||null}function hp(n){return n&&n.hasOwnProperty($u)?n[$u]:null}var qu=_e({\u0275prov:_e}),$u=_e({\u0275inj:_e}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cp(n){return n&&!!n.\u0275providers}var Tp=_e({\u0275cmp:_e}),Sp=_e({\u0275dir:_e}),Ap=_e({\u0275pipe:_e}),Rp=_e({\u0275mod:_e}),wa=_e({\u0275fac:_e}),mi=_e({__NG_ELEMENT_ID__:_e}),FI=_e({__NG_ENV_ID__:_e});function Gu(n){return typeof n=="string"?n:n==null?"":String(n)}function jI(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Gu(n)}var BI=_e({ngErrorCode:_e}),cM=_e({ngErrorMessage:_e}),uM=_e({ngTokenPath:_e});function Np(n,e){return UI("",-200,e)}function Ku(n,e){throw new Q(-201,!1)}function UI(n,e,t){let r=new Q(e,n);return r[BI]=e,r[cM]=n,t&&(r[uM]=t),r}function lM(n){return n[BI]}var fp;function HI(){return fp}function Et(n){let e=fp;return fp=n,e}function kp(n,e,t){let r=ba(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Ku(n,"Injector")}var dM={},di=dM,pp="__NG_DI_FLAG__",gp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=hi(t)||0;try{return this.injector.get(e,r&8?null:di,r)}catch(i){if(Po(i))return i;throw i}}};function hM(n,e=0){let t=xu();if(t===void 0)throw new Q(-203,!1);if(t===null)return kp(n,void 0,e);{let r=fM(e),i=t.retrieve(n,r);if(Po(i)){if(r.optional)return null;throw i}return i}}function qe(n,e=0){return(HI()||hM)(it(n),e)}function w(n,e){return qe(n,hi(e))}function hi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function mp(n){let e=[];for(let t=0;t<n.length;t++){let r=it(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=pM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(qe(i,o))}else e.push(qe(r))}return e}function $I(n,e){return n[pp]=e,n.prototype[pp]=e,n}function pM(n){return n[pp]}function wr(n,e){let t=n.hasOwnProperty(wa);return t?n[wa]:null}function zI(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function WI(n){return n.flat(Number.POSITIVE_INFINITY)}function Yu(n,e){n.forEach(t=>Array.isArray(t)?Yu(t,e):e(t))}function Mp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ca(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qI(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function GI(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Qu(n,e,t){let r=Vo(n,e);return r>=0?n[r|1]=t:(r=~r,GI(n,r,e,t)),r}function Zu(n,e){let t=Vo(n,e);if(t>=0)return n[t|1]}function Vo(n,e){return gM(n,e,1)}function gM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Dr={},ht=[],_i=new V(""),xp=new V("",-1),Pp=new V(""),Ia=class{get(e,t=di){if(t===di){let i=UI("",-201);throw i.name="\u0275NotFound",i}return t}};function Op(n){return n[Rp]||null}function _n(n){return n[Tp]||null}function Fp(n){return n[Sp]||null}function KI(n){return n[Ap]||null}function yi(n){return{\u0275providers:n}}function YI(...n){return{\u0275providers:Lp(!0,n),\u0275fromNgModule:!0}}function Lp(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Yu(e,s=>{let c=s;zu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&QI(i,o),t}function QI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Vp(i,o=>{e(o,r)})}}function zu(n,e,t,r){if(n=it(n),!n)return!1;let i=null,o=hp(n),s=!o&&_n(n);if(!o&&!s){let u=n.ngModule;if(o=hp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)zu(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Yu(o.imports,h=>{zu(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&QI(l,e)}if(!c){let l=wr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ht},i),e({provide:Pp,useValue:i,multi:!0},i),e({provide:_i,useValue:()=>qe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Vp(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Vp(n,e){for(let t of n)Cp(t)&&(t=t.\u0275providers),Array.isArray(t)?Vp(t,e):e(t)}var mM=_e({provide:String,useValue:_e});function ZI(n){return n!==null&&typeof n=="object"&&mM in n}function _M(n){return!!(n&&n.useExisting)}function yM(n){return!!(n&&n.useFactory)}function fi(n){return typeof n=="function"}function XI(n){return!!n.useClass}var jp=new V(""),Hu={},LI={},dp;function jo(){return dp===void 0&&(dp=new Ia),dp}var Ve=class{},pi=class extends Ve{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,yp(e,s=>this.processProvider(s)),this.records.set(xp,Lo(void 0,this)),i.has("environment")&&this.records.set(Ve,Lo(void 0,this));let o=this.records.get(jp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Pp,ht,{self:!0}))}retrieve(e,t){let r=hi(t)||0;try{return this.get(e,di,r)}catch(i){if(Po(i))return i;throw i}}destroy(){Ea(this),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return Ea(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ea(this);let t=gn(this),r=Et(void 0),i;try{return e()}finally{gn(t),Et(r)}}get(e,t=di,r){if(Ea(this),e.hasOwnProperty(FI))return e[FI](this);let i=hi(r),o,s=gn(this),c=Et(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=DM(e)&&ba(e);h&&this.injectableDefInScope(h)?l=Lo(_p(e),Hu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?jo():this.parent;return t=i&8&&t===di?null:t,u.get(e,t)}catch(u){let l=lM(u);throw l===-200||l===-201?new Q(l,null):u}finally{Et(c),gn(s)}}resolveInjectorInitializers(){let e=Y(null),t=gn(this),r=Et(void 0),i;try{let o=this.get(_i,ht,{self:!0});for(let s of o)s()}finally{gn(t),Et(r),Y(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Wn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=it(e);let t=fi(e)?e:it(e&&e.provide),r=EM(e);if(!fi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Lo(void 0,Hu,!0),i.factory=()=>mp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Y(null);try{if(t.value===LI)throw Np(Wn(e));return t.value===Hu&&(t.value=LI,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&IM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Y(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=it(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function _p(n){let e=ba(n),t=e!==null?e.factory:wr(n);if(t!==null)return t;if(n instanceof V)throw new Q(204,!1);if(n instanceof Function)return vM(n);throw new Q(204,!1)}function vM(n){if(n.length>0)throw new Q(204,!1);let t=aM(n);return t!==null?()=>t.factory(n):()=>new n}function EM(n){if(ZI(n))return Lo(void 0,n.useValue);{let e=Bp(n);return Lo(e,Hu)}}function Bp(n,e,t){let r;if(fi(n)){let i=it(n);return wr(i)||_p(i)}else if(ZI(n))r=()=>it(n.useValue);else if(yM(n))r=()=>n.useFactory(...mp(n.deps||[]));else if(_M(n))r=(i,o)=>qe(it(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=it(n&&(n.useClass||n.provide));if(wM(n))r=()=>new i(...mp(n.deps));else return wr(i)||_p(i)}return r}function Ea(n){if(n.destroyed)throw new Q(205,!1)}function Lo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function wM(n){return!!n.deps}function IM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function DM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function yp(n,e){for(let t of n)Array.isArray(t)?yp(t,e):t&&Cp(t)?yp(t.\u0275providers,e):e(t)}function br(n,e){let t;n instanceof pi?(Ea(n),t=n):t=new gp(n);let r,i=gn(t),o=Et(void 0);try{return e()}finally{gn(i),Et(o)}}function JI(){return HI()!==void 0||xu()!=null}var Kt=0,$=1,K=2,Qe=3,jt=4,wt=5,Bo=6,Uo=7,ot=8,Cr=9,Gn=10,Te=11,Ho=12,Up=13,vi=14,Tt=15,Tr=16,Ei=17,yn=18,Ta=19,Hp=20,zn=21,Xu=22,Kn=23,Mt=24,wi=25,Sa=26,Re=27,eD=1;var Sr=7,Aa=8,Ii=9,ft=10;function vn(n){return Array.isArray(n)&&typeof n[eD]=="object"}function Yt(n){return Array.isArray(n)&&n[eD]===!0}function $p(n){return(n.flags&4)!==0}function Ar(n){return n.componentOffset>-1}function $o(n){return(n.flags&1)===1}function En(n){return!!n.template}function zo(n){return(n[K]&512)!==0}function Di(n){return(n[K]&256)===256}var zp="svg",tD="math";function Bt(n){for(;Array.isArray(n);)n=n[Kt];return n}function Wp(n,e){return Bt(e[n])}function Qt(n,e){return Bt(e[n.index])}function Ra(n,e){return n.data[e]}function qp(n,e){return n[e]}function Gp(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ut(n,e){let t=e[n];return vn(t)?t:t[Kt]}function nD(n){return(n[K]&4)===4}function Ju(n){return(n[K]&128)===128}function rD(n){return Yt(n[Qe])}function wn(n,e){return e==null?null:n[e]}function Kp(n){n[Ei]=0}function Yp(n){n[K]&1024||(n[K]|=1024,Ju(n)&&Rr(n))}function iD(n,e){for(;n>0;)e=e[vi],n--;return e}function Na(n){return!!(n[K]&9216||n[Mt]?.dirty)}function el(n){n[Gn].changeDetectionScheduler?.notify(8),n[K]&64&&(n[K]|=1024),Na(n)&&Rr(n)}function Rr(n){n[Gn].changeDetectionScheduler?.notify(0);let e=Ir(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Ju(e)));)e=Ir(e)}function Qp(n,e){if(Di(n))throw new Q(911,!1);n[zn]===null&&(n[zn]=[]),n[zn].push(e)}function oD(n,e){if(n[zn]===null)return;let t=n[zn].indexOf(e);t!==-1&&n[zn].splice(t,1)}function Ir(n){let e=n[Qe];return Yt(e)?e[Qe]:e}function Zp(n){return n[Uo]??=[]}function Xp(n){return n.cleanup??=[]}function sD(n,e,t,r){let i=Zp(e);i.push(t),n.firstCreatePass&&Xp(n).push(r,i.length-1)}var re={lFrame:vD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vp=!1;function aD(){return re.lFrame.elementDepthCount}function cD(){re.lFrame.elementDepthCount++}function Jp(){re.lFrame.elementDepthCount--}function tl(){return re.bindingsEnabled}function eg(){return re.skipHydrationRootTNode!==null}function tg(n){return re.skipHydrationRootTNode===n}function ng(){re.skipHydrationRootTNode=null}function Z(){return re.lFrame.lView}function Ne(){return re.lFrame.tView}function uD(n){return re.lFrame.contextLView=n,n[ot]}function lD(n){return re.lFrame.contextLView=null,n}function Ge(){let n=rg();for(;n!==null&&n.type===64;)n=n.parent;return n}function rg(){return re.lFrame.currentTNode}function dD(){let n=re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Wo(n,e){let t=re.lFrame;t.currentTNode=n,t.isParent=e}function ig(){return re.lFrame.isParent}function og(){re.lFrame.isParent=!1}function hD(){return re.lFrame.contextLView}function sg(){return vp}function qo(n){let e=vp;return vp=n,e}function ag(){let n=re.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function fD(n){return re.lFrame.bindingIndex=n}function bi(){return re.lFrame.bindingIndex++}function cg(n){let e=re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function pD(){return re.lFrame.inI18n}function gD(n,e){let t=re.lFrame;t.bindingIndex=t.bindingRootIndex=n,nl(e)}function mD(){return re.lFrame.currentDirectiveIndex}function nl(n){re.lFrame.currentDirectiveIndex=n}function _D(n){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function rl(){return re.lFrame.currentQueryIndex}function ka(n){re.lFrame.currentQueryIndex=n}function bM(n){let e=n[$];return e.type===2?e.declTNode:e.type===1?n[wt]:null}function ug(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=bM(o),i===null||(o=o[vi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=re.lFrame=yD();return r.currentTNode=e,r.lView=n,!0}function il(n){let e=yD(),t=n[$];re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yD(){let n=re.lFrame,e=n===null?null:n.child;return e===null?vD(n):e}function vD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ED(){let n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var lg=ED;function ol(){let n=ED();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wD(n){return(re.lFrame.contextLView=iD(n,re.lFrame.contextLView))[ot]}function Nr(){return re.lFrame.selectedIndex}function kr(n){re.lFrame.selectedIndex=n}function Ma(){let n=re.lFrame;return Ra(n.tView,n.selectedIndex)}function ID(){re.lFrame.currentNamespace=zp}function DD(){return re.lFrame.currentNamespace}var bD=!0;function sl(){return bD}function xa(n){bD=n}function Ep(n,e=null,t=null,r){let i=dg(n,e,t,r);return i.resolveInjectorInitializers(),i}function dg(n,e=null,t=null,r,i=new Set){let o=[t||ht,YI(n)];return r=r||(typeof n=="object"?void 0:Wn(n)),new pi(o,e||jo(),r||null,i)}var le=class n{static THROW_IF_NOT_FOUND=di;static NULL=new Ia;static create(e,t){if(Array.isArray(e))return Ep({name:""},t,e,"");{let r=e.name??"";return Ep({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>qe(xp)});static __NG_ELEMENT_ID__=-1},De=new V(""),Zt=(()=>{class n{static __NG_ELEMENT_ID__=CM;static __NG_ENV_ID__=t=>t}return n})(),Da=class extends Zt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Di(this._lView)}onDestroy(e){let t=this._lView;return Qp(t,e),()=>oD(t,e)}};function CM(){return new Da(Z())}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Xt=new V("",{providedIn:"root",factory:()=>{let n=w(Ve),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(qn),e.handleError(t))}}}),CD={provide:_i,useValue:()=>void w(qn),multi:!0};function Go(n){return typeof n=="function"&&n[We]!==void 0}function st(n,e){let[t,r,i]=up(n,e?.equal),o=t,s=o[We];return o.set=r,o.update=i,o.asReadonly=hg.bind(o),o}function hg(){let n=this[We];if(n.readonlyFn===void 0){let e=()=>this();e[We]=n,n.readonlyFn=e}return n.readonlyFn}function fg(n){return Go(n)&&typeof n.set=="function"}var Ci=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=TM}return n})();function TM(){return new Ci(Z(),Ge())}var Vt=class{},al=new V("",{providedIn:"root",factory:()=>!1});var pg=new V(""),gg=new V(""),Mr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Hn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ti=(()=>{class n{internalPendingTasks=w(Mr);scheduler=w(Vt);errorHandler=w(Xt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})();function Si(...n){}var Pa=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new wp})}return n})(),wp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function es(n){return{toString:n}.toString()}var cl="__parameters__";function OM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function FM(n,e,t){return es(()=>{let r=OM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(cl)?u[cl]:Object.defineProperty(u,cl,{value:[]})[cl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var bn=$I(FM("Optional"),8);function LM(n){return typeof n=="function"}var pl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function XD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var At=(()=>{let n=()=>JD;return n.ngInherit=!0,n})();function JD(n){return n.type.prototype.ngOnChanges&&(n.setInput=jM),VM}function VM(){let n=tb(this),e=n?.current;if(e){let t=n.previous;if(t===Dr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function jM(n,e,t,r,i){let o=this.declaredInputs[r],s=tb(n)||BM(n,{previous:Dr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new pl(l&&l.currentValue,t,u===Dr),XD(n,e,i,t)}var eb="__ngSimpleChanges__";function tb(n){return n[eb]||null}function BM(n,e){return n[eb]=e}var TD=[];var we=function(n,e=null,t){for(let r=0;r<TD.length;r++){let i=TD[r];i(n,e,t)}};function UM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=JD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function nb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function ll(n,e,t){rb(n,e,3,t)}function dl(n,e,t,r){(n[K]&3)===t&&rb(n,e,t,r)}function mg(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function rb(n,e,t,r){let i=r!==void 0?n[Ei]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Ei]+=65536),(c<o||o==-1)&&(HM(n,t,e,u),n[Ei]=(n[Ei]&4294901760)+u+2),u++}function SD(n,e){we(4,n,e);let t=Y(null);try{e.call(n)}finally{Y(t),we(5,n,e)}}function HM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[K]>>14<n[Ei]>>16&&(n[K]&3)===e&&(n[K]+=16384,SD(c,o)):SD(c,o)}var Yo=-1,Ri=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function $M(n){return(n.flags&8)!==0}function zM(n){return(n.flags&16)!==0}function WM(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];qM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ib(n){return n===3||n===4||n===6}function qM(n){return n.charCodeAt(0)===64}function Qo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?AD(n,t,i,null,e[++r]):AD(n,t,i,null,null))}}return n}function AD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function ob(n){return n!==Yo}function gl(n){return n&32767}function GM(n){return n>>16}function ml(n,e){let t=GM(n),r=e;for(;t>0;)r=r[vi],t--;return r}var Tg=!0;function _l(n){let e=Tg;return Tg=n,e}var KM=256,sb=KM-1,ab=5,YM=0,In={};function QM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(mi)&&(r=t[mi]),r==null&&(r=t[mi]=YM++);let i=r&sb,o=1<<i;e.data[n+(i>>ab)]|=o}function yl(n,e){let t=cb(n,e);if(t!==-1)return t;let r=e[$];r.firstCreatePass&&(n.injectorIndex=e.length,_g(r.data,n),_g(e,null),_g(r.blueprint,null));let i=Xg(n,e),o=n.injectorIndex;if(ob(i)){let s=gl(i),c=ml(i,e),u=c[$].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function _g(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Xg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=fb(i),r===null)return Yo;if(t++,i=i[vi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Yo}function Sg(n,e,t){QM(n,e,t)}function ZM(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ib(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function ub(n,e,t){if(t&8||n!==void 0)return n;Ku(e,"NodeInjector")}function lb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Cr],o=Et(void 0);try{return i?i.get(e,r,t&8):kp(e,r,t&8)}finally{Et(o)}}return ub(r,e,t)}function db(n,e,t,r=0,i){if(n!==null){if(e[K]&2048&&!(r&2)){let s=tx(n,e,t,r,In);if(s!==In)return s}let o=hb(n,e,t,r,In);if(o!==In)return o}return lb(e,t,r,i)}function hb(n,e,t,r,i){let o=JM(t);if(typeof o=="function"){if(!ug(e,n,r))return r&1?ub(i,t,r):lb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ku(t);else return s}finally{lg()}}else if(typeof o=="number"){let s=null,c=cb(n,e),u=Yo,l=r&1?e[Tt][wt]:null;for((c===-1||r&4)&&(u=c===-1?Xg(n,e):e[c+8],u===Yo||!ND(r,!1)?c=-1:(s=e[$],c=gl(u),e=ml(u,e)));c!==-1;){let h=e[$];if(RD(o,c,h.data)){let p=XM(c,e,t,s,r,l);if(p!==In)return p}u=e[c+8],u!==Yo&&ND(r,e[$].data[c+8]===l)&&RD(o,c,e)?(s=h,c=gl(u),e=ml(u,e)):c=-1}}return i}function XM(n,e,t,r,i,o){let s=e[$],c=s.data[n+8],u=r==null?Ar(c)&&Tg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=hl(c,s,t,u,l);return h!==null?La(e,s,h,c,i):In}function hl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let _=p;_<m;_++){let T=s[_];if(_<u&&t===T||_>=u&&T.type===t)return _}if(i){let _=s[u];if(_&&En(_)&&_.type===t)return u}return null}function La(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ri){let c=o;if(c.resolving){let _=jI(s[t]);throw Np(_)}let u=_l(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],h,p=c.injectImpl?Et(c.injectImpl):null,m=ug(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&UM(t,s[t],e)}finally{p!==null&&Et(p),_l(u),c.resolving=!1,lg()}}return o}function JM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(mi)?n[mi]:void 0;return typeof e=="number"?e>=0?e&sb:ex:e}function RD(n,e,t){let r=1<<n;return!!(t[e+(n>>ab)]&r)}function ND(n,e){return!(n&2)&&!(n&1&&e)}var Ai=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return db(this._tNode,this._lView,e,hi(r),t)}};function ex(){return new Ai(Ge(),Z())}function Mi(n){return es(()=>{let e=n.prototype.constructor,t=e[wa]||Ag(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[wa]||Ag(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ag(n){return bp(n)?()=>{let e=Ag(it(n));return e&&e()}:wr(n)}function tx(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!zo(s);){let c=hb(o,s,t,r|2,In);if(c!==In)return c;let u=o.parent;if(!u){let l=s[Hp];if(l){let h=l.get(t,In,r);if(h!==In)return h}u=fb(s),s=s[vi]}o=u}return i}function fb(n){let e=n[$],t=e.type;return t===2?e.declTNode:t===1?n[wt]:null}function Jg(n){return ZM(Ge(),n)}function nx(){return ts(Ge(),Z())}function ts(n,e){return new ye(Qt(n,e))}var ye=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=nx}return n})();function pb(n){return n instanceof ye?n.nativeElement:n}function rx(){return this._results[Symbol.iterator]()}var Ni=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new te}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=WI(e);(this._changesDetected=!zI(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=rx};function gb(n){return(n.flags&128)===128}var em=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(em||{}),mb=new Map,ix=0;function ox(){return ix++}function sx(n){mb.set(n[Ta],n)}function Rg(n){mb.delete(n[Ta])}var kD="__ngContext__";function Zo(n,e){vn(e)?(n[kD]=e[Ta],sx(e)):n[kD]=e}function _b(n){return vb(n[Ho])}function yb(n){return vb(n[jt])}function vb(n){for(;n!==null&&!Yt(n);)n=n[jt];return n}var Ng;function ax(n){Ng=n}function Eb(){if(Ng!==void 0)return Ng;if(typeof document<"u")return document;throw new Q(210,!1)}var tm=new V("",{providedIn:"root",factory:()=>cx}),cx="ng",wb=new V(""),$a=new V("",{providedIn:"platform",factory:()=>"unknown"});var nm=new V(""),rm=new V("",{providedIn:"root",factory:()=>Eb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ux="h",lx="b";var Ib=!1,Db=new V("",{providedIn:"root",factory:()=>Ib});var dx=new V("");var hx=(n,e,t,r)=>{};function fx(n,e,t,r){hx(n,e,t,r)}function xl(n){return(n.flags&32)===32}var px=()=>null;function bb(n,e,t=!1){return px(n,e,t)}function Cb(n,e){let t=n.contentQueries;if(t!==null){let r=Y(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];ka(o),c.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function kg(n,e,t){ka(0);let r=Y(null);try{e(n,t)}finally{Y(r)}}function im(n,e,t){if($p(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{Y(r)}}}var Xo=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Xo||{});var Mg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dp})`}};function Pl(n){return n instanceof Mg?n.changingThisBreaksApplicationSecurity:n}var gx=/^>|^->|<!--|-->|--!>|<!-$/g,mx=/(<|>)/g,_x="\u200B$1\u200B";function yx(n){return n.replace(gx,e=>e.replace(mx,_x))}function vx(n){return n.ownerDocument.defaultView}function Tb(n){return n instanceof Function?n():n}function Ex(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Sb="ng-template";function wx(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Ex(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(om(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function om(n){return n.type===4&&n.value!==Sb}function Ix(n,e,t){let r=n.type===4&&!t?Sb:n.value;return e===r}function Dx(n,e,t){let r=4,i=n.attrs,o=i!==null?Tx(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Jt(r)&&!Jt(u))return!1;if(s&&Jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Ix(n,u,t)||u===""&&e.length===1){if(Jt(r))return!1;s=!0}}else if(r&8){if(i===null||!wx(n,i,u,t)){if(Jt(r))return!1;s=!0}}else{let l=e[++c],h=bx(u,i,om(n),t);if(h===-1){if(Jt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Jt(r))return!1;s=!0}}}}return Jt(r)||s}function Jt(n){return(n&1)===0}function bx(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Sx(e,n)}function Ab(n,e,t=!1){for(let r=0;r<e.length;r++)if(Dx(n,e[r],t))return!0;return!1}function Cx(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Tx(n){for(let e=0;e<n.length;e++){let t=n[e];if(ib(t))return e}return n.length}function Sx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ax(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function MD(n,e){return n?":not("+e.trim()+")":e}function Rx(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jt(s)&&(e+=MD(o,i),i=""),r=s,o=o||!Jt(r);t++}return i!==""&&(e+=MD(o,i)),e}function Nx(n){return n.map(Rx).join(",")}function kx(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Jt(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var xt={};function Mx(n,e){return n.createText(e)}function xx(n,e,t){n.setValue(e,t)}function Px(n,e){return n.createComment(yx(e))}function Rb(n,e,t){return n.createElement(e,t)}function vl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Nb(n,e,t){n.appendChild(e,t)}function xD(n,e,t,r,i){r!==null?vl(n,e,t,r,i):Nb(n,e,t)}function Ox(n,e,t,r){n.removeChild(null,e,t,r)}function Fx(n,e,t){n.setAttribute(e,"style",t)}function Lx(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&WM(n,e,r),i!==null&&Lx(n,e,i),o!==null&&Fx(n,e,o)}function sm(n,e,t,r,i,o,s,c,u,l,h){let p=Re+r,m=p+i,_=Vx(p,m),T=typeof l=="function"?l():l;return _[$]={type:n,blueprint:_,template:t,queries:null,viewQuery:c,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function Vx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xt);return t}function jx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=sm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function am(n,e,t,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[Kt]=i,p[K]=r|4|128|8|64|1024,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),Kp(p),p[Qe]=p[vi]=n,p[ot]=t,p[Gn]=s||n&&n[Gn],p[Te]=c||n&&n[Te],p[Cr]=u||n&&n[Cr]||null,p[wt]=o,p[Ta]=ox(),p[Bo]=h,p[Hp]=l,p[Tt]=e.type==2?n[Tt]:p,p}function Bx(n,e,t){let r=Qt(e,n),i=jx(t),o=n[Gn].rendererFactory,s=cm(n,am(n,i,null,Mb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Mb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function xb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cm(n,e){return n[Ho]?n[Up][jt]=e:n[Ho]=e,n[Up]=e,e}function za(n=1){Pb(Ne(),Z(),Nr()+n,!1)}function Pb(n,e,t,r){if(!r)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ll(e,o,t)}else{let o=n.preOrderHooks;o!==null&&dl(e,o,0,t)}kr(t)}var Ol=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ol||{});function xg(n,e,t,r){let i=Y(null);try{let[o,s,c]=n.inputs[t],u=null;(s&Ol.SignalBased)!==0&&(u=e[o][We]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):XD(e,u,o,r)}finally{Y(i)}}var Va=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Va||{}),Ux;function um(n,e){return Ux(n,e)}var El=new Set,Fl=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Fl||{}),ns=new V(""),PD=new Set;function xi(n){PD.has(n)||(PD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ob=!1,Pg=class extends te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,JI()&&(this.destroyRef=w(Zt,{optional:!0})??void 0,this.pendingTasks=w(Mr,{optional:!0})??void 0)}emit(e){let t=Y(null);try{super.next(e)}finally{Y(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof me&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ie=Pg;function Fb(n){let e,t;function r(){n=Si;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function OD(n){return queueMicrotask(()=>n()),()=>{n=Si}}var lm="isAngularZone",wl=lm+"_ID",Hx=0,ie=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ie(!1);onMicrotaskEmpty=new Ie(!1);onStable=new Ie(!1);onError=new Ie(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ob}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Wx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$x,Si,Si);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},$x={};function dm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Fb(()=>{n.callbackScheduled=!1,Og(n),n.isCheckStableRunning=!0,dm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Og(n)}function Wx(n){let e=()=>{zx(n)},t=Hx++;n._inner=n._inner.fork({name:"angular",properties:{[lm]:!0,[wl]:t,[wl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(qx(u))return r.invokeTask(o,s,c,u);try{return FD(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),LD(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return FD(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Gx(u)&&e(),LD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Og(n),dm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Og(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function FD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LD(n){n._nesting--,dm(n)}var Il=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ie;onMicrotaskEmpty=new Ie;onStable=new Ie;onError=new Ie;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function qx(n){return Lb(n,"__ignore_ng_zone__")}function Gx(n){return Lb(n,"__scheduler_tick__")}function Lb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ll=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),hm=[0,1,2,3],fm=(()=>{class n{ngZone=w(ie);scheduler=w(Vt);errorHandler=w(qn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){w(ns,{optional:!0})}execute(){let t=this.sequences.size>0;t&&we(16),this.executing=!0;for(let r of hm)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&we(17)}register(t){let{view:r}=t;r!==void 0?((r[wi]??=[]).push(t),Rr(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Fl.AFTER_NEXT_RENDER,t):t()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),ja=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[wi];e&&(this.view[wi]=e.filter(t=>t!==this))}};function Pt(n,e){let t=e?.injector??w(le);return xi("NgAfterNextRender"),Yx(n,t,e,!0)}function Kx(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Yx(n,e,t,r){let i=e.get(Ll);i.impl??=e.get(fm);let o=e.get(ns,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Zt):null,c=e.get(Ci,null,{optional:!0}),u=new ja(i.impl,Kx(n),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Qx=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Vb(n,e){let t=n.get(Qx);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function Zx(n,e){for(let[t,r]of e)Vb(n,r.animateFns)}function VD(n,e,t,r){let i=n?.[Sa]?.enter;e!==null&&i&&i.has(t.index)&&Zx(r,i)}function Ko(n,e,t,r,i,o,s,c){if(i!=null){let u,l=!1;Yt(i)?u=i:vn(i)&&(l=!0,i=i[Kt]);let h=Bt(i);n===0&&r!==null?(VD(c,r,o,t),s==null?Nb(e,r,h):vl(e,r,h,s||null,!0)):n===1&&r!==null?(VD(c,r,o,t),vl(e,r,h,s||null,!0)):n===2?jD(c,o,t,p=>{Ox(e,h,l,p)}):n===3&&jD(c,o,t,()=>{e.destroyNode(h)}),u!=null&&cP(e,n,t,u,o,r,s)}}function Xx(n,e){jb(n,e),e[Kt]=null,e[wt]=null}function Jx(n,e,t,r,i,o){r[Kt]=i,r[wt]=e,Vl(n,r,t,1,i,o)}function jb(n,e){e[Gn].changeDetectionScheduler?.notify(9),Vl(n,e,e[Te],2,null,null)}function eP(n){let e=n[Ho];if(!e)return yg(n[$],n);for(;e;){let t=null;if(vn(e))t=e[Ho];else{let r=e[ft];r&&(t=r)}if(!t){for(;e&&!e[jt]&&e!==n;)vn(e)&&yg(e[$],e),e=e[Qe];e===null&&(e=n),vn(e)&&yg(e[$],e),t=e&&e[jt]}e=t}}function pm(n,e){let t=n[Ii],r=t.indexOf(e);t.splice(r,1)}function gm(n,e){if(Di(e))return;let t=e[Te];t.destroyNode&&Vl(n,e,t,3,null,null),eP(e)}function yg(n,e){if(Di(e))return;let t=Y(null);try{e[K]&=-129,e[K]|=256,e[Mt]&&vr(e[Mt]),rP(n,e),nP(n,e),e[$].type===1&&e[Te].destroy();let r=e[Tr];if(r!==null&&Yt(e[Qe])){r!==e[Qe]&&pm(r,e);let i=e[yn];i!==null&&i.detachView(n)}Rg(e)}finally{Y(t)}}function jD(n,e,t,r){let i=n?.[Sa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&El.add(n),Vb(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();c.push(h)}i.running=Promise.allSettled(c),tP(n,r)}else n&&El.delete(n),r(!1)})}function tP(n,e){let t=n[Sa]?.running;if(t){t.then(()=>{n[Sa].running=void 0,El.delete(n),e(!0)});return}e(!1)}function nP(n,e){let t=n.cleanup,r=e[Uo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[Uo]=null);let i=e[zn];if(i!==null){e[zn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Kn];if(o!==null){e[Kn]=null;for(let s of o)s.destroy()}}function rP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ri)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];we(4,c,u);try{u.call(c)}finally{we(5,c,u)}}else{we(4,i,o);try{o.call(i)}finally{we(5,i,o)}}}}}function Bb(n,e,t){return iP(n,e.parent,t)}function iP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Kt];if(Ar(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Xo.None||i===Xo.Emulated)return null}return Qt(r,t)}function Ub(n,e,t){return sP(n,e,t)}function oP(n,e,t){return n.type&40?Qt(n,t):null}var sP=oP,BD;function mm(n,e,t,r){let i=Bb(n,r,e),o=e[Te],s=r.parent||e[wt],c=Ub(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)xD(o,i,t[u],c,!1);else xD(o,i,t,c,!1);BD!==void 0&&BD(o,r,e,t,i)}function Oa(n,e){if(e!==null){let t=e.type;if(t&3)return Qt(e,n);if(t&4)return Fg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Oa(n,r);{let i=n[e.index];return Yt(i)?Fg(-1,i):Bt(i)}}else{if(t&128)return Oa(n,e.next);if(t&32)return um(e,n)()||Bt(n[e.index]);{let r=Hb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ir(n[Tt]);return Oa(i,r)}else return Oa(n,e.next)}}}return null}function Hb(n,e){if(e!==null){let r=n[Tt][wt],i=e.projection;return r.projection[i]}return null}function Fg(n,e){let t=ft+n+1;if(t<e.length){let r=e[t],i=r[$].firstChild;if(i!==null)return Oa(r,i)}return e[Sr]}function _m(n,e,t,r,i,o,s){for(;t!=null;){let c=r[Cr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Zo(Bt(u),r),t.flags|=2),!xl(t))if(l&8)_m(n,e,t.child,r,i,o,!1),Ko(e,n,c,i,u,t,o,r);else if(l&32){let h=um(t,r),p;for(;p=h();)Ko(e,n,c,i,p,t,o,r);Ko(e,n,c,i,u,t,o,r)}else l&16?$b(n,e,r,t,i,o):Ko(e,n,c,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Vl(n,e,t,r,i,o){_m(t,r,n.firstChild,e,i,o,!1)}function aP(n,e,t){let r=e[Te],i=Bb(n,t,e),o=t.parent||e[wt],s=Ub(o,t,e);$b(r,0,e,t,i,s)}function $b(n,e,t,r,i,o){let s=t[Tt],u=s[wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ko(e,n,t[Cr],i,h,r,o,t)}else{let l=u,h=s[Qe];gb(r)&&(l.flags|=128),_m(n,e,l,h,i,o,!0)}}function cP(n,e,t,r,i,o,s){let c=r[Sr],u=Bt(r);c!==u&&Ko(e,n,t,o,c,i,s);for(let l=ft;l<r.length;l++){let h=r[l];Vl(h[$],h,n,e,o,c)}}function uP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Va.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Va.Important),n.setStyle(t,r,i,o))}}function zb(n,e,t,r,i){let o=Nr(),s=r&2;try{kr(-1),s&&e.length>Re&&Pb(n,e,Re,!1),we(s?2:0,i,t),t(r,i)}finally{kr(o),we(s?3:1,i,t)}}function jl(n,e,t){gP(n,e,t),(t.flags&64)===64&&mP(n,e,t)}function Wa(n,e,t=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function lP(n,e,t,r){let o=r.get(Db,Ib)||t===Xo.ShadowDom,s=n.selectRootElement(e,o);return dP(s),s}function dP(n){hP(n)}var hP=()=>null;function fP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Wb(n,e,t,r,i,o){let s=e[$];if(wm(n,s,e,t,r)){Ar(n)&&pP(e,n.index);return}n.type&3&&(t=fP(t)),qb(n,e,t,r,i,o)}function qb(n,e,t,r,i,o){if(n.type&3){let s=Qt(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function pP(n,e){let t=Ut(e,n);t[K]&16||(t[K]|=64)}function gP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ar(t)&&Bx(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||yl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=La(e,n,s,t);if(Zo(u,e),o!==null&&EP(e,s-r,u,c,t,o),En(c)){let l=Ut(t.index,e);l[ot]=La(e,n,s,t)}}}function mP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=mD();try{kr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];nl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&_P(u,l)}}finally{kr(-1),nl(s)}}function _P(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ym(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Ab(e,o.selectors,!1)&&(r??=[],En(o)?r.unshift(o):r.push(o))}return r}function yP(n,e,t,r,i,o){let s=Qt(n,e);vP(e[Te],s,o,n.value,t,r,i)}function vP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?Gu(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function EP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];xg(r,t,u,l)}}function vm(n,e,t,r,i){let o=Re+t,s=e[$],c=i(s,e,n,r,t);e[o]=c,Wo(n,!0);let u=n.type===2;return u?(kb(e[Te],c,n),(aD()===0||$o(n))&&Zo(c,e),cD()):Zo(c,e),sl()&&(!u||!xl(n))&&mm(s,e,c,n),n}function Em(n){let e=n;return ig()?og():(e=e.parent,Wo(e,!1)),e}function wP(n,e){let t=n[Cr];if(!t)return;let r;try{r=t.get(Xt,null)}catch{r=null}r?.(e)}function wm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];xg(p,t[l],h,i),c=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];xg(h,l,r,i),c=!0}return c}function IP(n,e){let t=Ut(e,n),r=t[$];DP(r,t);let i=t[Kt];i!==null&&t[Bo]===null&&(t[Bo]=bb(i,t[Cr])),we(18),Im(r,t,t[ot]),we(19,t[ot])}function DP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Im(n,e,t){il(e);try{let r=n.viewQuery;r!==null&&kg(1,r,t);let i=n.template;i!==null&&zb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[yn]?.finishViewCreation(n),n.staticContentQueries&&Cb(n,e),n.staticViewQueries&&kg(2,n.viewQuery,t);let o=n.components;o!==null&&bP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,ol()}}function bP(n,e){for(let t=0;t<e.length;t++)IP(n,e[t])}function Dm(n,e,t,r){let i=Y(null);try{let o=e.tView,c=n[K]&4096?4096:16,u=am(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Tr]=l;let h=n[yn];return h!==null&&(u[yn]=h.createEmbeddedView(o)),Im(o,u,t),u}finally{Y(i)}}function Dl(n,e){return!e||e.firstChild===null||gb(n)}function Ba(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Bt(o)),Yt(o)&&Gb(o,r);let s=t.type;if(s&8)Ba(n,e,t.child,r);else if(s&32){let c=um(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=Hb(e,t);if(Array.isArray(c))r.push(...c);else{let u=Ir(e[Tt]);Ba(u[$],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Gb(n,e){for(let t=ft;t<n.length;t++){let r=n[t],i=r[$].firstChild;i!==null&&Ba(r[$],r,i,e)}n[Sr]!==n[Kt]&&e.push(n[Sr])}function Kb(n){if(n[wi]!==null){for(let e of n[wi])e.impl.addSequence(e);n[wi].length=0}}var Yb=[];function CP(n){return n[Mt]??TP(n)}function TP(n){let e=Yb.pop()??Object.create(AP);return e.lView=n,e}function SP(n){n.lView[Mt]!==n&&(n.lView=null,Yb.push(n))}var AP=ce(J({},ai),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Rr(n.lView)},consumerOnSignalRead(){this.lView[Mt]=this}});function RP(n){let e=n[Mt]??Object.create(NP);return e.lView=n,e}var NP=ce(J({},ai),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ir(n.lView);for(;e&&!Qb(e[$]);)e=Ir(e);e&&Yp(e)},consumerOnSignalRead(){this.lView[Mt]=this}});function Qb(n){return n.type!==2}function Zb(n){if(n[Kn]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Kn])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[K]&8192)}}var kP=100;function Xb(n,e=0){let r=n[Gn].rendererFactory,i=!1;i||r.begin?.();try{MP(n,e)}finally{i||r.end?.()}}function MP(n,e){let t=sg();try{qo(!0),Lg(n,e);let r=0;for(;Na(n);){if(r===kP)throw new Q(103,!1);r++,Lg(n,1)}}finally{qo(t)}}function xP(n,e,t,r){if(Di(e))return;let i=e[K],o=!1,s=!1;il(e);let c=!0,u=null,l=null;o||(Qb(n)?(l=CP(e),u=yr(l)):Vu()===null?(c=!1,l=RP(e),u=yr(l)):e[Mt]&&(vr(e[Mt]),e[Mt]=null));try{Kp(e),fD(n.bindingStartIndex),t!==null&&zb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let _=n.preOrderCheckHooks;_!==null&&ll(e,_,null)}else{let _=n.preOrderHooks;_!==null&&dl(e,_,0,null),mg(e,0)}if(s||PP(e),Zb(e),Jb(e,0),n.contentQueries!==null&&Cb(n,e),!o)if(h){let _=n.contentCheckHooks;_!==null&&ll(e,_)}else{let _=n.contentHooks;_!==null&&dl(e,_,1),mg(e,1)}FP(n,e);let p=n.components;p!==null&&tC(e,p,0);let m=n.viewQuery;if(m!==null&&kg(2,m,r),!o)if(h){let _=n.viewCheckHooks;_!==null&&ll(e,_)}else{let _=n.viewHooks;_!==null&&dl(e,_,2),mg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Xu]){for(let _ of e[Xu])_();e[Xu]=null}o||(Kb(e),e[K]&=-73)}catch(h){throw o||Rr(e),h}finally{l!==null&&(ui(l,u),c&&SP(l)),ol()}}function Jb(n,e){for(let t=_b(n);t!==null;t=yb(t))for(let r=ft;r<t.length;r++){let i=t[r];eC(i,e)}}function PP(n){for(let e=_b(n);e!==null;e=yb(e)){if(!(e[K]&2))continue;let t=e[Ii];for(let r=0;r<t.length;r++){let i=t[r];Yp(i)}}}function OP(n,e,t){we(18);let r=Ut(e,n);eC(r,t),we(19,r[ot])}function eC(n,e){Ju(n)&&Lg(n,e)}function Lg(n,e){let r=n[$],i=n[K],o=n[Mt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&li(o)),s||=!1,o&&(o.dirty=!1),n[K]&=-9217,s)xP(r,n,r.template,n[ot]);else if(i&8192){let c=Y(null);try{Zb(n),Jb(n,1);let u=r.components;u!==null&&tC(n,u,1),Kb(n)}finally{Y(c)}}}function tC(n,e,t){for(let r=0;r<e.length;r++)OP(n,e[r],t)}function FP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)kr(~i);else{let o=i,s=t[++r],c=t[++r];gD(s,o);let u=e[o];we(24,u),c(2,u),we(25,u)}}}finally{kr(-1)}}function bm(n,e){let t=sg()?64:1088;for(n[Gn].changeDetectionScheduler?.notify(e);n;){n[K]|=t;let r=Ir(n);if(zo(n)&&!r)return n;n=r}return null}function nC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function LP(n,e){let t=ft+e;if(t<n.length)return n[t]}function Cm(n,e,t,r=!0){let i=e[$];if(jP(i,e,n,t),r){let s=Fg(t,n),c=e[Te],u=c.parentNode(n[Sr]);u!==null&&Jx(i,n[wt],c,e,u,s)}let o=e[Bo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function VP(n,e){let t=bl(n,e);return t!==void 0&&gm(t[$],t),t}function bl(n,e){if(n.length<=ft)return;let t=ft+e,r=n[t];if(r){let i=r[Tr];i!==null&&i!==n&&pm(i,r),e>0&&(n[t-1][jt]=r[jt]);let o=Ca(n,ft+e);Xx(r[$],r);let s=o[yn];s!==null&&s.detachView(o[$]),r[Qe]=null,r[jt]=null,r[K]&=-129}return r}function jP(n,e,t,r){let i=ft+r,o=t.length;r>0&&(t[i-1][jt]=e),r<o-ft?(e[jt]=t[i],Mp(t,ft+r,e)):(t.push(e),e[jt]=null),e[Qe]=t;let s=e[Tr];s!==null&&t!==s&&rC(s,e);let c=e[yn];c!==null&&c.insertView(n),el(e),e[K]|=128}function rC(n,e){let t=n[Ii],r=e[Qe];if(vn(r))n[K]|=2;else{let i=r[Qe][Tt];e[Tt]!==i&&(n[K]|=2)}t===null?n[Ii]=[e]:t.push(e)}var xr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[$];return Ba(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[ot]}set context(e){this._lView[ot]=e}get destroyed(){return Di(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(Yt(e)){let t=e[Aa],r=t?t.indexOf(this):-1;r>-1&&(bl(e,r),Ca(t,r))}this._attachedToViewContainer=!1}gm(this._lView[$],this._lView)}onDestroy(e){Qp(this._lView,e)}markForCheck(){bm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){el(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,Xb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zo(this._lView),t=this._lView[Tr];t!==null&&!e&&pm(t,this._lView),jb(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=zo(this._lView),r=this._lView[Tr];r!==null&&!t&&rC(r,this._lView),el(this._lView)}};var je=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=BP;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Dm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new xr(o)}}return n})();function BP(){return Bl(Ge(),Z())}function Bl(n,e){return n.type&4?new je(e,n,ts(n,e)):null}function rs(n,e,t,r,i){let o=n.data[e];if(o===null)o=UP(n,e,t,r,i),pD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=dD();o.injectorIndex=s===null?-1:s.injectorIndex}return Wo(o,!0),o}function UP(n,e,t,r,i){let o=rg(),s=ig(),c=s?o:o&&o.parent,u=n.data[e]=$P(n,c,t,e,r,i);return HP(n,u,o,s),u}function HP(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function $P(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return eg()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var N8=new RegExp(`^(\\d+)*(${lx}|${ux})*(.*)`);var zP=()=>null,WP=()=>null;function Vg(n,e){return zP(n,e)}function qP(n,e,t){return WP(n,e,t)}var iC=class{},Ul=class{},jg=class{resolveComponentFactory(e){throw new Q(917,!1)}},qa=class{static NULL=new jg},St=class{},Cn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>GP()}return n})();function GP(){let n=Z(),e=Ge(),t=Ut(e.index,n);return(vn(t)?t:n)[Te]}var oC=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var fl={},Bg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,fl,r);return i!==fl||t===fl?i:this.parentInjector.get(e,t,r)}};function Cl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Wu(i,c);else if(o==2){let u=c,l=e[++s];r=Wu(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function pe(n,e=0){let t=Z();if(t===null)return qe(n,e);let r=Ge();return db(r,t,it(n),e)}function KP(){let n="invalid";throw new Error(n)}function sC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}ZP(n,e,t,c,o,u,l)}o!==null&&r!==null&&YP(t,r,o)}function YP(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}function QP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ZP(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let _=r[m];!u&&En(_)&&(u=!0,QP(n,t,m)),Sg(yl(t,e),n,_.type)}rO(t,n.data.length,c);for(let m=0;m<c;m++){let _=r[m];_.providersResolver&&_.providersResolver(_)}let l=!1,h=!1,p=xb(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let _=r[m];if(t.mergedAttrs=Qo(t.mergedAttrs,_.hostAttrs),JP(n,t,e,p,_),nO(p,_,i),s!==null&&s.has(_)){let[k,N]=s.get(_);t.directiveToIndex.set(_.type,[p,k+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let T=_.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}XP(n,t,o)}function XP(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))UD(0,e,i,r),UD(1,e,i,r),$D(e,r,!1);else{let o=t.get(i);HD(0,e,o,r),HD(1,e,o,r),$D(e,r,!0)}}}function UD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),aC(e,o)}}function HD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),aC(e,s)}}function aC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function $D(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||om(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function JP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=wr(i.type,!0)),s=new Ri(o,En(i),pe,null);n.blueprint[r]=s,t[r]=s,eO(n,e,r,xb(n,t,i.hostVars,xt),i)}function eO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;tO(s)!=c&&s.push(c),s.push(t,r,o)}}function tO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function nO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;En(e)&&(t[""]=n)}}function rO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Tm(n,e,t,r,i,o,s,c){let u=e[$],l=u.consts,h=wn(l,s),p=rs(u,n,t,r,h);return o&&sC(u,e,p,wn(l,c),i),p.mergedAttrs=Qo(p.mergedAttrs,p.attrs),p.attrs!==null&&Cl(p,p.attrs,!1),p.mergedAttrs!==null&&Cl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Sm(n,e){nb(n,e),$p(e)&&n.queries.elementEnd(e)}function iO(n,e,t,r,i,o){let s=e.consts,c=wn(s,i),u=rs(e,n,t,r,c);if(u.mergedAttrs=Qo(u.mergedAttrs,u.attrs),o!=null){let l=wn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Cl(u,u.attrs,!1),u.mergedAttrs!==null&&Cl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Am(n){return uC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function cC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function uC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function lC(n,e,t){return n[e]=t}function oO(n,e){return n[e]}function Yn(n,e,t){if(t===xt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function vg(n,e,t){return function r(i){let o=Ar(n)?Ut(n.index,e):e;bm(o,5);let s=e[ot],c=zD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=zD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function zD(n,e,t,r){let i=Y(null);try{return we(6,e,t),t(r)!==!1}catch(o){return wP(n,o),!1}finally{we(7,e,t),Y(i)}}function sO(n,e,t,r,i,o,s,c){let u=$o(n),l=!1,h=null;if(!r&&u&&(h=cO(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Qt(n,t),m=r?r(p):p;fx(t,m,o,c);let _=i.listen(m,o,c);if(!aO(o)){let T=r?k=>r(Bt(k[n.index])):n.index;dC(T,e,t,o,c,_,!1)}}return l}function aO(n){return n.startsWith("animation")||n.startsWith("transition")}function cO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[Uo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function dC(n,e,t,r,i,o,s){let c=e.firstCreatePass?Xp(e):null,u=Zp(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function WD(n,e,t,r,i,o){let s=e[t],c=e[$],l=c.data[t].outputs[r],p=s[l].subscribe(o);dC(n.index,c,e,i,o,p,!0)}var Ug=Symbol("BINDING");var Tl=class extends qa{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=_n(e);return new Pr(t,this.ngModule)}};function uO(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ol.SignalBased)!==0};return i&&(o.transform=i),o})}function lO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function dO(n,e,t){let r=e instanceof Ve?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Bg(t,r):t}function hO(n){let e=n.get(St,null);if(e===null)throw new Q(407,!1);let t=n.get(oC,null),r=n.get(Vt,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function fO(n,e){let t=hC(n);return Rb(e,t,t==="svg"?zp:t==="math"?tD:null)}function hC(n){return(n.selectors[0][0]||"div").toLowerCase()}var Pr=class extends Ul{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=lO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Nx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){we(22);let c=Y(null);try{let u=this.componentDef,l=pO(r,u,s,o),h=dO(u,i||this.ngModule,e),p=hO(h),m=p.rendererFactory.createRenderer(null,u),_=r?lP(m,r,u.encapsulation,h):fO(u,m),T=s?.some(qD)||o?.some(P=>typeof P!="function"&&P.bindings.some(qD)),k=am(null,l,null,512|Mb(u),null,null,p,m,h,null,bb(_,h,!0));k[Re]=_,il(k);let N=null;try{let P=Tm(Re,k,2,"#host",()=>l.directiveRegistry,!0,0);kb(m,_,P),Zo(_,k),jl(l,k,P),im(l,P,k),Sm(l,P),t!==void 0&&mO(P,this.ngContentSelectors,t),N=Ut(P.index,k),k[ot]=N[ot],Im(l,k,null)}catch(P){throw N!==null&&Rg(N),Rg(k),P}finally{we(23),ol()}return new Sl(this.componentType,k,!!T)}finally{Y(c)}}};function pO(n,e,t,r){let i=n?["ng-version","20.3.7"]:kx(e.selectors[0]),o=null,s=null,c=0;if(t)for(let h of t)c+=h[Ug].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[Ug].requiredVars;let _=h+1;m.create&&(m.targetIdx=_,(o??=[]).push(m)),m.update&&(m.targetIdx=_,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Fp(p);u.push(m)}return sm(0,null,gO(o,s),1,c,u,null,null,null,[i],null)}function gO(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function qD(n){let e=n[Ug].kind;return e==="input"||e==="twoWay"}var Sl=class extends iC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ra(t[$],Re),this.location=ts(this._tNode,t),this.instance=Ut(this._tNode.index,t)[ot],this.hostView=this.changeDetectorRef=new xr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=wm(r,i[$],i,e,t);this.previousInputValues.set(e,t);let s=Ut(r.index,i);bm(s,1)}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ze=(()=>{class n{static __NG_ELEMENT_ID__=_O}return n})();function _O(){let n=Ge();return pC(n,Z())}var yO=Ze,fC=class extends yO{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=Xg(this._hostTNode,this._hostLView);if(ob(e)){let t=ml(e,this._hostLView),r=gl(e),i=t[$].data[r+8];return new Ai(i,t)}else return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=GD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Vg(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,Dl(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!LM(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,c=N.bindings}let h=u?e:new Pr(_n(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let P=(u?p:this.parentInjector).get(Ve,null);P&&(o=P)}let m=_n(h.componentType??{}),_=Vg(this._lContainer,m?.id??null),T=_?.firstChild??null,k=h.create(p,i,T,o,s,c);return this.insertImpl(k.hostView,l,Dl(this._hostTNode,_)),k}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(rD(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Qe],l=new fC(u,u[wt],u[Qe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Cm(s,i,o,r),e.attachToViewContainerRef(),Mp(Eg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=GD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=bl(this._lContainer,t);r&&(Ca(Eg(this._lContainer),t),gm(r[$],r))}detach(e){let t=this._adjustIndex(e,-1),r=bl(this._lContainer,t);return r&&Ca(Eg(this._lContainer),t)!=null?new xr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function GD(n){return n[Aa]}function Eg(n){return n[Aa]||(n[Aa]=[])}function pC(n,e){let t,r=e[n.index];return Yt(r)?t=r:(t=nC(r,e,null,n),e[n.index]=t,cm(e,t)),EO(t,e,n,r),new fC(t,n,e)}function vO(n,e){let t=n[Te],r=t.createComment(""),i=Qt(e,n),o=t.parentNode(i);return vl(t,o,r,t.nextSibling(i),!1),r}var EO=DO,wO=()=>!1;function IO(n,e,t){return wO(n,e,t)}function DO(n,e,t,r){if(n[Sr])return;let i;t.type&8?i=Bt(r):i=vO(e,t),n[Sr]=i}var Hg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},$g=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Nm(e,t).matches!==null&&this.queries[t].setDirty()}},Al=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=AO(e):this.predicate=e}},zg=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,bO(t,o)),this.matchTNodeWithReadOption(e,t,hl(t,e,o,!1,!1))}else r===je?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ye||i===Ze||i===je&&t.type&4)this.addMatch(t.index,-2);else{let o=hl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function bO(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function CO(n,e){return n.type&11?ts(n,e):n.type&4?Bl(n,e):null}function TO(n,e,t,r){return t===-1?CO(e,n):t===-2?SO(n,e,r):La(n,n[$],t,e)}function SO(n,e,t){if(t===ye)return ts(e,n);if(t===je)return Bl(e,n);if(t===Ze)return pC(e,n)}function gC(n,e,t,r){let i=e[yn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let h=o[l];c.push(TO(e,h,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function qg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=gC(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],h=e[-u];for(let p=ft;p<h.length;p++){let m=h[p];m[Tr]===m[Qe]&&qg(m[$],m,l,r)}if(h[Ii]!==null){let p=h[Ii];for(let m=0;m<p.length;m++){let _=p[m];qg(_[$],_,l,r)}}}}}return r}function Rm(n,e){return n[yn].queries[e].queryList}function mC(n,e,t){let r=new Ni((t&4)===4);return sD(n,e,r,r.destroy),(e[yn]??=new $g).queries.push(new Hg(r))-1}function _C(n,e,t){let r=Ne();return r.firstCreatePass&&(vC(r,new Al(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),mC(r,Z(),e)}function yC(n,e,t,r){let i=Ne();if(i.firstCreatePass){let o=Ge();vC(i,new Al(e,t,r),o.index),RO(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return mC(i,Z(),t)}function AO(n){return n.split(",").map(e=>e.trim())}function vC(n,e,t){n.queries===null&&(n.queries=new zg),n.queries.track(new Wg(e,t))}function RO(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Nm(n,e){return n.queries.getByIndex(e)}function EC(n,e){let t=n[$],r=Nm(t,e);return r.crossesNgTemplate?qg(t,n,e,[]):gC(t,n,r,e)}function wC(n,e,t){let r,i=ya(()=>{r._dirtyCounter();let o=NO(r,n);if(e&&o===void 0)throw new Q(-951,!1);return o});return r=i[We],r._dirtyCounter=st(0),r._flatValue=void 0,i}function km(n){return wC(!0,!1,n)}function Mm(n){return wC(!0,!0,n)}function IC(n,e){let t=n[We];t._lView=Z(),t._queryIndex=e,t._queryList=Rm(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function NO(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[K]&4)return e?void 0:ht;let i=Rm(t,r),o=EC(t,r);return i.reset(o,pb),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var Dn=class{},DC=class{};var Rl=class extends Dn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Op(e);this._bootstrapComponents=Tb(o.bootstrap),this._r3Injector=dg(e,t,[{provide:Dn,useValue:this},{provide:qa,useValue:this.componentFactoryResolver},...r],Wn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nl=class extends DC{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Rl(this.moduleType,e,[])}};var Ua=class extends Dn{injector;componentFactoryResolver=new Tl(this);instance=null;constructor(e){super();let t=new pi([...e.providers,{provide:Dn,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],e.parent||jo(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bC(n,e,t=null){return new Ua({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var kO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Lp(!1,t.type),i=r.length>0?bC([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(qe(Ve))})}return n})();function Tn(n){return es(()=>{let e=CC(n),t=ce(J({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===em.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(kO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xo.Emulated,styles:n.styles||ht,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&xi("NgStandalone"),TC(t);let r=n.dependencies;return t.directiveDefs=KD(r,MO),t.pipeDefs=KD(r,KI),t.id=OO(t),t})}function MO(n){return _n(n)||Fp(n)}function Be(n){return es(()=>({type:n.type,bootstrap:n.bootstrap||ht,declarations:n.declarations||ht,imports:n.imports||ht,exports:n.exports||ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xO(n,e){if(n==null)return Dr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Ol.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function PO(n){if(n==null)return Dr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function oe(n){return es(()=>{let e=CC(n);return TC(e),e})}function xm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function CC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Dr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:xO(n.inputs,e),outputs:PO(n.outputs),debugInfo:null}}function TC(n){n.features?.forEach(e=>e(n))}function KD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function OO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function FO(n){return Object.getPrototypeOf(n.prototype).constructor}function Xe(n){let e=FO(n.type),t=!0,r=[n];for(;e;){let i;if(En(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=wg(n.inputs),s.declaredInputs=wg(n.declaredInputs),s.outputs=wg(n.outputs);let c=i.hostBindings;c&&UO(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&jO(n,u),l&&BO(n,l),LO(n,i),VI(n.outputs,i.outputs),En(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===Xe&&(t=!1)}}e=Object.getPrototypeOf(e)}VO(r)}function LO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function VO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qo(i.hostAttrs,t=Qo(t,i.hostAttrs))}}function wg(n){return n===Dr?{}:n===ht?[]:n}function jO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function BO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function UO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function SC(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Qo(n.mergedAttrs,n.attrs);let h=n.tView=sm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),Wo(n,!1);let u=$O(t,e,n,r);sl()&&mm(t,e,u,n),Zo(u,e);let l=nC(u,e,u,n);e[r+Re]=l,cm(e,l),IO(l,n,e)}function HO(n,e,t,r,i,o,s,c,u,l,h){let p=t+Re,m;return e.firstCreatePass?(m=rs(e,p,4,s||null,c||null),tl()&&sC(e,n,m,wn(e.consts,l),ym),nb(e,m)):m=e.data[p],SC(m,n,e,t,r,i,o,u),$o(m)&&jl(e,n,m),l!=null&&Wa(n,m,h),m}function Pm(n,e,t,r,i,o,s,c,u,l,h){let p=t+Re,m;if(e.firstCreatePass){if(m=rs(e,p,4,s||null,c||null),l!=null){let _=wn(e.consts,l);m.localNames=[];for(let T=0;T<_.length;T+=2)m.localNames.push(_[T],-1)}}else m=e.data[p];return SC(m,n,e,t,r,i,o,u),l!=null&&Wa(n,m,h),m}function Om(n,e,t,r,i,o,s,c){let u=Z(),l=Ne(),h=wn(l.consts,o);return HO(u,l,n,e,t,r,i,h,void 0,s,c),Om}var $O=zO;function zO(n,e,t,r){return xa(!0),e[Te].createComment("")}var WO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var AC=new V("");function Pi(n){return!!n&&typeof n.then=="function"}function Hl(n){return!!n&&typeof n.subscribe=="function"}var Fm=new V("");function qO(n){return yi([{provide:Fm,multi:!0,useValue:n}])}var Lm=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=w(Fm,{optional:!0})??[];injector=w(le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=br(this.injector,i);if(Pi(o))t.push(o);else if(Hl(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RC=new V("");function NC(){cp(()=>{let n="";throw new Q(600,n)})}function kC(n){return n.isBoundToModule}var GO=10;var tn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=w(Xt);afterRenderManager=w(Ll);zonelessEnabled=w(al);rootEffectScheduler=w(Pa);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new te;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=w(Mr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Le(t=>!t))}constructor(){w(ns,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=w(Ve);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=le.NULL){return this._injector.get(ie).run(()=>{we(10);let s=t instanceof Ul;if(!this._injector.get(Lm).done){let T="";throw new Q(405,T)}let u;s?u=t:u=this._injector.get(qa).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=kC(u)?void 0:this._injector.get(Dn),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,_=p.injector.get(AC,null);return _?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Fa(this.components,p),_?.unregisterApplication(m)}),this._loadComponent(p),we(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){we(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let t=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(t),this.afterTick.next(),we(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(St,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<GO;)we(14),this.synchronizeOnce(),we(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Na(i))continue;let o=r&&!this.zonelessEnabled?0:1;Xb(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Na(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(RC,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $l(n,e,t,r){let i=Z(),o=bi();if(Yn(i,o,e)){let s=Ne(),c=Ma();yP(c,i,n,e,t,r)}return $l}var L8=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function zl(n,e,t,r,i,o,s,c){xi("NgControlFlow");let u=Z(),l=Ne(),h=wn(l.consts,o);return Pm(u,l,n,e,t,r,i,h,256,s,c),Vm}function Vm(n,e,t,r,i,o,s,c){xi("NgControlFlow");let u=Z(),l=Ne(),h=wn(l.consts,o);return Pm(u,l,n,e,t,r,i,h,512,s,c),Vm}function Wl(n,e){xi("NgControlFlow");let t=Z(),r=bi(),i=t[r]!==xt?t[r]:-1,o=i!==-1?YD(t,Re+i):void 0,s=0;if(Yn(t,r,n)){let c=Y(null);try{if(o!==void 0&&VP(o,s),n!==-1){let u=Re+n,l=YD(t,u),h=KO(t[$],u),p=qP(l,h,t),m=Dm(t,h,e,{dehydratedView:p});Cm(l,m,s,Dl(h,p))}}finally{Y(c)}}else if(o!==void 0){let c=LP(o,s);c!==void 0&&(c[ot]=e)}}function YD(n,e){return n[e]}function KO(n,e){return Ra(n,e)}function MC(n,e,t){let r=Z(),i=bi();if(Yn(r,i,e)){let o=Ne(),s=Ma();Wb(s,r,n,e,r[Te],t)}return MC}function Gg(n,e,t,r,i){wm(e,n,t,i?"class":"style",r)}function Oi(n,e,t,r){let i=Z(),o=i[$],s=n+Re,c=o.firstCreatePass?Tm(s,i,2,e,ym,tl(),t,r):o.data[s];if(vm(c,i,n,e,PC),$o(c)){let u=i[$];jl(u,i,c),im(u,c,i)}return r!=null&&Wa(i,c),Oi}function Fi(){let n=Ne(),e=Ge(),t=Em(e);return n.firstCreatePass&&Sm(n,t),tg(t)&&ng(),Jp(),t.classesWithoutHost!=null&&$M(t)&&Gg(n,t,Z(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zM(t)&&Gg(n,t,Z(),t.stylesWithoutHost,!1),Fi}function xC(n,e,t,r){return Oi(n,e,t,r),Fi(),xC}function ql(n,e,t,r){let i=Z(),o=i[$],s=n+Re,c=o.firstCreatePass?iO(s,o,2,e,t,r):o.data[s];return vm(c,i,n,e,PC),r!=null&&Wa(i,c),ql}function Gl(){let n=Ge(),e=Em(n);return tg(e)&&ng(),Jp(),Gl}function jm(n,e,t,r){return ql(n,e,t,r),Gl(),jm}var PC=(n,e,t,r,i)=>(xa(!0),Rb(e[Te],r,DD()));function Kl(n,e,t){let r=Z(),i=r[$],o=n+Re,s=i.firstCreatePass?Tm(o,r,8,"ng-container",ym,tl(),e,t):i.data[o];if(vm(s,r,n,"ng-container",YO),$o(s)){let c=r[$];jl(c,r,s),im(c,s,r)}return t!=null&&Wa(r,s),Kl}function Yl(){let n=Ne(),e=Ge(),t=Em(e);return n.firstCreatePass&&Sm(n,t),Yl}function Qn(n,e,t){return Kl(n,e,t),Yl(),Qn}var YO=(n,e,t,r,i)=>(xa(!0),Px(e[Te],""));function QO(){return Z()}function OC(n,e,t){let r=Z(),i=bi();if(Yn(r,i,e)){let o=Ne(),s=Ma();qb(s,r,n,e,r[Te],t)}return OC}var Ga="en-US";var ZO=Ga;function FC(n){typeof n=="string"&&(ZO=n.toLowerCase().replace(/_/g,"-"))}function is(n,e,t){let r=Z(),i=Ne(),o=Ge();return LC(i,r,r[Te],o,n,e,t),is}function LC(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=vg(r,e,o),sO(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],_=h[p+1];u??=vg(r,e,o),WD(r,e,m,_,i,u)}if(l&&l.length)for(let p of l)u??=vg(r,e,o),WD(r,e,p,i,i,u)}}function VC(n=1){return wD(n)}function XO(n,e){let t=null,r=Cx(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Ab(n,o,!0):Ax(r,o))return i}return t}function Ql(n){let e=Z()[Tt][wt];if(!e.projection){let t=n?n.length:1,r=e.projection=qI(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?XO(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function os(n,e=0,t,r,i,o){let s=Z(),c=Ne(),u=r?n+1:null;u!==null&&Pm(s,c,u,r,i,o,null,t);let l=rs(c,Re+n,16,null,t||null);l.projection===null&&(l.projection=e),og();let p=!s[Bo]||eg();s[Tt][wt].projection[l.projection]===null&&u!==null?JO(s,c,u):p&&!xl(l)&&aP(c,s,l)}function JO(n,e,t){let r=Re+t,i=e.data[r],o=n[r],s=Vg(o,i.tView.ssrId),c=Dm(n,i,void 0,{dehydratedView:s});Cm(o,c,0,Dl(i,s))}function Sn(n,e,t,r){yC(n,e,t,r)}function Bm(n,e,t){_C(n,e,t)}function nn(n){let e=Z(),t=Ne(),r=rl();ka(r+1);let i=Nm(t,r);if(n.dirty&&nD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=EC(e,r);n.reset(o,pb),n.notifyOnChanges()}return!0}return!1}function rn(){return Rm(Z(),rl())}function eF(n,e,t,r,i){IC(e,yC(n,t,r,i))}function tF(n,e,t,r){IC(n,_C(e,t,r))}function nF(n=1){ka(rl()+n)}function rF(n){let e=hD();return qp(e,Re+n)}function ul(n,e){return n<<17|e<<2}function ki(n){return n>>17&32767}function iF(n){return(n&2)==2}function oF(n,e){return n&131071|e<<17}function Kg(n){return n|2}function Jo(n){return(n&131068)>>2}function Ig(n,e){return n&-131069|e<<2}function sF(n){return(n&1)===1}function Yg(n){return n|1}function aF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ki(s),u=Jo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Vo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=ki(n[c+1]);n[r+1]=ul(m,c),m!==0&&(n[m+1]=Ig(n[m+1],r)),n[c+1]=oF(n[c+1],r)}else n[r+1]=ul(c,0),c!==0&&(n[c+1]=Ig(n[c+1],r)),c=r;else n[r+1]=ul(u,0),c===0?c=r:n[u+1]=Ig(n[u+1],r),u=r;l&&(n[r+1]=Kg(n[r+1])),QD(n,h,r,!0),QD(n,h,r,!1),cF(e,h,n,r,o),s=ul(c,u),o?e.classBindings=s:e.styleBindings=s}function cF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Vo(o,e)>=0&&(t[r+1]=Yg(t[r+1]))}function QD(n,e,t,r){let i=n[t+1],o=e===null,s=r?ki(i):Jo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];uF(u,e)&&(c=!0,n[s+1]=r?Yg(l):Kg(l)),s=r?ki(l):Jo(l)}c&&(n[t+1]=r?Kg(i):Yg(i))}function uF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Vo(n,e)>=0:!1}var en={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lF(n){return n.substring(en.key,en.keyEnd)}function dF(n){return hF(n),jC(n,BC(n,0,en.textEnd))}function jC(n,e){let t=en.textEnd;return t===e?-1:(e=en.keyEnd=fF(n,en.key=e,t),BC(n,e,t))}function hF(n){en.key=0,en.keyEnd=0,en.value=0,en.valueEnd=0,en.textEnd=n.length}function BC(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fF(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Li(n,e){return mF(n,e,null,!0),Li}function pF(n){_F(DF,gF,n,!0)}function gF(n,e){for(let t=dF(e);t>=0;t=jC(e,t))Qu(n,lF(e),!0)}function mF(n,e,t,r){let i=Z(),o=Ne(),s=cg(2);if(o.firstUpdatePass&&HC(o,n,s,r),e!==xt&&Yn(i,s,e)){let c=o.data[Nr()];$C(o,c,i,i[Te],n,i[s+1]=CF(e,t),r,s)}}function _F(n,e,t,r){let i=Ne(),o=cg(2);i.firstUpdatePass&&HC(i,null,o,r);let s=Z();if(t!==xt&&Yn(s,o,t)){let c=i.data[Nr()];if(zC(c,r)&&!UC(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(t=Wu(u,t||"")),Gg(i,c,s,t,r)}else bF(i,c,s,s[Te],s[o+1],s[o+1]=IF(n,e,t),r,o)}}function UC(n,e){return e>=n.expandoStartIndex}function HC(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Nr()],s=UC(n,t);zC(o,r)&&e===null&&!s&&(e=!1),e=yF(i,o,e,r),aF(i,o,e,t,s,r)}}function yF(n,e,t,r){let i=_D(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Dg(null,n,e,t,r),t=Ha(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Dg(i,n,e,t,r),o===null){let u=vF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Dg(null,n,e,u[1],r),u=Ha(u,e.attrs,r),EF(n,e,r,u))}else o=wF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function vF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Jo(r)!==0)return n[ki(r)]}function EF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ki(i)]=r}function wF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ha(r,s,t)}return Ha(r,e.attrs,t)}function Dg(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=Ha(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Ha(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Qu(n,s,t?!0:e[++o]))}return n===void 0?null:n}function IF(n,e,t){if(t==null||t==="")return ht;let r=[],i=Pl(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function DF(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Qu(n,r,t)}function bF(n,e,t,r,i,o,s,c){i===xt&&(i=ht);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,_=l<o.length?o[l+1]:void 0,T=null,k;h===p?(u+=2,l+=2,m!==_&&(T=p,k=_)):p===null||h!==null&&h<p?(u+=2,T=h):(l+=2,T=p,k=_),T!==null&&$C(n,e,t,r,T,k,s,c),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function $C(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=sF(l)?ZD(u,e,t,i,Jo(l),s):void 0;if(!kl(h)){kl(o)||iF(l)&&(o=ZD(u,null,t,i,c,s));let p=Wp(Nr(),t);uP(r,s,p,i,o)}}function ZD(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===xt&&(m=p?ht:void 0);let _=p?Zu(m,r):h===r?m:void 0;if(l&&!kl(_)&&(_=Zu(u,r)),kl(_)&&(c=_,s))return c;let T=n[i+1];i=s?ki(T):Jo(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Zu(u,r))}return c}function kl(n){return n!==void 0}function CF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Wn(Pl(n)))),n}function zC(n,e){return(n.flags&(e?8:16))!==0}function WC(n,e=""){let t=Z(),r=Ne(),i=n+Re,o=r.firstCreatePass?rs(r,i,1,e,null):r.data[i],s=TF(r,t,o,e,n);t[i]=s,sl()&&mm(r,t,s,o),Wo(o,!1)}var TF=(n,e,t,r,i)=>(xa(!0),Mx(e[Te],r));function qC(n,e,t,r=""){return Yn(n,bi(),t)?e+Gu(t)+r:xt}function GC(n){return Zl("",n),GC}function Zl(n,e,t){let r=Z(),i=qC(r,n,e,t);return i!==xt&&SF(r,Nr(),i),Zl}function SF(n,e,t){let r=Wp(e,n);xx(n[Te],r,t)}function KC(n,e,t){fg(e)&&(e=e());let r=Z(),i=bi();if(Yn(r,i,e)){let o=Ne(),s=Ma();Wb(s,r,n,e,r[Te],t)}return KC}function AF(n,e){let t=fg(n);return t&&n.set(e),t}function YC(n,e){let t=Z(),r=Ne(),i=Ge();return LC(r,t,t[Te],i,n,e),YC}function RF(n,e,t=""){return qC(Z(),n,e,t)}function NF(n,e,t){let r=Ne();if(r.firstCreatePass){let i=En(n);Qg(t,r.data,r.blueprint,i,!0),Qg(e,r.data,r.blueprint,i,!1)}}function Qg(n,e,t,r,i){if(n=it(n),Array.isArray(n))for(let o=0;o<n.length;o++)Qg(n[o],e,t,r,i);else{let o=Ne(),s=Z(),c=Ge(),u=fi(n)?n:it(n.provide),l=Bp(n),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(fi(n)||!n.multi){let _=new Ri(l,i,pe,null),T=Cg(u,e,i?h:h+m,p);T===-1?(Sg(yl(c,s),o,u),bg(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(_),s.push(_)):(t[T]=_,s[T]=_)}else{let _=Cg(u,e,h+m,p),T=Cg(u,e,h,h+m),k=_>=0&&t[_],N=T>=0&&t[T];if(i&&!N||!i&&!k){Sg(yl(c,s),o,u);let P=xF(i?MF:kF,t.length,i,r,l,n);!i&&N&&(t[T].providerFactory=P),bg(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(P),s.push(P)}else{let P=QC(t[i?T:_],l,!i&&r);bg(o,n,_>-1?_:T,P)}!i&&r&&N&&t[T].componentProviders++}}}function bg(n,e,t,r){let i=fi(e),o=XI(e);if(i||o){let u=(o?it(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function QC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function kF(n,e,t,r,i){return Zg(this.multi,[])}function MF(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=La(r,r[$],this.providerFactory.index,i);s=u.slice(0,c),Zg(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Zg(o,s);return s}function Zg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function xF(n,e,t,r,i,o){let s=new Ri(n,t,pe,null);return s.multi=[],s.index=e,s.componentProviders=0,QC(s,i,r&&!t),s}function Ht(n,e=[]){return t=>{t.providersResolver=(r,i)=>NF(r,i?i(n):n,e)}}function PF(n,e,t){let r=ag()+n,i=Z();return i[r]===xt?lC(i,r,t?e.call(t):e()):oO(i,r)}function OF(n,e){let t=n[e];return t===xt?void 0:t}function FF(n,e,t,r,i,o){let s=e+t;return Yn(n,s,i)?lC(n,s+1,o?r.call(o,i):r(i)):OF(n,s+1)}function LF(n,e){let t=Ne(),r,i=n+Re;t.firstCreatePass?(r=VF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=wr(r.type,!0)),s,c=Et(pe);try{let u=_l(!1),l=o();return _l(u),Gp(t,Z(),i,l),l}finally{Et(c)}}function VF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function jF(n,e,t){let r=n+Re,i=Z(),o=qp(i,r);return BF(i,r)?FF(i,ag(),e,o.transform,t,o):o.transform(t)}function BF(n,e){return n[$].data[e].pure}function UF(n,e){return Bl(n,e)}var Ml=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},HF=(()=>{class n{compileModuleSync(t){return new Nl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Op(t),o=Tb(i.declarations).reduce((s,c)=>{let u=_n(c);return u&&s.push(new Pr(u)),s},[]);return new Ml(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $F=(()=>{class n{zone=w(ie);changeDetectionScheduler=w(Vt);applicationRef=w(tn);applicationErrorHandler=w(Xt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ie(ce(J({},XC()),{scheduleInRootZone:t})),[{provide:ie,useFactory:n},{provide:_i,multi:!0,useFactory:()=>{let r=w($F,{optional:!0});return()=>r.initialize()}},{provide:_i,multi:!0,useFactory:()=>{let r=w(zF);return()=>{r.initialize()}}},e===!0?{provide:pg,useValue:!0}:[],{provide:gg,useValue:t??Ob},{provide:Xt,useFactory:()=>{let r=w(ie),i=w(Ve),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(qn),o.handleError(s))})}}}]}function XC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var zF=(()=>{class n{subscription=new me;initialized=!1;zone=w(ie);pendingTasks=w(Mr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JC=(()=>{class n{applicationErrorHandler=w(Xt);appRef=w(tn);taskService=w(Mr);ngZone=w(ie);zonelessEnabled=w(al);tracing=w(ns,{optional:!0});disableScheduling=w(pg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(w(gg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Il||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?OD:Fb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,OD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WF(){return typeof $localize<"u"&&$localize.locale||Ga}var Xl=new V("",{providedIn:"root",factory:()=>w(Xl,{optional:!0,skipSelf:!0})||WF()});function Rt(n){return xI(n)}function Vi(n,e){return ya(n,e?.equal)}var Um=class{[We];constructor(e){this[We]=e}destroy(){this[We].destroy()}};function Jl(n,e){let t=e?.injector??w(le),r=e?.manualCleanup!==!0?t.get(Zt):null,i,o=t.get(Ci,null,{optional:!0}),s=t.get(Vt);return o!==null?(i=KF(o.view,s,n),r instanceof Da&&r._lView===o.view&&(r=null)):i=YF(n,t.get(Pa),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Um(i)}var eT=ce(J({},PI),{cleanupFns:void 0,zone:null,onDestroyFn:Si,run(){let n=qo(!1);try{OI(this)}finally{qo(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=Y(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Y(n)}}}),qF=ce(J({},eT),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){vr(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),GF=ce(J({},eT),{consumerMarkedDirty(){this.view[K]|=8192,Rr(this.view),this.notifier.notify(13)},destroy(){vr(this),this.onDestroyFn(),this.cleanup(),this.view[Kn]?.delete(this)}});function KF(n,e,t){let r=Object.create(GF);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=tT(r,t),n[Kn]??=new Set,n[Kn].add(r),r.consumerMarkedDirty(r),r}function YF(n,e,t){let r=Object.create(qF);return r.fn=tT(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function tT(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var uT=Symbol("InputSignalNode#UNSET"),s1=ce(J({},va),{transformFn:void 0,applyValueToInputSignal(n,e){Fo(n,e)}});function lT(n,e){let t=Object.create(s1);t.value=n,t.transformFn=e?.transform;function r(){if(ci(t),t.value===uT){let i=null;throw new Q(-950,i)}return t.value}return r[We]=t,r}var td=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Jg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},a1=new V("");a1.__NG_ELEMENT_ID__=n=>{let e=Ge();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Q(204,!1)};function nT(n,e){return lT(n,e)}function c1(n){return lT(uT,n)}var JZ=(nT.required=c1,nT);function rT(n,e){return km(e)}function u1(n,e){return Mm(e)}var eX=(rT.required=u1,rT);function iT(n,e){return km(e)}function l1(n,e){return Mm(e)}var tX=(iT.required=l1,iT);var $m=new V(""),d1=new V("");function Ka(n){return!n.moduleRef}function h1(n){let e=Ka(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ie);return t.run(()=>{Ka(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Xt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ka(n)){let o=()=>e.destroy(),s=n.platformInjector.get($m);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get($m);s.add(o),n.moduleRef.onDestroy(()=>{Fa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return p1(r,t,()=>{let o=e.get(Mr),s=o.add(),c=e.get(Lm);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Xl,Ga);if(FC(u||Ga),!e.get(d1,!0))return Ka(n)?e.get(tn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ka(n)){let h=e.get(tn);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return f1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var f1;function p1(n,e,t){try{let r=t();return Pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var ed=null;function g1(n=[],e){return le.create({name:e,providers:[{provide:jp,useValue:"platform"},{provide:$m,useValue:new Set([()=>ed=null])},...n]})}function m1(n=[]){if(ed)return ed;let e=g1(n);return ed=e,NC(),_1(e),e}function _1(n){let e=n.get(wb,null);br(n,()=>{e?.forEach(t=>t())})}function Ym(){return!1}var Or=(()=>{class n{static __NG_ELEMENT_ID__=y1}return n})();function y1(n){return v1(Ge(),Z(),(n&16)===16)}function v1(n,e,t){if(Ar(n)&&!t){let r=Ut(n.index,e);return new xr(r,r)}else if(n.type&175){let r=e[Tt];return new xr(r,e)}return null}var zm=class{constructor(){}supports(e){return Am(e)}create(e){return new Wm(e)}},E1=(n,e)=>e,Wm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||E1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<oT(r,i,o)?t:r,c=oT(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let _=m<o.length?o[m]:o[m]=0,T=_+m;h<=T&&T<l&&(o[m]=_+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Am(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,cC(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new qm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new nd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Gm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Gm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function sT(){return new An([new zm])}var An=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:sT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=w(n,{optional:!0,skipSelf:!0});return n.create(t,r||sT())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Q(901,!1)}}return n})();function nX(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;we(8);try{let o=i?.injector??m1(r),s=[ZC({}),{provide:Vt,useExisting:JC},CD,...t||[]],c=new Ua({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return h1({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{we(9)}}function Ke(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function w1(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var Hm=Symbol("NOT_SET"),dT=new Set,I1=ce(J({},va),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Hm,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Hm&&!li(this))return this.signal;try{for(let i of this.cleanup??dT)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=yr(this),r;try{r=this.userFn.apply(null,e)}finally{ui(this,t)}return(this.value===Hm||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),Km=class extends ja{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,t,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(Zt),s),this.scheduler=i;for(let c of hm){let u=t[c];if(u===void 0)continue;let l=Object.create(I1);l.sequence=this,l.phase=c,l.userFn=u,l.dirty=!0,l.signal=()=>(ci(l),l.value),l.signal[We]=l,l.registerCleanupFn=h=>(l.cleanup??=new Set).add(h),this.nodes[c]=l,this.hooks[c]=h=>l.phaseFn(h)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??dT)t()}finally{vr(e)}}};function rX(n,e){let t=e?.injector??w(le),r=t.get(Vt),i=t.get(Ll),o=t.get(ns,null,{optional:!0});i.impl??=t.get(fm);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let c=t.get(Ci,null,{optional:!0}),u=new Km(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],c?.view,r,t,o?.snapshot(null));return i.impl.register(u),u}function rd(n,e){let t=_n(n),r=e.elementInjector||jo();return new Pr(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function iX(n){let e=_n(n);if(!e)return null;let t=new Pr(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var pT=null;function ji(){return pT}function D1(n){pT??=n}var Qm=class{},Ya=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>w(gT),providedIn:"platform"})}return n})(),b1=new V(""),gT=(()=>{class n extends Ya{_location;_history;_doc=w(De);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ji().getBaseHref(this._doc)}onPopState(t){let r=ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function id(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function hT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function on(n){return n&&n[0]!=="?"?`?${n}`:n}var ss=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:()=>w(mT),providedIn:"root"})}return n})(),od=new V(""),mT=(()=>{class n extends ss{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??w(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return id(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+on(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(qe(Ya),qe(od,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sd=(()=>{class n{_subject=new te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=S1(hT(fT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+on(r))}normalize(t){return n.stripTrailingSlash(T1(this._basePath,fT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+on(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+on(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=on;static joinWithSlash=id;static stripTrailingSlash=hT;static \u0275fac=function(r){return new(r||n)(qe(ss))};static \u0275prov=L({token:n,factory:()=>C1(),providedIn:"root"})}return n})();function C1(){return new sd(qe(ss))}function T1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function fT(n){return n.replace(/\/index.html$/,"")}function S1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var A1=(()=>{class n extends ss{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=id(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+on(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(qe(Ya),qe(od,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Zm=/\s+/,_T=[],R1=(()=>{class n{_ngEl;_renderer;initialClasses=_T;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Zm):_T}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Zm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Zm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(pe(ye),pe(Cn))};static \u0275dir=oe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ad=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vT=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ad(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),yT(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);yT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(pe(Ze),pe(je),pe(An))};static \u0275dir=oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function yT(n,e){n.context.$implicit=e.item}var N1=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(pe(Ze))};static \u0275dir=oe({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[At]})}return n})();function k1(n,e){return new Q(2100,!1)}var Xm=class{createSubscription(e,t,r){return Rt(()=>e.subscribe({next:t,error:r}))}dispose(e){Rt(()=>e.unsubscribe())}},Jm=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},M1=new Jm,x1=new Xm,P1=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=w(Xt);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Pi(t))return M1;if(Hl(t))return x1;throw k1(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(pe(Or,16))};static \u0275pipe=xm({name:"async",type:n,pure:!1})}return n})();var O1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({})}return n})();function F1(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var e_=class{};var L1="browser";function ET(n){return n===L1}var BJ=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new t_(w(De),window)})}return n})(),t_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ce(J({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=V1(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(gi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ce(J({},t),{left:i-s[0],top:o-s[1]}))}};function V1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var RT=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(pe(Cn),pe(ye))};static \u0275dir=oe({type:n})}return n})(),j1=(()=>{class n extends RT{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mi(n)))(i||n)}})();static \u0275dir=oe({type:n,features:[Xe]})}return n})(),NT=new V("");var B1={provide:NT,useExisting:mn(()=>kT),multi:!0};function U1(){let n=ji()?ji().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var H1=new V(""),kT=(()=>{class n extends RT{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!U1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(pe(Cn),pe(ye),pe(H1,8))};static \u0275dir=oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&is("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ht([B1]),Xe]})}return n})();function i_(n){return n==null||o_(n)===0}function o_(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var s_=new V(""),a_=new V(""),$1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wT=class{static min(e){return z1(e)}static max(e){return W1(e)}static required(e){return q1(e)}static requiredTrue(e){return G1(e)}static email(e){return K1(e)}static minLength(e){return Y1(e)}static maxLength(e){return Q1(e)}static pattern(e){return Z1(e)}static nullValidator(e){return MT()}static compose(e){return VT(e)}static composeAsync(e){return jT(e)}};function z1(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function W1(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function q1(n){return i_(n.value)?{required:!0}:null}function G1(n){return n.value===!0?null:{required:!0}}function K1(n){return i_(n.value)||$1.test(n.value)?null:{email:!0}}function Y1(n){return e=>{let t=e.value?.length??o_(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Q1(n){return e=>{let t=e.value?.length??o_(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Z1(n){if(!n)return MT;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(i_(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function MT(n){return null}function xT(n){return n!=null}function PT(n){return Pi(n)?kt(n):n}function OT(n){let e={};return n.forEach(t=>{e=t!=null?J(J({},e),t):e}),Object.keys(e).length===0?null:e}function FT(n,e){return e.map(t=>t(n))}function X1(n){return!n.validate}function LT(n){return n.map(e=>X1(e)?e:t=>e.validate(t))}function VT(n){if(!n)return null;let e=n.filter(xT);return e.length==0?null:function(t){return OT(FT(t,e))}}function c_(n){return n!=null?VT(LT(n)):null}function jT(n){if(!n)return null;let e=n.filter(xT);return e.length==0?null:function(t){let r=FT(t,e).map(PT);return Kf(r).pipe(Le(OT))}}function u_(n){return n!=null?jT(LT(n)):null}function IT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function BT(n){return n._rawValidators}function UT(n){return n._rawAsyncValidators}function n_(n){return n?Array.isArray(n)?n:[n]:[]}function ud(n,e){return Array.isArray(n)?n.includes(e):n===e}function DT(n,e){let t=n_(e);return n_(n).forEach(i=>{ud(t,i)||t.push(i)}),t}function bT(n,e){return n_(e).filter(t=>!ud(n,t))}var ld=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=c_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=u_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Bi=class extends ld{name;get formDirective(){return null}get path(){return null}},tc=class extends ld{_parent=null;name=null;valueAccessor=null},r_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},J1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cee=ce(J({},J1),{"[class.ng-submitted]":"isSubmitted"}),uee=(()=>{class n extends r_{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(pe(tc,2))};static \u0275dir=oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Li("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Xe]})}return n})();var Qa="VALID",cd="INVALID",as="PENDING",Za="DISABLED",Fr=class{},dd=class extends Fr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ja=class extends Fr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ec=class extends Fr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},cs=class extends Fr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},hd=class extends Fr{source;constructor(e){super(),this.source=e}},fd=class extends Fr{source;constructor(e){super(),this.source=e}};function HT(n){return(vd(n)?n.validators:n)||null}function eL(n){return Array.isArray(n)?c_(n):n||null}function $T(n,e){return(vd(e)?e.asyncValidators:n)||null}function tL(n){return Array.isArray(n)?u_(n):n||null}function vd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nL(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function rL(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Q(1002,"")})}var pd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Rt(this.statusReactive)}set status(e){Rt(()=>this.statusReactive.set(e))}_status=Vi(()=>this.statusReactive());statusReactive=st(void 0);get valid(){return this.status===Qa}get invalid(){return this.status===cd}get pending(){return this.status==as}get disabled(){return this.status===Za}get enabled(){return this.status!==Za}errors;get pristine(){return Rt(this.pristineReactive)}set pristine(e){Rt(()=>this.pristineReactive.set(e))}_pristine=Vi(()=>this.pristineReactive());pristineReactive=st(!0);get dirty(){return!this.pristine}get touched(){return Rt(this.touchedReactive)}set touched(e){Rt(()=>this.touchedReactive.set(e))}_touched=Vi(()=>this.touchedReactive());touchedReactive=st(!1);get untouched(){return!this.touched}_events=new te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bT(e,this._rawAsyncValidators))}hasValidator(e){return ud(this._rawValidators,e)}hasAsyncValidator(e){return ud(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(J({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ec(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ec(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(J({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAsPending(e={}){this.status=as;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(J({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Za,this.errors=null,this._forEachChild(i=>{i.disable(ce(J({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dd(this.value,r)),this._events.next(new cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(J({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qa,this._forEachChild(r=>{r.enable(ce(J({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(J({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qa||this.status===as)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dd(this.value,t)),this._events.next(new cs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(J({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Za:Qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=as,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=PT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new cs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?Za:this.errors?cd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(as)?as:this._anyControlsHaveStatus(cd)?cd:Qa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ja(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ec(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tL(this._rawAsyncValidators)}},gd=class extends pd{constructor(e,t,r){super(HT(t),$T(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rL(this,!0,e),Object.keys(e).forEach(r=>{nL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new fd(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ed=new V("",{providedIn:"root",factory:()=>l_}),l_="always";function iL(n,e){return[...e.path,n]}function md(n,e,t=l_){d_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),sL(n,e),cL(n,e),aL(n,e),oL(n,e)}function CT(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _d(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oL(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function d_(n,e){let t=BT(n);e.validator!==null?n.setValidators(IT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=UT(n);e.asyncValidator!==null?n.setAsyncValidators(IT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();_d(e._rawValidators,i),_d(e._rawAsyncValidators,i)}function yd(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=BT(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=UT(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return _d(e._rawValidators,r),_d(e._rawAsyncValidators,r),t}function sL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&zT(n,e)})}function aL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&zT(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function zT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cL(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function WT(n,e){n==null,d_(n,e)}function uL(n,e){return yd(n,e)}function lL(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function dL(n){return Object.getPrototypeOf(n.constructor)===j1}function qT(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hL(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===kT?t=o:dL(o)?r=o:i=o}),i||r||t||null}function fL(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var pL={provide:Bi,useExisting:mn(()=>gL)},Xa=Promise.resolve(),gL=(()=>{class n extends Bi{callSetDisabledState;get submitted(){return Rt(this.submittedReactive)}_submitted=Vi(()=>this.submittedReactive());submittedReactive=st(!1);_directives=new Set;form;ngSubmit=new Ie;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new gd({},c_(t),u_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xa.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),md(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xa.then(()=>{let r=this._findContainer(t.path),i=new gd({});WT(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),qT(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new hd(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(pe(s_,10),pe(a_,10),pe(Ed,8))};static \u0275dir=oe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&is("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ht([pL]),Xe]})}return n})();function TT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ST(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var GT=class extends pd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(HT(t),$T(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ST(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new fd(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ST(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mL=n=>n instanceof GT;var _L={provide:tc,useExisting:mn(()=>yL)},AT=Promise.resolve(),yL=(()=>{class n extends tc{_changeDetectorRef;callSetDisabledState;control=new GT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ie;constructor(t,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hL(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),lL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){md(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){AT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ke(r);AT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?iL(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(pe(Bi,9),pe(s_,10),pe(a_,10),pe(NT,10),pe(Or,8),pe(Ed,8))};static \u0275dir=oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ht([_L]),Xe,At]})}return n})();var vL={provide:Bi,useExisting:mn(()=>EL)},EL=(()=>{class n extends Bi{callSetDisabledState;get submitted(){return Rt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Vi(()=>this._submittedReactive());_submittedReactive=st(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ie;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return md(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){CT(t.control||null,t,!1),fL(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),qT(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new hd(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(CT(r||null,t),mL(i)&&(md(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);WT(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&uL(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){d_(this.form,this),this._oldForm&&yd(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(pe(s_,10),pe(a_,10),pe(Ed,8))};static \u0275dir=oe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&is("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ht([vL]),Xe,At]})}return n})();var wL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({})}return n})();var dee=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ed,useValue:t.callSetDisabledState??l_}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({imports:[wL]})}return n})();var KT=()=>{};var ZT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},IL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,_=l&63;u||(_=64,s||(m=64)),r.push(t[h],t[p],t[m],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new f_;let m=o<<2|c>>4;if(r.push(m),l!==64){let _=c<<4&240|l>>2;if(r.push(_),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},f_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DL=function(n){let e=ZT(n);return wd.encodeByteArray(e,!0)},rc=function(n){return DL(n).replace(/\./g,"")},Id=function(n){try{return wd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bL=()=>g_().__FIREBASE_DEFAULTS__,CL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Id(n[1]);return e&&JSON.parse(e)},Dd=()=>{try{return KT()||bL()||CL()||TL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},XT=n=>{var e,t;return(t=(e=Dd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JT=n=>{let e=XT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},m_=()=>{var n;return(n=Dd())===null||n===void 0?void 0:n.config},eS=n=>{var e;return(e=Dd())===null||e===void 0?void 0:e[`_${n}`]};var Ui=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Hi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function __(n){return A(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function tS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rc(JSON.stringify(t)),rc(JSON.stringify(s)),""].join(".")}var nc={};function SL(){let n={prod:[],emulator:[]};for(let e of Object.keys(nc))nc[e]?n.emulator.push(e):n.prod.push(e);return n}function AL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var YT=!1;function y_(n,e){if(typeof window>"u"||typeof document>"u"||!Hi(window.location.host)||nc[n]===e||nc[n]||YT)return;nc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=SL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{YT=!0,s()},m}function h(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=AL(r),_=t("text"),T=document.getElementById(_)||document.createElement("span"),k=t("learnmore"),N=document.getElementById(k)||document.createElement("a"),P=t("preprendIcon"),B=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let ne=m.element;c(ne),h(N,k);let be=l();u(B,P),ne.append(B,T,N,be),document.body.appendChild(ne)}o?(T.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function RL(){var n;let e=(n=Dd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){return!RL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ic(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var NL="FirebaseError",$t=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=NL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}},sn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new $t(i,c,r)}};function kL(n,e){return n.replace(ML,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ML=/\{\$([^}]+)}/g;function $i(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QT(o)&&QT(s)){if(!$i(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QT(n){return n!==null&&typeof n=="object"}function v_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cS(n,e){let t=new p_(n,e);return t.subscribe.bind(t)}var p_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=h_),i.error===void 0&&(i.error=h_),i.complete===void 0&&(i.complete=h_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function h_(){}var mee=14400*1e3;function Ft(n){return n&&n._delegate?n._delegate:n}var It=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zi="[DEFAULT]";var E_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ui;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OL(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PL(n){return n===zi?void 0:n}function OL(n){return n.instantiationMode==="EAGER"}var bd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new E_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var FL=[],ae=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ae||{}),LL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},VL=ae.INFO,jL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},BL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=jL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Rn=class{constructor(e){this.name=e,this._logLevel=VL,this._logHandler=BL,this._userLogHandler=null,FL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var UL=(n,e)=>e.some(t=>n instanceof t),uS,lS;function HL(){return uS||(uS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $L(){return lS||(lS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var dS=new WeakMap,I_=new WeakMap,hS=new WeakMap,w_=new WeakMap,b_=new WeakMap;function zL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Nn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&dS.set(t,n)}).catch(()=>{}),b_.set(e,n),e}function WL(n){if(I_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});I_.set(n,e)}var D_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return I_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fS(n){D_=n(D_)}function qL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Cd(this),e,...t);return hS.set(r,e.sort?e.sort():[e]),Nn(r)}:$L().includes(n)?function(...e){return n.apply(Cd(this),e),Nn(dS.get(this))}:function(...e){return Nn(n.apply(Cd(this),e))}}function GL(n){return typeof n=="function"?qL(n):(n instanceof IDBTransaction&&WL(n),UL(n,HL())?new Proxy(n,D_):n)}function Nn(n){if(n instanceof IDBRequest)return zL(n);if(w_.has(n))return w_.get(n);let e=GL(n);return e!==n&&(w_.set(n,e),b_.set(e,n)),e}var Cd=n=>b_.get(n);function gS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var KL=["get","getKey","getAll","getAllKeys","count"],YL=["put","add","delete","clear"],C_=new Map;function pS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(C_.get(e))return C_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=YL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KL.includes(t)))return;let o=function(s,...c){return A(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return C_.set(e,o),o}fS(n=>ce(J({},n),{get:(e,t,r)=>pS(e,t)||n.get(e,t,r),has:(e,t)=>!!pS(e,t)||n.has(e,t)}));var S_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function QL(n){let e=n.getComponent();return e?.type==="VERSION"}var A_="@firebase/app",mS="0.13.2";var Zn=new Rn("@firebase/app"),ZL="@firebase/app-compat",XL="@firebase/analytics-compat",JL="@firebase/analytics",eV="@firebase/app-check-compat",tV="@firebase/app-check",nV="@firebase/auth",rV="@firebase/auth-compat",iV="@firebase/database",oV="@firebase/data-connect",sV="@firebase/database-compat",aV="@firebase/functions",cV="@firebase/functions-compat",uV="@firebase/installations",lV="@firebase/installations-compat",dV="@firebase/messaging",hV="@firebase/messaging-compat",fV="@firebase/performance",pV="@firebase/performance-compat",gV="@firebase/remote-config",mV="@firebase/remote-config-compat",_V="@firebase/storage",yV="@firebase/storage-compat",vV="@firebase/firestore",EV="@firebase/ai",wV="@firebase/firestore-compat",IV="firebase",DV="11.10.0";var R_="[DEFAULT]",bV={[A_]:"fire-core",[ZL]:"fire-core-compat",[JL]:"fire-analytics",[XL]:"fire-analytics-compat",[tV]:"fire-app-check",[eV]:"fire-app-check-compat",[nV]:"fire-auth",[rV]:"fire-auth-compat",[iV]:"fire-rtdb",[oV]:"fire-data-connect",[sV]:"fire-rtdb-compat",[aV]:"fire-fn",[cV]:"fire-fn-compat",[uV]:"fire-iid",[lV]:"fire-iid-compat",[dV]:"fire-fcm",[hV]:"fire-fcm-compat",[fV]:"fire-perf",[pV]:"fire-perf-compat",[gV]:"fire-rc",[mV]:"fire-rc-compat",[_V]:"fire-gcs",[yV]:"fire-gcs-compat",[vV]:"fire-fst",[wV]:"fire-fst-compat",[EV]:"fire-vertex","fire-js":"fire-js",[IV]:"fire-js-all"};var oc=new Map,CV=new Map,N_=new Map;function _S(n,e){try{n.container.addComponent(e)}catch(t){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function an(n){let e=n.name;if(N_.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,n);for(let t of oc.values())_S(t,n);for(let t of CV.values())_S(t,n);return!0}function Td(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}var TV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new sn("app","Firebase",TV);var k_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};var us=DV;function wS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:R_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(t||(t=m_()),!t)throw Lr.create("no-options");let o=oc.get(i);if(o){if($i(t,o.options)&&$i(r,o.config))return o;throw Lr.create("duplicate-app",{appName:i})}let s=new bd(i);for(let u of N_.values())s.addComponent(u);let c=new k_(t,r,s);return oc.set(i,c),c}function ls(n=R_){let e=oc.get(n);if(!e&&n===R_&&m_())return wS();if(!e)throw Lr.create("no-app",{appName:n});return e}function Sd(){return Array.from(oc.values())}function Oe(n,e,t){var r;let i=(r=bV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(c.join(" "));return}an(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var SV="firebase-heartbeat-database",AV=1,sc="firebase-heartbeat-store",T_=null;function IS(){return T_||(T_=gS(SV,AV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),T_}function RV(n){return A(this,null,function*(){try{let t=(yield IS()).transaction(sc),r=yield t.objectStore(sc).get(DS(n));return yield t.done,r}catch(e){if(e instanceof $t)Zn.warn(e.message);else{let t=Lr.create("idb-get",{originalErrorMessage:e?.message});Zn.warn(t.message)}}})}function yS(n,e){return A(this,null,function*(){try{let r=(yield IS()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,DS(n)),yield r.done}catch(t){if(t instanceof $t)Zn.warn(t.message);else{let r=Lr.create("idb-set",{originalErrorMessage:t?.message});Zn.warn(r.message)}}})}function DS(n){return`${n.name}!${n.options.appId}`}var NV=1024,kV=30,M_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new x_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>kV){let s=xV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zn.warn(r)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=vS(),{heartbeatsToSend:r,unsentEntries:i}=MV(this._heartbeatsCache.heartbeats),o=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zn.warn(t),""}})}};function vS(){return new Date().toISOString().substring(0,10)}function MV(n,e=NV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ES(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ES(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var x_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return ic()?aS().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield RV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ES(n){return rc(JSON.stringify({version:2,heartbeats:n})).length}function xV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function PV(n){an(new It("platform-logger",e=>new S_(e),"PRIVATE")),an(new It("heartbeat",e=>new M_(e),"PRIVATE")),Oe(A_,mS,n),Oe(A_,mS,"esm2017"),Oe("fire-js","")}PV("");var OV="firebase",FV="11.10.0";Oe(OV,FV,"app");function bS(n){n===void 0&&(n=w(le));let e=n.get(Ti);return t=>new G(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var qi=new Er("ANGULARFIRE2_VERSION");function Rd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var hs=(n,e)=>{let t=e?[e]:Sd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ds=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ds||{}),CS=Ym()&&typeof Zone<"u"?ds.WARN:ds.SILENT;var Ad=class{zone;delegate;constructor(e,t=Gf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Gi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=w(ie);this.outsideAngular=t.runOutsideAngular(()=>new Ad(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Ad(typeof Zone>"u"?void 0:Zone.current,fn))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TS=!1;function LV(n,e){!TS&&(CS>ds.SILENT||Ym())&&(TS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),CS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function VV(n){let e=w(ie,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Wi(n){let e=w(ie,{optional:!0});return e?e.run(()=>n()):n()}var jV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),br(t,()=>Wi(()=>n.apply(void 0,r)))),Jn=(n,e,t)=>(t||=e?ds.WARN:ds.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=w(Gi),s=w(Ti),c=w(Ve)}catch{return LV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Wi(()=>s.add())),i[l]=jV(i[l],r,c));let u=VV(()=>n.apply(this,i));return e?u instanceof G?u.pipe(pr(o.outsideAngular),fr(o.insideAngular),bS(c)):u instanceof Promise?Wi(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>br(c,()=>Wi(()=>h(m))),m=>br(c,()=>Wi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Wi(()=>u):u instanceof G?u.pipe(pr(o.outsideAngular),fr(o.insideAngular)):Wi(()=>u)});var Ki=class{constructor(e){return e}},ac=class{constructor(){return Sd()}};function BV(n){return n&&n.length===1?n[0]:new Ki(ls())}var P_=new V("angularfire2._apps"),UV={provide:Ki,useFactory:BV,deps:[[new bn,P_]]},HV={provide:ac,deps:[[new bn,P_]]};function $V(n){return(e,t)=>{let r=t.get($a);Oe("angularfire",qi.full,"core"),Oe("angularfire",qi.full,"app"),Oe("angular",Ip.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ki(i)}}function lte(n,...e){return yi([UV,HV,{provide:P_,useFactory:$V(n),multi:!0,deps:[ie,le,Gi,...e]}])}var zV=new Map,WV={activated:!1,tokenObservers:[]},qV={initialized:!1,enabled:!1};function cn(n){return zV.get(n)||Object.assign({},WV)}function NS(){return qV}var GV="https://content-firebaseappcheck.googleapis.com/v1";var KV="exchangeDebugToken",SS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},vte=1440*60*1e3;var L_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return A(this,null,function*(){this.stop();try{this.pending=new Ui,this.pending.promise.catch(t=>{}),yield YV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ui,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function YV(n){return new Promise(e=>{setTimeout(e,n)})}var QV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vr=new sn("appCheck","AppCheck",QV);function kS(n){if(!cn(n).activated)throw Vr.create("use-before-activation",{appName:n.name})}function MS(r,i){return A(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(_){throw Vr.create("fetch-network-error",{originalErrorMessage:_?.message})}if(u.status!==200)throw Vr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(_){throw Vr.create("fetch-parse-error",{originalErrorMessage:_?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function xS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${GV}/projects/${t}/apps/${r}:${KV}?key=${i}`,body:{debug_token:e}}}var ZV="firebase-app-check-database",XV=1,V_="firebase-app-check-store";var Nd=null;function JV(){return Nd||(Nd=new Promise((n,e)=>{try{let t=indexedDB.open(ZV,XV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(V_,{keyPath:"compositeKey"})}}}catch(t){e(Vr.create("storage-open",{originalErrorMessage:t?.message}))}}),Nd)}function e2(n,e){return t2(n2(n),e)}function t2(n,e){return A(this,null,function*(){let r=(yield JV()).transaction(V_,"readwrite"),o=r.objectStore(V_).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Vr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function n2(n){return`${n.options.appId}-${n.name}`}var cc=new Rn("@firebase/app-check");function O_(n,e){return ic()?e2(n,e).catch(t=>{cc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function PS(){return NS().enabled}function OS(){return A(this,null,function*(){let n=NS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var r2={error:"UNKNOWN_ERROR"};function i2(n){return wd.encodeString(JSON.stringify(n),!1)}function j_(n,e=!1,t=!1){return A(this,null,function*(){let r=n.app;kS(r);let i=cn(r),o=i.token,s;if(o&&!uc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(uc(l)?o=l:yield O_(r,void 0))}if(!e&&o&&uc(o))return{token:o.token};let c=!1;if(PS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=MS(xS(r,yield OS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield O_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?cc.warn(l.message):t&&cc.error(l),F_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield cn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?cc.warn(l.message):t&&cc.error(l),s=l}let u;return o?s?uc(o)?u={token:o.token,internalError:s}:u=F_(s):(u={token:o.token},i.token=o,yield O_(r,o)):u=F_(s),c&&c2(r,u),u})}function o2(n){return A(this,null,function*(){let e=n.app;kS(e);let{provider:t}=cn(e);if(PS()){let r=yield OS(),{token:i}=yield MS(xS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function s2(n,e,t,r){let{app:i}=n,o=cn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&uc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),AS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>AS(n))}function FS(n,e){let t=cn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function AS(n){let{app:e}=n,t=cn(e),r=t.tokenRefresher;r||(r=a2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function a2(n){let{app:e}=n;return new L_(()=>A(null,null,function*(){let t=cn(e),r;if(t.token?r=yield j_(n,!0):r=yield j_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=cn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},SS.RETRIAL_MIN_WAIT,SS.RETRIAL_MAX_WAIT)}function c2(n,e){let t=cn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function uc(n){return n.expireTimeMillis-Date.now()>0}function F_(n){return{token:i2(r2),error:n}}var B_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=cn(this.app);for(let t of e)FS(this.app,t.next);return Promise.resolve()}};function u2(n,e){return new B_(n,e)}function l2(n){return{getToken:e=>j_(n,e),getLimitedUseToken:()=>o2(n),addTokenListener:e=>s2(n,"INTERNAL",e),removeTokenListener:e=>FS(n.app,e)}}var d2="@firebase/app-check",h2="0.10.1";var f2="app-check",RS="app-check-internal";function p2(){an(new It(f2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return u2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RS).initialize()})),an(new It(RS,n=>{let e=n.getProvider("app-check").getImmediate();return l2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oe(d2,h2)}p2();var g2="app-check";var kd=class{constructor(){return hs(g2)}};var m2=["localhost","0.0.0.0","127.0.0.1"],Mte=typeof window<"u"&&m2.includes(window.location.hostname);function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WS=zS,qS=new sn("auth","Firebase",zS());var Od=new Rn("@firebase/auth");function y2(n,...e){Od.logLevel<=ae.WARN&&Od.warn(`Auth (${us}): ${n}`,...e)}function xd(n,...e){Od.logLevel<=ae.ERROR&&Od.error(`Auth (${us}): ${n}`,...e)}function LS(n,...e){throw X_(n,...e)}function Z_(n,...e){return X_(n,...e)}function GS(n,e,t){let r=Object.assign(Object.assign({},WS()),{[e]:t});return new sn("auth","Firebase",r).create(e,{appName:n.name})}function Pd(n){return GS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return qS.create(n,...e)}function ge(n,e,...t){if(!n)throw X_(e,...t)}function lc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw xd(e),new Error(e)}function Fd(n,e){n||lc(e)}function v2(){return VS()==="http:"||VS()==="https:"}function VS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function E2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v2()||iS()||"connection"in navigator)?navigator.onLine:!0}function w2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Zi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fd(t>e,"Short delay should be less than long delay!"),this.isMobile=nS()||oS()}get(){return E2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function I2(n,e){Fd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ld=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var b2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C2=new Zi(3e4,6e4);function KS(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hd(o,s,c,u){return A(this,arguments,function*(n,e,t,r,i={}){return YS(n,i,()=>A(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=v_(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:m},l);return rS()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Hi(n.emulatorConfig.host)&&(_.credentials="include"),Ld.fetch()(yield QS(n,n.config.apiHost,t,p),_)}))})}function YS(n,e,t){return A(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},D2),e);try{let i=new $_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Md(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Md(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GS(n,h,l);LS(n,h)}}catch(i){if(i instanceof $t)throw i;LS(n,"network-request-failed",{message:String(i)})}})}function QS(n,e,t,r){return A(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?I2(n.config,i):`${n.config.apiScheme}://${i}`;return b2.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var $_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Z_(this.auth,"network-request-failed")),C2.get())})}};function Md(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Z_(n,e,r);return i.customData._tokenResponse=t,i}function T2(n,e){return A(this,null,function*(){return Hd(n,"POST","/v1/accounts:delete",e)})}function Vd(n,e){return A(this,null,function*(){return Hd(n,"POST","/v1/accounts:lookup",e)})}function dc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function J_(n,e=!1){return A(this,null,function*(){let t=Ft(n),r=yield t.getIdToken(e),i=ZS(r);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:dc(U_(i.auth_time)),issuedAtTime:dc(U_(i.iat)),expirationTime:dc(U_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function U_(n){return Number(n)*1e3}function ZS(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Id(t);return i?JSON.parse(i):(xd("Failed to decode base64 JWT payload"),null)}catch(i){return xd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jS(n){let e=ZS(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function z_(n,e,t=!1){return A(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof $t&&S2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function S2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var W_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),t)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jd(n){return A(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield z_(n,Vd(t,{idToken:r}));ge(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?XS(o.providerUserInfo):[],c=A2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new fc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function ey(n){return A(this,null,function*(){let e=Ft(n);yield jd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function A2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XS(n){return n.map(e=>{var{providerId:t}=e,r=Hf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function R2(n,e){return A(this,null,function*(){let t=yield YS(n,{},()=>A(null,null,function*(){let r=v_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield QS(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Hi(n.emulatorConfig.host)&&(u.credentials="include"),Ld.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function N2(n,e){return A(this,null,function*(){return Hd(n,"POST","/v2/accounts:revokeToken",KS(n,e))})}var hc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let t=jS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return A(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield R2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return lc("not implemented")}};function jr(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Yi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let t=yield z_(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return J_(this,e)}reload(){return ey(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield jd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(Xn(this.auth.app))return Promise.reject(Pd(this.auth));let e=yield this.getIdToken();return yield z_(this,T2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,P=(l=t.createdAt)!==null&&l!==void 0?l:void 0,B=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:be,isAnonymous:mt,providerData:Ee,stsTokenManager:D}=t;ge(ne&&D,e,"internal-error");let y=hc.fromJSON(this.name,D);ge(typeof ne=="string",e,"internal-error"),jr(p,e.name),jr(m,e.name),ge(typeof be=="boolean",e,"internal-error"),ge(typeof mt=="boolean",e,"internal-error"),jr(_,e.name),jr(T,e.name),jr(k,e.name),jr(N,e.name),jr(P,e.name),jr(B,e.name);let E=new n({uid:ne,auth:e,email:m,emailVerified:be,displayName:p,isAnonymous:mt,photoURL:T,phoneNumber:_,tenantId:k,stsTokenManager:y,createdAt:P,lastLoginAt:B});return Ee&&Array.isArray(Ee)&&(E.providerData=Ee.map(I=>Object.assign({},I))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,t,r=!1){return A(this,null,function*(){let i=new hc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return A(this,null,function*(){let i=t.users[0];ge(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?XS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new hc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var BS=new Map;function Qi(n){Fd(n instanceof Function,"Expected a class definition");let e=BS.get(n);return e?(Fd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BS.set(n,e),e)}var k2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(t,r){return A(this,null,function*(){this.storage[t]=r})}_get(t){return A(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return A(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),q_=k2;function H_(n,e,t){return`firebase:${n}:${e}:${t}`}var Bd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=H_(this.userKey,i.apiKey,o),this.fullPersistenceKey=H_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Vd(this.auth,{idToken:e}).catch(()=>{});return t?Yi._fromGetAccountInfoResponse(this.auth,t,e):null}return Yi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return A(this,null,function*(){if(!t.length)return new n(Qi(q_),e,r);let i=(yield Promise.all(t.map(l=>A(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Qi(q_),s=H_(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Vd(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Yi._fromGetAccountInfoResponse(e,m,h)}else p=Yi._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>A(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function US(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L2(e))return"Blackberry";if(V2(e))return"Webos";if(x2(e))return"Safari";if((e.includes("chrome/")||P2(e))&&!e.includes("edge/"))return"Chrome";if(F2(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function M2(n=Ot()){return/firefox\//i.test(n)}function x2(n=Ot()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P2(n=Ot()){return/crios\//i.test(n)}function O2(n=Ot()){return/iemobile/i.test(n)}function F2(n=Ot()){return/android/i.test(n)}function L2(n=Ot()){return/blackberry/i.test(n)}function V2(n=Ot()){return/webos/i.test(n)}function JS(n,e=[]){let t;switch(n){case"Browser":t=US(Ot());break;case"Worker":t=`${US(Ot())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${us}/${r}`}var G_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function j2(t){return A(this,arguments,function*(n,e={}){return Hd(n,"GET","/v2/passwordPolicy",KS(n,e))})}var B2=6,K_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:B2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Y_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ud(this),this.idTokenSubscription=new Ud(this),this.beforeStateQueue=new G_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qi(t)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Bd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let t=yield Vd(this,{idToken:e}),r=yield Yi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var t;if(Xn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield jd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=w2()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(Xn(this.app))return Promise.reject(Pd(this));let t=e?Ft(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return A(this,null,function*(){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return Xn(this.app)?Promise.reject(Pd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xn(this.app)?Promise.reject(Pd(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(Qi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield j2(this),t=new K_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield N2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qi(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=yield Bd.create(this,[Qi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return A(this,null,function*(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&y2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function U2(n){return Ft(n)}var Ud=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=cS(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var H2={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $2(n){H2=n}function z2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function W2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Qi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var zte=z2("rcb"),Wte=new Zi(3e4,6e4);var qte=new Zi(2e3,1e4);var Gte=600*1e3;var Kte=new Zi(3e4,6e4);var Yte=new Zi(5e3,15e3);var Qte=encodeURIComponent("fac");var HS="@firebase/auth",$S="1.10.8";var Q_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function q2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(n){an(new It("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(n)},l=new Y_(r,i,o,u);return W2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),an(new It("auth-internal",e=>{let t=U2(e.getProvider("auth").getImmediate());return(r=>new Q_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(HS,$S,q2(n)),Oe(HS,$S,"esm2017")}var K2=300,Zte=eS("authIdTokenMaxAge")||K2;function Y2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Z_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Y2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");var Gj="auth";var $d=class{constructor(){return hs(Gj)}};var eA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tA={};var er,ty;(function(){var n;function e(D,y){function E(){}E.prototype=y.prototype,D.D=y.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(I,b,S){for(var v=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)v[Vn-2]=arguments[Vn];return y.prototype[b].apply(I,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)I[b]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(b=0;16>b;++b)I[b]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],v=y+(S^E&(b^S))+I[0]+3614090360&4294967295;y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+I[1]+3905402710&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+I[2]+606105819&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+I[3]+3250441966&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+I[4]+4118548399&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+I[5]+1200080426&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+I[6]+2821735955&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+I[7]+4249261313&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+I[8]+1770035416&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+I[9]+2336552879&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+I[10]+4294925233&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+I[11]+2304563134&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(S^E&(b^S))+I[12]+1804603682&4294967295,y=E+(v<<7&4294967295|v>>>25),v=S+(b^y&(E^b))+I[13]+4254626195&4294967295,S=y+(v<<12&4294967295|v>>>20),v=b+(E^S&(y^E))+I[14]+2792965006&4294967295,b=S+(v<<17&4294967295|v>>>15),v=E+(y^b&(S^y))+I[15]+1236535329&4294967295,E=b+(v<<22&4294967295|v>>>10),v=y+(b^S&(E^b))+I[1]+4129170786&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+I[6]+3225465664&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+I[11]+643717713&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+I[0]+3921069994&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+I[5]+3593408605&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+I[10]+38016083&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+I[15]+3634488961&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+I[4]+3889429448&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+I[9]+568446438&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+I[14]+3275163606&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+I[3]+4107603335&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+I[8]+1163531501&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(b^S&(E^b))+I[13]+2850285829&4294967295,y=E+(v<<5&4294967295|v>>>27),v=S+(E^b&(y^E))+I[2]+4243563512&4294967295,S=y+(v<<9&4294967295|v>>>23),v=b+(y^E&(S^y))+I[7]+1735328473&4294967295,b=S+(v<<14&4294967295|v>>>18),v=E+(S^y&(b^S))+I[12]+2368359562&4294967295,E=b+(v<<20&4294967295|v>>>12),v=y+(E^b^S)+I[5]+4294588738&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+I[8]+2272392833&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+I[11]+1839030562&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+I[14]+4259657740&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+I[1]+2763975236&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+I[4]+1272893353&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+I[7]+4139469664&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+I[10]+3200236656&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+I[13]+681279174&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+I[0]+3936430074&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+I[3]+3572445317&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+I[6]+76029189&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(E^b^S)+I[9]+3654602809&4294967295,y=E+(v<<4&4294967295|v>>>28),v=S+(y^E^b)+I[12]+3873151461&4294967295,S=y+(v<<11&4294967295|v>>>21),v=b+(S^y^E)+I[15]+530742520&4294967295,b=S+(v<<16&4294967295|v>>>16),v=E+(b^S^y)+I[2]+3299628645&4294967295,E=b+(v<<23&4294967295|v>>>9),v=y+(b^(E|~S))+I[0]+4096336452&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+I[7]+1126891415&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+I[14]+2878612391&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+I[5]+4237533241&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+I[12]+1700485571&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+I[3]+2399980690&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+I[10]+4293915773&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+I[1]+2240044497&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+I[8]+1873313359&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+I[15]+4264355552&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+I[6]+2734768916&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+I[13]+1309151649&4294967295,E=b+(v<<21&4294967295|v>>>11),v=y+(b^(E|~S))+I[4]+4149444226&4294967295,y=E+(v<<6&4294967295|v>>>26),v=S+(E^(y|~b))+I[11]+3174756917&4294967295,S=y+(v<<10&4294967295|v>>>22),v=b+(y^(S|~E))+I[2]+718787259&4294967295,b=S+(v<<15&4294967295|v>>>17),v=E+(S^(b|~y))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var E=y-this.blockSize,I=this.B,b=this.h,S=0;S<y;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<y;)if(I[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,I),b=0;break}}else for(;S<y;)if(I[b++]=D[S++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var E=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=E&255,E/=256;for(this.u(D),D=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)D[E++]=this.g[y]>>>I&255;return D};function o(D,y){var E=c;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=y(D)}function s(D,y){this.h=y;for(var E=[],I=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;I&&S==y||(E[b]=S,I=!1)}this.g=E}var c={};function u(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var y=[],E=1,I=0;D>=E;I++)y[I]=D/E|0,E*=4294967296;return new s(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return N(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(y,8)),I=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),v=parseInt(D.substring(b,b+S),y);8>S?(S=l(Math.pow(y,S)),I=I.j(S).add(l(v))):(I=I.j(E),I=I.add(l(v)))}return I}var p=u(0),m=u(1),_=u(16777216);n=s.prototype,n.m=function(){if(k(this))return-N(this).m();for(var D=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);D+=(0<=I?I:4294967296+I)*y,y*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(k(this))return"-"+N(this).toString(D);for(var y=l(Math.pow(D,6)),E=this,I="";;){var b=be(E,y).g;E=P(E,b.j(y));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,T(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=P(this,D),k(D)?-1:T(D)?0:1};function N(D){for(var y=D.g.length,E=[],I=0;I<y;I++)E[I]=~D.g[I];return new s(E,~D.h).add(m)}n.abs=function(){return k(this)?N(this):this},n.add=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0,b=0;b<=y;b++){var S=I+(this.i(b)&65535)+(D.i(b)&65535),v=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);I=v>>>16,S&=65535,v&=65535,E[b]=v<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function P(D,y){return D.add(N(y))}n.j=function(D){if(T(this)||T(D))return p;if(k(this))return k(D)?N(this).j(N(D)):N(N(this).j(D));if(k(D))return N(this.j(N(D)));if(0>this.l(_)&&0>D.l(_))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<D.g.length;b++){var S=this.i(I)>>>16,v=this.i(I)&65535,Vn=D.i(b)>>>16,$s=D.i(b)&65535;E[2*I+2*b]+=v*$s,B(E,2*I+2*b),E[2*I+2*b+1]+=S*$s,B(E,2*I+2*b+1),E[2*I+2*b+1]+=v*Vn,B(E,2*I+2*b+1),E[2*I+2*b+2]+=S*Vn,B(E,2*I+2*b+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function B(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function ne(D,y){this.g=D,this.h=y}function be(D,y){if(T(y))throw Error("division by zero");if(T(D))return new ne(p,p);if(k(D))return y=be(N(D),y),new ne(N(y.g),N(y.h));if(k(y))return y=be(D,N(y)),new ne(N(y.g),y.h);if(30<D.g.length){if(k(D)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=y;0>=I.l(D);)E=mt(E),I=mt(I);var b=Ee(E,1),S=Ee(I,1);for(I=Ee(I,2),E=Ee(E,2);!T(I);){var v=S.add(I);0>=v.l(D)&&(b=b.add(E),S=v),I=Ee(I,1),E=Ee(E,1)}return y=P(D,b.j(y)),new ne(b,y)}for(b=p;0<=D.l(y);){for(E=Math.max(1,Math.floor(D.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(E),v=S.j(y);k(v)||0<v.l(D);)E-=I,S=l(E),v=S.j(y);T(S)&&(S=m),b=b.add(S),D=P(D,v)}return new ne(b,D)}n.A=function(D){return be(this,D).h},n.and=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&D.i(I);return new s(E,this.h&D.h)},n.or=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|D.i(I);return new s(E,this.h|D.h)},n.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^D.i(I);return new s(E,this.h^D.h)};function mt(D){for(var y=D.g.length+1,E=[],I=0;I<y;I++)E[I]=D.i(I)<<1|D.i(I-1)>>>31;return new s(E,D.h)}function Ee(D,y){var E=y>>5;y%=32;for(var I=D.g.length-E,b=[],S=0;S<I;S++)b[S]=0<y?D.i(S+E)>>>y|D.i(S+E+1)<<32-y:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ty=tA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,er=tA.Integer=s}).apply(typeof eA<"u"?eA:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tr={};var ny,Kj,fs,ry,pc,Wd,iy,oy,sy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in f))break e;f=f[C]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,C={next:function(){if(!g&&f<a.length){var R=f++;return{value:d(R,a[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function _(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function T(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,C,R){for(var O=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)O[Ce-2]=arguments[Ce];return d.prototype[C].apply(g,O)}}function k(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=a.length||0,R=g.length||0;a.length=C+R;for(let O=0;O<R;O++)a[C+O]=g[O]}else a.push(g)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(a){return/^[\s\xa0]*$/.test(a)}function ne(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function be(a){return be[" "](a),a}be[" "]=function(){};var mt=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ee(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function y(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)a[f]=g[f];for(let R=0;R<E.length;R++)f=E[R],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function b(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function S(a){c.setTimeout(()=>{throw a},0)}function v(){var a=af;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Vn{constructor(){this.h=this.g=null}add(d,f){let g=$s.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var $s=new P(()=>new TN,a=>a.reset());class TN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let zs,Ws=!1,af=new Vn,$E=()=>{let a=c.Promise.resolve(void 0);zs=()=>{a.then(SN)}};var SN=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(f){S(f)}var d=$s;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ws=!1};function ur(){this.s=this.s,this.C=this.C}ur.prototype.s=!1,ur.prototype.ma=function(){this.s||(this.s=!0,this.N())},ur.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var AN=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a})();function qs(a,d){if(at.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(mt){e:{try{be(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:RN[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&qs.aa.h.call(this)}}T(qs,at);var RN={2:"touch",3:"pen",4:"mouse"};qs.prototype.h=function(){qs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Gs="closure_listenable_"+(1e6*Math.random()|0),NN=0;function kN(a,d,f,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++NN,this.da=this.fa=!1}function Wc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function qc(a){this.src=a,this.g={},this.h=0}qc.prototype.add=function(a,d,f,g,C){var R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);var O=uf(a,d,g,C);return-1<O?(d=a[O],f||(d.fa=!1)):(d=new kN(d,this.src,R,!!g,C),d.fa=f,a.push(d)),d};function cf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],C=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=C)&&Array.prototype.splice.call(g,C,1),R&&(Wc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function uf(a,d,f,g){for(var C=0;C<a.length;++C){var R=a[C];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return C}return-1}var lf="closure_lm_"+(1e6*Math.random()|0),df={};function zE(a,d,f,g,C){if(g&&g.once)return qE(a,d,f,g,C);if(Array.isArray(d)){for(var R=0;R<d.length;R++)zE(a,d[R],f,g,C);return null}return f=gf(f),a&&a[Gs]?a.K(d,f,l(g)?!!g.capture:!!g,C):WE(a,d,f,!1,g,C)}function WE(a,d,f,g,C,R){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Ce=ff(a);if(Ce||(a[lf]=Ce=new qc(a)),f=Ce.add(d,f,g,O,R),f.proxy)return f;if(g=MN(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)AN||(C=O),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(KE(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function MN(){function a(f){return d.call(a.src,a.listener,f)}let d=xN;return a}function qE(a,d,f,g,C){if(Array.isArray(d)){for(var R=0;R<d.length;R++)qE(a,d[R],f,g,C);return null}return f=gf(f),a&&a[Gs]?a.L(d,f,l(g)?!!g.capture:!!g,C):WE(a,d,f,!0,g,C)}function GE(a,d,f,g,C){if(Array.isArray(d))for(var R=0;R<d.length;R++)GE(a,d[R],f,g,C);else g=l(g)?!!g.capture:!!g,f=gf(f),a&&a[Gs]?(a=a.i,d=String(d).toString(),d in a.g&&(R=a.g[d],f=uf(R,f,g,C),-1<f&&(Wc(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete a.g[d],a.h--)))):a&&(a=ff(a))&&(d=a.g[d.toString()],a=-1,d&&(a=uf(d,f,g,C)),(f=-1<a?d[a]:null)&&hf(f))}function hf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Gs])cf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(KE(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ff(d))?(cf(f,a),f.h==0&&(f.src=null,d[lf]=null)):Wc(a)}}}function KE(a){return a in df?df[a]:df[a]="on"+a}function xN(a,d){if(a.da)a=!0;else{d=new qs(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&hf(a),a=f.call(g,d)}return a}function ff(a){return a=a[lf],a instanceof qc?a:null}var pf="__closure_events_fn_"+(1e9*Math.random()>>>0);function gf(a){return typeof a=="function"?a:(a[pf]||(a[pf]=function(d){return a.handleEvent(d)}),a[pf])}function ct(){ur.call(this),this.i=new qc(this),this.M=this,this.F=null}T(ct,ur),ct.prototype[Gs]=!0,ct.prototype.removeEventListener=function(a,d,f,g){GE(this,a,d,f,g)};function _t(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new at(d,a);else if(d instanceof at)d.target=d.target||a;else{var C=d;d=new at(g,a),I(d,C)}if(C=!0,f)for(var R=f.length-1;0<=R;R--){var O=d.g=f[R];C=Gc(O,g,!0,d)&&C}if(O=d.g=a,C=Gc(O,g,!0,d)&&C,C=Gc(O,g,!1,d)&&C,f)for(R=0;R<f.length;R++)O=d.g=f[R],C=Gc(O,g,!1,d)&&C}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Wc(f[g]);delete a.g[d],a.h--}}this.F=null},ct.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},ct.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function Gc(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,R=0;R<d.length;++R){var O=d[R];if(O&&!O.da&&O.capture==f){var Ce=O.listener,rt=O.ha||O.src;O.fa&&cf(a.i,O),C=Ce.call(rt,g)!==!1&&C}}return C&&!g.defaultPrevented}function YE(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function QE(a){a.g=YE(()=>{a.g=null,a.i&&(a.i=!1,QE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class PN extends ur{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:QE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(a){ur.call(this),this.h=a,this.g={}}T(Ks,ur);var ZE=[];function XE(a){Ee(a.g,function(d,f){this.g.hasOwnProperty(f)&&hf(d)},a),a.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),XE(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mf=c.JSON.stringify,ON=c.JSON.parse,FN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function _f(){}_f.prototype.h=null;function JE(a){return a.h||(a.h=a.i())}function ew(){}var Ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yf(){at.call(this,"d")}T(yf,at);function vf(){at.call(this,"c")}T(vf,at);var Zr={},tw=null;function Kc(){return tw=tw||new ct}Zr.La="serverreachability";function nw(a){at.call(this,Zr.La,a)}T(nw,at);function Qs(a){let d=Kc();_t(d,new nw(d))}Zr.STAT_EVENT="statevent";function rw(a,d){at.call(this,Zr.STAT_EVENT,a),this.stat=d}T(rw,at);function yt(a){let d=Kc();_t(d,new rw(d,a))}Zr.Ma="timingevent";function iw(a,d){at.call(this,Zr.Ma,a),this.size=d}T(iw,at);function Zs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function LN(a,d,f,g,C,R){a.info(function(){if(a.g)if(R)for(var O="",Ce=R.split("&"),rt=0;rt<Ce.length;rt++){var fe=Ce[rt].split("=");if(1<fe.length){var ut=fe[0];fe=fe[1];var lt=ut.split("_");O=2<=lt.length&&lt[1]=="type"?O+(ut+"="+fe+"&"):O+(ut+"=redacted&")}}else O=null;else O=R;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function VN(a,d,f,g,C,R,O){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+R+" "+O})}function vo(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+BN(a,f)+(g?" "+g:"")})}function jN(a,d){a.info(function(){return"TIMEOUT: "+d})}Xs.prototype.info=function(){};function BN(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return mf(f)}catch{return d}}var Yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ow={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ef;function Qc(){}T(Qc,_f),Qc.prototype.g=function(){return new XMLHttpRequest},Qc.prototype.i=function(){return{}},Ef=new Qc;function lr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sw}function sw(){this.i=null,this.g="",this.h=!1}var aw={},wf={};function If(a,d,f){a.L=1,a.v=eu(jn(d)),a.m=f,a.P=!0,cw(a,null)}function cw(a,d){a.F=Date.now(),Zc(a),a.A=jn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Iw(f.i,"t",g),a.C=0,f=a.j.J,a.h=new sw,a.g=Bw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new PN(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(ZE[0]=C.toString()),C=ZE);for(var R=0;R<C.length;R++){var O=zE(f,C[R],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Qs(),LN(a.i,a.u,a.A,a.l,a.R,a.m)}lr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Bn(a)==3?d.j():this.Y(a)},lr.prototype.Y=function(a){try{if(a==this.g)e:{let lt=Bn(this.g);var d=this.g.Ba();let Io=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||Rw(this.g)))){this.J||lt!=4||d==7||(d==8||0>=Io?Qs(3):Qs(2)),Df(this);var f=this.g.Z();this.X=f;t:if(uw(this)){var g=Rw(this.g);a="";var C=g.length,R=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Js(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(R&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,VN(this.i,this.u,this.A,this.l,this.R,lt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,rt=this.g;if((Ce=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ce)){var fe=Ce;break t}}fe=null}if(f=fe)vo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bf(this,f);else{this.o=!1,this.s=3,yt(12),Xr(this),Js(this);break e}}if(this.P){f=!0;let Wt;for(;!this.J&&this.C<O.length;)if(Wt=UN(this,O),Wt==wf){lt==4&&(this.s=4,yt(14),f=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==aw){this.s=4,yt(15),vo(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else vo(this.i,this.l,Wt,null),bf(this,Wt);if(uw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||O.length!=0||this.h.h||(this.s=1,yt(16),f=!1),this.o=this.o&&f,!f)vo(this.i,this.l,O,"[Invalid Chunked Response]"),Xr(this),Js(this);else if(0<O.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Nf(ut),ut.M=!0,yt(11))}}else vo(this.i,this.l,O,null),bf(this,O);lt==4&&Xr(this),this.o&&!this.J&&(lt==4?Fw(this.j,this):(this.o=!1,Zc(this)))}else ik(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Xr(this),Js(this)}}}catch{}finally{}};function uw(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function UN(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?wf:(f=Number(d.substring(f,g)),isNaN(f)?aw:(g+=1,g+f>d.length?wf:(d=d.slice(g,g+f),a.C=g+f,d)))}lr.prototype.cancel=function(){this.J=!0,Xr(this)};function Zc(a){a.S=Date.now()+a.I,lw(a,a.I)}function lw(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Zs(m(a.ba,a),d)}function Df(a){a.B&&(c.clearTimeout(a.B),a.B=null)}lr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(jN(this.i,this.A),this.L!=2&&(Qs(),yt(17)),Xr(this),this.s=2,Js(this)):lw(this,this.S-a)};function Js(a){a.j.G==0||a.J||Fw(a.j,a)}function Xr(a){Df(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,XE(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function bf(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Cf(f.h,a))){if(!a.K&&Cf(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)ou(f),ru(f);else break e;Rf(f),yt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Zs(m(f.Za,f),6e3));if(1>=fw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ei(f,11)}else if((a.K||f.g==a)&&ou(f),!B(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let ut=fe[3];ut!=null&&(f.la=ut,f.j.info("VER="+f.la));let lt=fe[4];lt!=null&&(f.Aa=lt,f.j.info("SVER="+f.Aa));let Io=fe[5];Io!=null&&typeof Io=="number"&&0<Io&&(g=1.5*Io,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Wt=a.g;if(Wt){let au=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(au){var R=g.h;R.g||au.indexOf("spdy")==-1&&au.indexOf("quic")==-1&&au.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Tf(R,R.h),R.h=null))}if(g.D){let kf=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;kf&&(g.ya=kf,Se(g.I,g.D,kf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=a;if(g.qa=jw(g,g.J?g.ia:null,g.W),O.K){pw(g.h,O);var Ce=O,rt=g.L;rt&&(Ce.I=rt),Ce.B&&(Df(Ce),Zc(Ce)),g.g=O}else Pw(g);0<f.i.length&&iu(f)}else fe[0]!="stop"&&fe[0]!="close"||ei(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?ei(f,7):Af(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}Qs(4)}catch{}}var HN=class{constructor(a,d){this.g=a,this.map=d}};function dw(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hw(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function fw(a){return a.h?1:a.g?a.g.size:0}function Cf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Tf(a,d){a.g?a.g.add(d):a.h=d}function pw(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}dw.prototype.cancel=function(){if(this.i=gw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function gw(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return k(a.i)}function $N(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function zN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function mw(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=zN(a),g=$N(a),C=g.length,R=0;R<C;R++)d.call(void 0,g[R],f&&f[R],a)}var _w=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WN(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),C=null;if(0<=g){var R=a[f].substring(0,g);C=a[f].substring(g+1)}else R=a[f];d(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Jr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Jr){this.h=a.h,Xc(this,a.j),this.o=a.o,this.g=a.g,Jc(this,a.s),this.l=a.l;var d=a.i,f=new na;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),yw(this,f),this.m=a.m}else a&&(d=String(a).match(_w))?(this.h=!1,Xc(this,d[1]||"",!0),this.o=ea(d[2]||""),this.g=ea(d[3]||"",!0),Jc(this,d[4]),this.l=ea(d[5]||"",!0),yw(this,d[6]||"",!0),this.m=ea(d[7]||"")):(this.h=!1,this.i=new na(null,this.h))}Jr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ta(d,vw,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ta(d,vw,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(ta(f,f.charAt(0)=="/"?KN:GN,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",ta(f,QN)),a.join("")};function jn(a){return new Jr(a)}function Xc(a,d,f){a.j=f?ea(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Jc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function yw(a,d,f){d instanceof na?(a.i=d,ZN(a.i,a.h)):(f||(d=ta(d,YN)),a.i=new na(d,a.h))}function Se(a,d,f){a.i.set(d,f)}function eu(a){return Se(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ea(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ta(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,qN),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var vw=/[#\/\?@]/g,GN=/[#\?:]/g,KN=/[#\?]/g,YN=/[#\?@]/g,QN=/#/g;function na(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function dr(a){a.g||(a.g=new Map,a.h=0,a.i&&WN(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=na.prototype,n.add=function(a,d){dr(this),this.i=null,a=Eo(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function Ew(a,d){dr(a),d=Eo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function ww(a,d){return dr(a),d=Eo(a,d),a.g.has(d)}n.forEach=function(a,d){dr(this),this.g.forEach(function(f,g){f.forEach(function(C){a.call(d,C,g,this)},this)},this)},n.na=function(){dr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=a[g];for(let R=0;R<C.length;R++)f.push(d[g])}return f},n.V=function(a){dr(this);let d=[];if(typeof a=="string")ww(this,a)&&(d=d.concat(this.g.get(Eo(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return dr(this),this.i=null,a=Eo(this,a),ww(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Iw(a,d,f){Ew(a,d),0<f.length&&(a.i=null,a.g.set(Eo(a,d),k(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var C=R;O[g]!==""&&(C+="="+encodeURIComponent(String(O[g]))),a.push(C)}}return this.i=a.join("&")};function Eo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function ZN(a,d){d&&!a.j&&(dr(a),a.i=null,a.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Ew(this,g),Iw(this,C,f))},a)),a.j=d}function XN(a,d){let f=new Xs;if(c.Image){let g=new Image;g.onload=_(hr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=_(hr,f,"TestLoadImage: error",!1,d,g),g.onabort=_(hr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=_(hr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function JN(a,d){let f=new Xs,g=new AbortController,C=setTimeout(()=>{g.abort(),hr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(R=>{clearTimeout(C),R.ok?hr(f,"TestPingServer: ok",!0,d):hr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),hr(f,"TestPingServer: error",!1,d)})}function hr(a,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function ek(){this.g=new FN}function tk(a,d,f){let g=f||"";try{mw(a,function(C,R){let O=C;l(C)&&(O=mf(C)),d.push(g+R+"="+encodeURIComponent(O))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function ra(a){this.l=a.Ub||null,this.j=a.eb||!1}T(ra,_f),ra.prototype.g=function(){return new tu(this.l,this.j)},ra.prototype.i=(function(a){return function(){return a}})({});function tu(a,d){ct.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(tu,ct),n=tu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,oa(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dw(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dw(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ia(this):oa(this),this.readyState==3&&Dw(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ia(this))},n.Qa=function(a){this.g&&(this.response=a,ia(this))},n.ga=function(){this.g&&ia(this)};function ia(a){a.readyState=4,a.l=null,a.j=null,a.v=null,oa(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function oa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function bw(a){let d="";return Ee(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Sf(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=bw(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Se(a,d,f))}function Me(a){ct.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Me,ct);var nk=/^https?$/i,rk=["POST","PUT"];n=Me.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ef.g(),this.v=this.o?JE(this.o):JE(Ef),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(R){Cw(this,R);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(rk,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,O]of f)this.g.setRequestHeader(R,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aw(this),this.u=!0,this.g.send(a),this.u=!1}catch(R){Cw(this,R)}};function Cw(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Tw(a),nu(a)}function Tw(a){a.A||(a.A=!0,_t(a,"complete"),_t(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,_t(this,"complete"),_t(this,"abort"),nu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nu(this,!0)),Me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sw(this):this.bb())},n.bb=function(){Sw(this)};function Sw(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Bn(a)!=4||a.Z()!=2)){if(a.u&&Bn(a)==4)YE(a.Ea,0,a);else if(_t(a,"readystatechange"),Bn(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var C=String(a.D).match(_w)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!nk.test(C?C.toLowerCase():"")}f=g}if(f)_t(a,"complete"),_t(a,"success");else{a.m=6;try{var R=2<Bn(a)?a.g.statusText:""}catch{R=""}a.l=R+" ["+a.Z()+"]",Tw(a)}}finally{nu(a)}}}}function nu(a,d){if(a.g){Aw(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||_t(a,"ready");try{f.onreadystatechange=g}catch{}}}function Aw(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Bn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),ON(d)}};function Rw(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ik(a){let d={};a=(a.g&&2<=Bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(B(a[g]))continue;var f=b(a[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[C]||[];d[C]=R,R.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Nw(a){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,a),this.cb=sa("retryDelaySeedMs",1e4,a),this.Wa=sa("forwardChannelMaxRetries",2,a),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new dw(a&&a.concurrentRequestLimit),this.Da=new ek,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Nw.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){yt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=jw(this,null,this.W),iu(this)};function Af(a){if(kw(a),a.G==3){var d=a.U++,f=jn(a.I);if(Se(f,"SID",a.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),aa(a,f),d=new lr(a,a.j,d),d.L=2,d.v=eu(jn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=Bw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zc(d)}Vw(a)}function ru(a){a.g&&(Nf(a),a.g.cancel(),a.g=null)}function kw(a){ru(a),a.u&&(c.clearTimeout(a.u),a.u=null),ou(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function iu(a){if(!hw(a.h)&&!a.s){a.s=!0;var d=a.Ga;zs||$E(),Ws||(zs(),Ws=!0),af.add(d,a),a.B=0}}function ok(a,d){return fw(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Zs(m(a.Ga,a,d),Lw(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new lr(this,this.j,a),R=this.o;if(this.S&&(R?(R=y(R),I(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=xw(this,C,d),f=jn(this.I),Se(f,"RID",a),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),aa(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(bw(R)))+"&"+d:this.m&&Sf(f,this.m,R)),Tf(this.h,C),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),C.T=!0,If(C,f,null)):If(C,f,d),this.G=2}}else this.G==3&&(a?Mw(this,a):this.i.length==0||hw(this.h)||Mw(this))};function Mw(a,d){var f;d?f=d.l:f=a.U++;let g=jn(a.I);Se(g,"SID",a.K),Se(g,"RID",f),Se(g,"AID",a.T),aa(a,g),a.m&&a.o&&Sf(g,a.m,a.o),f=new lr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=xw(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Tf(a.h,f),If(f,g,d)}function aa(a,d){a.H&&Ee(a.H,function(f,g){Se(d,g,f)}),a.l&&mw({},function(f,g){Se(d,g,f)})}function xw(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let R=-1;for(;;){let O=["count="+f];R==-1?0<f?(R=C[0].g,O.push("ofs="+R)):R=0:O.push("ofs="+R);let Ce=!0;for(let rt=0;rt<f;rt++){let fe=C[rt].g,ut=C[rt].map;if(fe-=R,0>fe)R=Math.max(0,C[rt].g-100),Ce=!1;else try{tk(ut,O,"req"+fe+"_")}catch{g&&g(ut)}}if(Ce){g=O.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function Pw(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;zs||$E(),Ws||(zs(),Ws=!0),af.add(d,a),a.v=0}}function Rf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Zs(m(a.Fa,a),Lw(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Ow(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Zs(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ru(this),Ow(this))};function Nf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Ow(a){a.g=new lr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=jn(a.qa);Se(d,"RID","rpc"),Se(d,"SID",a.K),Se(d,"AID",a.T),Se(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Se(d,"TO",a.ja),Se(d,"TYPE","xmlhttp"),aa(a,d),a.m&&a.o&&Sf(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=eu(jn(d)),f.m=null,f.P=!0,cw(f,a)}n.Za=function(){this.C!=null&&(this.C=null,ru(this),Rf(this),yt(19))};function ou(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Fw(a,d){var f=null;if(a.g==d){ou(a),Nf(a),a.g=null;var g=2}else if(Cf(a.h,d))f=d.D,pw(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=Kc(),_t(g,new iw(g,f)),iu(a)}else Pw(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&ok(a,d)||g==2&&Rf(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),C){case 1:ei(a,5);break;case 4:ei(a,10);break;case 3:ei(a,6);break;default:ei(a,2)}}}function Lw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function ei(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let C=!g;g=new Jr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xc(g,"https"),eu(g),C?XN(g.toString(),f):JN(g.toString(),f)}else yt(2);a.G=0,a.l&&a.l.sa(d),Vw(a),kw(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Vw(a){if(a.G=0,a.ka=[],a.l){let d=gw(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function jw(a,d,f){var g=f instanceof Jr?jn(f):new Jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Jc(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var R=new Jr(null);g&&Xc(R,g),d&&(R.g=d),C&&Jc(R,C),f&&(R.l=f),g=R}return f=a.D,d=a.ya,f&&d&&Se(g,f,d),Se(g,"VER",a.la),aa(a,g),g}function Bw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Me(new ra({eb:f})):new Me(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uw(){}n=Uw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function su(){}su.prototype.g=function(a,d){return new Nt(a,d)};function Nt(a,d){ct.call(this),this.g=new Nw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!B(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new wo(this)}T(Nt,ct),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Af(this.g)},Nt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=mf(a),a=f);d.i.push(new HN(d.Ya++,a)),d.G==3&&iu(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,Nt.aa.N.call(this)};function Hw(a){yf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(Hw,yf);function $w(){vf.call(this),this.status=1}T($w,vf);function wo(a){this.g=a}T(wo,Uw),wo.prototype.ua=function(){_t(this.g,"a")},wo.prototype.ta=function(a){_t(this.g,new Hw(a))},wo.prototype.sa=function(a){_t(this.g,new $w)},wo.prototype.ra=function(){_t(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,sy=tr.createWebChannelTransport=function(){return new su},oy=tr.getStatEventTarget=function(){return Kc()},iy=tr.Event=Zr,Wd=tr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yc.NO_ERROR=0,Yc.TIMEOUT=8,Yc.HTTP_ERROR=6,pc=tr.ErrorCode=Yc,ow.COMPLETE="complete",ry=tr.EventType=ow,ew.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",ct.prototype.listen=ct.prototype.K,fs=tr.WebChannel=ew,Kj=tr.FetchXmlHttpFactory=ra,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,ny=tr.XhrIo=Me}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});var nA="@firebase/firestore",rA="4.8.0";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var Ps="11.10.0";var oo=new Rn("@firebase/firestore");function ps(){return oo.logLevel}function F(n,...e){if(oo.logLevel<=ae.DEBUG){let t=e.map(Wv);oo.debug(`Firestore (${Ps}): ${n}`,...t)}}function nr(n,...e){if(oo.logLevel<=ae.ERROR){let t=e.map(Wv);oo.error(`Firestore (${Ps}): ${n}`,...t)}}function zr(n,...e){if(oo.logLevel<=ae.WARN){let t=e.map(Wv);oo.warn(`Firestore (${Ps}): ${n}`,...t)}}function Wv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qA(n,r,t)}function qA(n,e,t){let r=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw nr(r),new Error(r)}function ve(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||qA(e,i,r)}function X(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends $t{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Xd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(et.UNAUTHENTICATED))}shutdown(){}},hy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},fy=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>A(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new Xd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new et(e)}},py=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},gy=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new py(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},my=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Yj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function GA(){return new TextEncoder}var Ec=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Yj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function se(n,e){return n<e?-1:n>e?1:0}function _y(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=GA(),s=Qj(o.encode(iA(n,t)),o.encode(iA(e,t)));return s!==0?s:se(r,i)}}t+=r>65535?2:1}return se(n.length,e.length)}function iA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Qj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return se(n[t],e[t]);return se(n.length,e.length)}function ws(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var oA="__name__",eh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):_y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}},ke=class n extends eh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class n extends eh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Zj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oA}static keyField(){return new n([oA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new j(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new j(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new j(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};function KA(n,e,t){if(!t)throw new j(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xj(n,e,t,r){if(e===!0&&r===!0)throw new j(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sA(n){if(!z.isDocumentKey(n))throw new j(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aA(n){if(z.isDocumentKey(n))throw new j(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q(12329,{type:typeof n})}function to(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=qv(n);throw new j(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $e(n,e){let t={typeString:n};return e&&(t.value=e),t}function Mc(n,e){if(!YA(n))throw new j(M.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new j(M.INVALID_ARGUMENT,t);return!0}var cA=-62135596800,uA=1e6,ze=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*uA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cA)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uA}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-cA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:$e("string",ze._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ze(0,0))}static max(){return new n(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wc=-1,yy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};yy.UNKNOWN_ID=-1;function Jj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new ze(t+1,0):new ze(t,r));return new so(i,z.empty(),e)}function eB(n){return new so(n.readTime,n.key,wc)}var so=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),z.empty(),wc)}static max(){return new n(ee.max(),z.empty(),wc)}};function tB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:se(n.largestBatchId,e.largestBatchId))}var nB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Os(n){return A(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==nB)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function rB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fs(n){return n.name==="IndexedDbTransactionError"}var Gv=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Kv=-1;function kh(n){return n==null}function Ic(n){return n===0&&1/n==-1/0}function iB(n){return typeof n=="number"&&Number.isInteger(n)&&!Ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var QA="";function oB(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lA(e)),e=sB(n.get(t),e);return lA(e)}function sB(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case QA:t+="";break;default:t+=o}}return t}function lA(n){return n+QA+""}var aB="remoteDocuments",ZA="owner";var XA="mutationQueues";var JA="mutations";var e0="documentMutations",cB="remoteDocumentsV14";var t0="remoteDocumentGlobal";var n0="targets";var r0="targetDocuments";var i0="targetGlobal",o0="collectionParents";var s0="clientMetadata";var a0="bundles";var c0="namedQueries";var uB="indexConfiguration";var lB="indexState";var dB="indexEntries";var u0="documentOverlays";var hB="globals";var fB=[XA,JA,e0,aB,n0,ZA,i0,r0,s0,t0,o0,a0,c0],tre=[...fB,u0],pB=[XA,JA,e0,cB,n0,ZA,i0,r0,s0,t0,o0,a0,c0,u0],gB=pB,mB=[...gB,uB,lB,dB];var nre=[...mB,hB];function dA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}},ys=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new th(this.data.getIterator())}getIteratorFrom(e){return new th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},th=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class n{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new n([])}unionWith(e){let t=new tt(Lt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var nh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var _B=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(n){if(ve(!!n,39018),typeof n=="string"){let e=0,t=_B.exec(n);if(ve(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ir(n){return typeof n=="string"?gt.fromBase64String(n):gt.fromUint8Array(n)}var d0="server_timestamp",h0="__type__",f0="__previous_value__",p0="__local_write_time__";function Yv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[h0])===null||t===void 0?void 0:t.stringValue)===d0}function Mh(n){let e=n.mapValue.fields[f0];return Yv(e)?Mh(e):e}function Dc(n){let e=rr(n.mapValue.fields[p0].timestampValue);return new ze(e.seconds,e.nanos)}var Ey=class{constructor(e,t,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},rh="(default)",ih=class n{constructor(e,t){this.projectId=e,this.database=t||rh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Qv="__type__",g0="__max__",qd={mapValue:{fields:{__type__:{stringValue:g0}}}},Zv="__vector__",Is="value";function Wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yv(n)?4:_0(n)?9007199254740991:m0(n)?10:11:q(28295,{value:n})}function Fn(n,e){if(n===e)return!0;let t=Wr(n);if(t!==Wr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dc(n).isEqual(Dc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=rr(i.timestampValue),c=rr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return ir(i.bytesValue).isEqual(ir(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),c=Ae(o.doubleValue);return s===c?Ic(s)===Ic(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return ws(n.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(dA(s)!==dA(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Fn(s[u],c[u])))return!1;return!0})(n,e);default:return q(52216,{left:n})}}function bc(n,e){return(n.values||[]).find(t=>Fn(t,e))!==void 0}function Ds(n,e){if(n===e)return 0;let t=Wr(n),r=Wr(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return hA(n.timestampValue,e.timestampValue);case 4:return hA(Dc(n),Dc(e));case 5:return _y(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=ir(o),u=ir(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=se(c[l],u[l]);if(h!==0)return h}return se(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=se(Ae(o.latitude),Ae(s.latitude));return c!==0?c:se(Ae(o.longitude),Ae(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},_=(c=p[Is])===null||c===void 0?void 0:c.arrayValue,T=(u=m[Is])===null||u===void 0?void 0:u.arrayValue,k=se(((l=_?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:fA(_,T)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===qd.mapValue&&s===qd.mapValue)return 0;if(o===qd.mapValue)return 1;if(s===qd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_y(u[p],h[p]);if(m!==0)return m;let _=Ds(c[u[p]],l[h[p]]);if(_!==0)return _}return se(u.length,h.length)})(n.mapValue,e.mapValue);default:throw q(23264,{le:t})}}function hA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return se(n,e);let t=rr(n),r=rr(e),i=se(t.seconds,r.seconds);return i!==0?i:se(t.nanos,r.nanos)}function fA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ds(t[i],r[i]);if(o)return o}return se(t.length,r.length)}function bs(n){return wy(n)}function wy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=rr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ir(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=wy(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${wy(t.fields[s])}`;return i+"}"})(n.mapValue):q(61005,{value:n})}function Yd(n){switch(Wr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Mh(n);return e?16+Yd(e):16;case 5:return 2*n.stringValue.length;case 6:return ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Yd(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return fo(r.fields,(o,s)=>{i+=o.length+Yd(s)}),i})(n.mapValue);default:throw q(13486,{value:n})}}function Iy(n){return!!n&&"integerValue"in n}function Xv(n){return!!n&&"arrayValue"in n}function pA(n){return!!n&&"nullValue"in n}function gA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qd(n){return!!n&&"mapValue"in n}function m0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qv])===null||t===void 0?void 0:t.stringValue)===Zv}function mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return fo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g0}var ire={mapValue:{fields:{[Qv]:{stringValue:Zv},[Is]:{arrayValue:{}}}}};var un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=Lt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=mc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Qd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(mc(this.value))}};function y0(n){let e=[];return fo(n.fields,(t,r)=>{let i=new Lt([t]);if(Qd(r)){let o=y0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new kn(e)}var ln=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),un.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cs=class{constructor(e,t){this.position=e,this.inclusive=t}};function mA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),t.key):r=Ds(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _A(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fn(n.position[t],e.position[t]))return!1;return!0}var Ts=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function yB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var oh=class{},Ye=class n extends oh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new by(e,t,r):t==="array-contains"?new Sy(e,r):t==="in"?new Ay(e,r):t==="not-in"?new Ry(e,r):t==="array-contains-any"?new Ny(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Cy(e,r):new Ty(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ds(t,this.value)):t!==null&&Wr(this.value)===Wr(t)&&this.matchesComparison(Ds(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class n extends oh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return v0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function v0(n){return n.op==="and"}function E0(n){return vB(n)&&v0(n)}function vB(n){for(let e of n.filters)if(e instanceof Ln)return!1;return!0}function Dy(n){if(n instanceof Ye)return n.field.canonicalString()+n.op.toString()+bs(n.value);if(E0(n))return n.filters.map(e=>Dy(e)).join(",");{let e=n.filters.map(t=>Dy(t)).join(",");return`${n.op}(${e})`}}function w0(n,e){return n instanceof Ye?(function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)})(n,e):n instanceof Ln?(function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&w0(s,i.filters[c]),!0):!1})(n,e):void q(19439)}function I0(n){return n instanceof Ye?(function(t){return`${t.field.canonicalString()} ${t.op} ${bs(t.value)}`})(n):n instanceof Ln?(function(t){return t.op.toString()+" {"+t.getFilters().map(I0).join(" ,")+"}"})(n):"Filter"}var by=class extends Ye{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},Cy=class extends Ye{constructor(e,t){super(e,"in",t),this.keys=D0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Ty=class extends Ye{constructor(e,t){super(e,"not-in",t),this.keys=D0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function D0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>z.fromName(r.referenceValue))}var Sy=class extends Ye{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Xv(t)&&bc(t.arrayValue,this.value)}},Ay=class extends Ye{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&bc(this.value.arrayValue,t)}},Ry=class extends Ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bc(this.value.arrayValue,t)}},Ny=class extends Ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Xv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}};var ky=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function yA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new ky(n,e,t,r,i,o,s)}function Jv(n){let e=X(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bs(r)).join(",")),e.Pe=t}return e.Pe}function eE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!w0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_A(n.startAt,e.startAt)&&_A(n.endAt,e.endAt)}function My(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ss=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function EB(n,e,t,r,i,o,s,c){return new Ss(n,e,t,r,i,o,s,c)}function tE(n){return new Ss(n)}function vA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wB(n){return n.collectionGroup!==null}function _c(n){let e=X(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new tt(Lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ts(o,r))}),t.has(Lt.keyField().canonicalString())||e.Te.push(new Ts(Lt.keyField(),r))}return e.Te}function Pn(n){let e=X(n);return e.Ie||(e.Ie=IB(e,_c(n))),e.Ie}function IB(n,e){if(n.limitType==="F")return yA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ts(i.field,o)});let t=n.endAt?new Cs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cs(n.startAt.position,n.startAt.inclusive):null;return yA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function xy(n,e,t){return new Ss(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xh(n,e){return eE(Pn(n),Pn(e))&&n.limitType===e.limitType}function b0(n){return`${Jv(Pn(n))}|lt:${n.limitType}`}function gs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>I0(i)).join(", ")}]`),kh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bs(i)).join(",")),`Target(${r})`})(Pn(n))}; limitType=${n.limitType})`}function Ph(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of _c(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=mA(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,_c(r),i)||r.endAt&&!(function(s,c,u){let l=mA(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,_c(r),i))})(n,e)}function DB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C0(n){return(e,t)=>{let r=!1;for(let i of _c(n)){let o=bB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bB(n,e,t){let r=n.field.isKeyField()?z.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Ds(u,l):q(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:n.dir})}}var or=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return l0(this.inner)}size(){return this.innerSize}};var CB=new xe(z.comparator);function sr(){return CB}var T0=new xe(z.comparator);function gc(...n){let e=T0;for(let t of n)e=e.insert(t.key,t);return e}function S0(n){let e=T0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xi(){return yc()}function A0(){return yc()}function yc(){return new or(n=>n.toString(),(n,e)=>n.isEqual(e))}var TB=new xe(z.comparator),SB=new tt(z.comparator);function ue(...n){let e=SB;for(let t of n)e=e.add(t);return e}var AB=new tt(se);function RB(){return AB}function nE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function R0(n){return{integerValue:""+n}}function NB(n,e){return iB(e)?R0(e):nE(n,e)}var As=class{constructor(){this._=void 0}};function kB(n,e,t){return n instanceof Rs?(function(i,o){let s={fields:{[h0]:{stringValue:d0},[p0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Yv(o)&&(o=Mh(o)),o&&(s.fields[f0]=o),{mapValue:s}})(t,e):n instanceof ao?k0(n,e):n instanceof co?M0(n,e):(function(i,o){let s=N0(i,o),c=EA(s)+EA(i.Ee);return Iy(s)&&Iy(i.Ee)?R0(c):nE(i.serializer,c)})(n,e)}function MB(n,e,t){return n instanceof ao?k0(n,e):n instanceof co?M0(n,e):t}function N0(n,e){return n instanceof Ns?(function(r){return Iy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Rs=class extends As{},ao=class extends As{constructor(e){super(),this.elements=e}};function k0(n,e){let t=x0(e);for(let r of n.elements)t.some(i=>Fn(i,r))||t.push(r);return{arrayValue:{values:t}}}var co=class extends As{constructor(e){super(),this.elements=e}};function M0(n,e){let t=x0(e);for(let r of n.elements)t=t.filter(i=>!Fn(i,r));return{arrayValue:{values:t}}}var Ns=class extends As{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function EA(n){return Ae(n.integerValue||n.doubleValue)}function x0(n){return Xv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xB(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ao&&i instanceof ao||r instanceof co&&i instanceof co?ws(r.elements,i.elements,Fn):r instanceof Ns&&i instanceof Ns?Fn(r.Ee,i.Ee):r instanceof Rs&&i instanceof Rs})(n.transform,e.transform)}var Py=class{constructor(e,t){this.version=e,this.transformResults=t}},no=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Zd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ks=class{};function P0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sh(n.key,no.none()):new uo(n.key,n.data,no.none());{let t=n.data,r=un.empty(),i=new tt(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ar(n.key,r,new kn(i.toArray()),no.none())}}function PB(n,e,t){n instanceof uo?(function(i,o,s){let c=i.value.clone(),u=IA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof ar?(function(i,o,s){if(!Zd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=IA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(O0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function vc(n,e,t,r){return n instanceof uo?(function(o,s,c,u){if(!Zd(o.precondition,s))return c;let l=o.value.clone(),h=DA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof ar?(function(o,s,c,u){if(!Zd(o.precondition,s))return c;let l=DA(o.fieldTransforms,u,s),h=s.data;return h.setAll(O0(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Zd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function OB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=N0(r.transform,i||null);o!=null&&(t===null&&(t=un.empty()),t.set(r.field,o))}return t||null}function wA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ws(r,i,(o,s)=>xB(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var uo=class extends ks{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ar=class extends ks{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function O0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function IA(n,e,t){let r=new Map;ve(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,MB(s,c,t[i]))}return r}function DA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,kB(o,s,e))}return r}var sh=class extends ks{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Oy=class extends ks{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Fy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&PB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=A0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=P0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(t,r)=>wA(t,r))&&ws(this.baseMutations,e.baseMutations,(t,r)=>wA(t,r))}},Ly=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ve(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return TB})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Vy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ue,de;function FB(n){switch(n){case M.OK:return q(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return q(15467,{code:n})}}function F0(n){if(n===void 0)return nr("GRPC error has no .code"),M.UNKNOWN;switch(n){case Ue.OK:return M.OK;case Ue.CANCELLED:return M.CANCELLED;case Ue.UNKNOWN:return M.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return M.INTERNAL;case Ue.UNAVAILABLE:return M.UNAVAILABLE;case Ue.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ue.NOT_FOUND:return M.NOT_FOUND;case Ue.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ue.ABORTED:return M.ABORTED;case Ue.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ue.DATA_LOSS:return M.DATA_LOSS;default:return q(39323,{code:n})}}(de=Ue||(Ue={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var bA=null;var LB=new er([4294967295,4294967295],0);function CA(n){let e=GA().encode(n),t=new ty;return t.update(e),new Uint8Array(t.digest())}function TA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new er([t,r],0),new er([i,o],0)]}var By=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ji(`Invalid padding: ${t}`);if(r<0)throw new Ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ji(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ji(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=er.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(er.fromNumber(r)));return i.compare(LB)===1&&(i=new er([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=CA(e),[r,i]=TA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=CA(e),[r,i]=TA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ah=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new xe(se),sr(),ue())}},Cc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var vs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},ch=class{constructor(e,t){this.targetId=e,this.De=t}},uh=class{constructor(e,t,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},lh=class{constructor(){this.ve=0,this.Ce=SA(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),t=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new Cc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=SA()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Uy=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=sr(),this.je=Gd(),this.Je=Gd(),this.He=new xe(se)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(My(o))if(r===0){let s=new z(o.path);this.Xe(t,s,ln.newNoDocument(s,ee.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}bA?.ct((function(h,p,m,_,T){var k,N,P,B,ne,be;let mt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Ee=p.unchangedNames;return Ee&&(mt.bloomFilter={applied:T===0,hashCount:(k=Ee?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(B=(P=(N=Ee?.bits)===null||N===void 0?void 0:N.bitmap)===null||P===void 0?void 0:P.length)!==null&&B!==void 0?B:0,padding:(be=(ne=Ee?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&be!==void 0?be:0,mightContain:D=>{var y;return(y=_?.mightContain(D))!==null&&y!==void 0&&y}}),mt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=ir(r).toUint8Array()}catch(u){if(u instanceof nh)return zr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new By(s,i,o)}catch(u){return zr(u instanceof Ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&My(c.target)){let u=new z(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,ln.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new ah(e,t,this.He,this.ze,r);return this.ze=sr(),this.je=Gd(),this.Je=Gd(),this.He=new xe(se),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new lh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new tt(se),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new tt(se),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new lh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Gd(){return new xe(z.comparator)}function SA(){return new xe(z.comparator)}var VB={asc:"ASCENDING",desc:"DESCENDING"},jB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BB={and:"AND",or:"OR"},Hy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function $y(n,e){return n.useProto3Json||kh(e)?e:{value:e}}function dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function UB(n,e){return dh(n,e.toTimestamp())}function On(n){return ve(!!n,49232),ee.fromTimestamp((function(t){let r=rr(t);return new ze(r.seconds,r.nanos)})(n))}function rE(n,e){return zy(n,e).canonicalString()}function zy(n,e){let t=(function(i){return new ke(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function V0(n){let e=ke.fromString(n);return ve($0(e),10190,{key:e.toString()}),e}function Wy(n,e){return rE(n.databaseId,e.path)}function ay(n,e){let t=V0(e);if(t.get(1)!==n.databaseId.projectId)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(B0(t))}function j0(n,e){return rE(n.databaseId,e)}function HB(n){let e=V0(n);return e.length===4?ke.emptyPath():B0(e)}function qy(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B0(n){return ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function AA(n,e,t){return{name:Wy(n,e),fields:t.value.mapValue.fields}}function $B(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let h=l.code===void 0?M.UNKNOWN:F0(l.code);return new j(h,l.message||"")})(s);t=new uh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ay(n,r.document.name),o=On(r.document.updateTime),s=r.document.createTime?On(r.document.createTime):ee.min(),c=new un({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new vs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ay(n,r.document),o=r.readTime?On(r.readTime):ee.min(),s=ln.newNoDocument(i,o),c=r.removedTargetIds||[];t=new vs([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ay(n,r.document),o=r.removedTargetIds||[];t=new vs([],o,i,null)}else{if(!("filter"in e))return q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new jy(i,o),c=r.targetId;t=new ch(c,s)}}return t}function zB(n,e){let t;if(e instanceof uo)t={update:AA(n,e.key,e.value)};else if(e instanceof sh)t={delete:Wy(n,e.key)};else if(e instanceof ar)t={update:AA(n,e.key,e.data),updateMask:JB(e.fieldMask)};else{if(!(e instanceof Oy))return q(16599,{Rt:e.type});t={verify:Wy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof Rs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ns)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:UB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)})(n,e.precondition)),t}function WB(n,e){return n&&n.length>0?(ve(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?On(i.updateTime):On(o);return s.isEqual(ee.min())&&(s=On(o)),new Py(s,i.transformResults||[])})(t,e))):[]}function qB(n,e){return{documents:[j0(n,e.path)]}}function GB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=j0(n,i);let o=(function(l){if(l.length!==0)return H0(Ln.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:ms(m.field),direction:QB(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=$y(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function KB(n){let e=HB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=U0(p);return m instanceof Ln&&E0(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(T){return new Ts(_s(T.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,kh(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,_=p.values||[];return new Cs(_,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,_=p.values||[];return new Cs(_,m)})(t.endAt)),EB(e,i,s,o,c,"F",u,l)}function YB(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function U0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=_s(t.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_s(t.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_s(t.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_s(t.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ye.create(_s(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ln.create(t.compositeFilter.filters.map(r=>U0(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}})(t.compositeFilter.op))})(n):q(30097,{filter:n})}function QB(n){return VB[n]}function ZB(n){return jB[n]}function XB(n){return BB[n]}function ms(n){return{fieldPath:n.canonicalString()}}function _s(n){return Lt.fromServerFormat(n.fieldPath)}function H0(n){return n instanceof Ye?(function(t){if(t.op==="=="){if(gA(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NAN"}};if(pA(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gA(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NOT_NAN"}};if(pA(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(t.field),op:ZB(t.op),value:t.value}}})(n):n instanceof Ln?(function(t){let r=t.getFilters().map(i=>H0(i));return r.length===1?r[0]:{compositeFilter:{op:XB(t.op),filters:r}}})(n):q(54877,{filter:n})}function JB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Tc=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),c=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Gy=class{constructor(e){this.gt=e}};function eU(n){let e=KB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xy(e,e.limit,"L"):e}var hh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Ic(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=rr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ir(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?_0(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):m0(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):q(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Is,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ae(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),z.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};hh.Ut=new hh;var Ky=class{constructor(){this.Dn=new Yy}addToCollectionParentIndex(e,t){return this.Dn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(so.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(so.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Yy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tt(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(ke.comparator)).toArray()}};var ore=new Uint8Array(0);var RA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z0=41943040,zt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(z0,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);var Sc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var NA="LruGarbageCollector",tU=1048576;function kA([n,e],[t,r]){let i=se(n,t);return i===0?se(e,r):i}var Qy=class{constructor(e){this.Tr=e,this.buffer=new tt(kA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();kA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Zy=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(NA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>A(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fs(t)?F(NA,"Ignoring IndexedDB error during garbage collection: ",t):yield Os(t)}yield this.Rr(3e5)}))}},Xy=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(Gv.ue);let r=new Qy(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(RA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ps()<=ae.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function nU(n,e){return new Xy(n,e)}var Jy=class{constructor(){this.changes=new or(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ev=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var tv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&vc(r.mutation,i,kn.empty(),ze.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=Xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=gc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=sr(),s=yc(),c=(function(){return yc()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ar)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),vc(h.mutation,l,h.mutation.getFieldMask(),ze.now())):s.set(l.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new ev(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=yc(),i=new xe((s,c)=>s-c),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||kn.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ue()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=A0();h.forEach(m=>{if(!o.has(m)){let _=P0(t.get(m),r.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wB(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Xi()),c=wc,u=o;return s.next(l=>x.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:c,changes:S0(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=gc();return this.indexManager.getCollectionParents(e,o).next(c=>x.forEach(c,u=>{let l=(function(p,m){return new Ss(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,ln.newInvalidDocument(h)))});let c=gc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&vc(h.mutation,l,kn.empty(),ze.now()),Ph(t,l)&&(c=c.insert(u,l))}),c})}};var nv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return x.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:On(i.createTime)}})(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:eU(i.bundledQuery),readTime:On(i.readTime)}})(t)),x.resolve()}};var rv=class{constructor(){this.overlays=new xe(z.comparator),this.kr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Xi();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Xi(),o=t.length+1,s=new z(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return x.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Vy(t,r));let o=this.kr.get(t);o===void 0&&(o=ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var iv=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Ac=class{constructor(){this.qr=new tt(He.Qr),this.$r=new tt(He.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new He(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new He(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new z(new ke([])),r=new He(t,e),i=new He(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new z(new ke([])),r=new He(t,e),i=new He(t,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new He(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return z.comparator(e.key,t.key)||se(e.Hr,t.Hr)}static Ur(e,t){return se(e.Hr,t.Hr)||z.comparator(e.key,t.key)}};var ov=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new tt(He.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Fy(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new He(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?Kv:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tt(se);return t.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new He(new z(o),0),c=new tt(se);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),x.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ve(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(t.mutations,i=>{let o=new He(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new He(t,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var sv=class{constructor(e){this.ni=e,this.docs=(function(){return new xe(z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=sr(),s=t.path,c=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||tB(eB(h),r)<=0||(i.has(h.key)||Ph(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){q(9500)}ri(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new av(this)}getSize(e){return x.resolve(this.size)}},av=class extends Jy{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var cv=class{constructor(e){this.persistence=e,this.ii=new or(t=>Jv(t),eE),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Ac,this.targetCount=0,this._i=Sc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),x.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Sc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.hr(t),x.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.oi.containsKey(t))}};var fh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Gv(0),this.ci=!1,this.ci=!0,this.li=new iv,this.referenceDelegate=e(this),this.hi=new cv(this),this.indexManager=new Ky,this.remoteDocumentCache=(function(i){return new sv(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Gy(t),this.Ti=new nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new ov(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new uv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},uv=class extends vy{constructor(e){super(),this.currentSequenceNumber=e}},lv=class n{constructor(e){this.persistence=e,this.Ai=new Ac,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw q(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=z.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return x.or([()=>x.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},ph=class n{constructor(e,t){this.persistence=e,this.gi=new or(r=>oB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nU(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yd(e.data.value)),t}Sr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var dv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var hv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return sS()?8:rB(Ot())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new hv;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ps()<=ae.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",gs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(ps()<=ae.DEBUG&&F("QueryEngine","Query:",gs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ps()<=ae.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",gs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(t))):x.resolve())}ps(e,t){if(vA(t))return x.resolve(null);let r=Pn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=xy(t,null,"F"),r=Pn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,xy(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return vA(t)||i.isEqual(ee.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?x.resolve(null):(ps()<=ae.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(t)),this.vs(e,s,t,Jj(i,wc)).next(c=>c))})}bs(e,t){let r=new tt(C0(e));return t.forEach((i,o)=>{Ph(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ps()<=ae.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",gs(t)),this.gs.getDocumentsMatchingQuery(e,t,so.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var iE="LocalStore",rU=3e8,pv=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new xe(se),this.Ms=new or(o=>Jv(o),eE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function iU(n,e,t,r){return new pv(n,e,t,r)}function W0(n,e){return A(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function oU(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,h){let p=l.batch,m=p.keys(),_=x.resolve();return m.forEach(T=>{_=_.next(()=>h.getEntry(u,T)).next(k=>{let N=l.docVersions.get(T);ve(N!==null,48541),k.version.compareTo(N)<0&&(p.applyToRemoteDocument(k,l),k.isValidDocument()&&(k.setReadTime(l.commitVersion),h.addEntry(k)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ue();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function q0(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function sU(n,e){let t=X(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(gt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),(function(k,N,P){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=rU?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(m,_,h)&&c.push(t.hi.updateTargetData(o,_))});let u=sr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(aU(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ee.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return x.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function aU(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=sr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F(iE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function cU(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Kv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uU(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Tc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function gv(n,e,t){return A(this,null,function*(){let r=X(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Fs(s))throw s;F(iE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function MA(n,e,t){let r=X(n),i=ee.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),m=p.Ms.get(h);return m!==void 0?x.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Pn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ue())).next(c=>(lU(r,DB(e),c),{documents:c,qs:o})))}function lU(n,e,t){let r=n.xs.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var gh=class{constructor(){this.activeTargetIds=RB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mv=class{constructor(){this.Fo=new gh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new gh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _v=class{xo(e){}shutdown(){}};var xA="ConnectivityMonitor",mh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F(xA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F(xA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kd=null;function yv(){return Kd===null?Kd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kd++,"0x"+Kd.toString(16)}var cy="RestConnection",dU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=yv(),c=this.Go(e,t.toUriEncodedString());F(cy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),h=Hi(l);return this.jo(e,c,u,r,h).then(p=>(F(cy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw zr(cy,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ps})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=dU[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Ev=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var pt="WebChannelConnection",wv=class extends vv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=yv();return new Promise((c,u)=>{let l=new ny;l.setWithCredentials(!0),l.listenOnce(ry.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pc.NO_ERROR:let p=l.getResponseJson();F(pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case pc.TIMEOUT:F(pt,`RPC '${e}' ${s} timed out`),u(new j(M.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:let m=l.getStatus();if(F(pt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let T=_?.error;if(T&&T.status&&T.message){let k=(function(P){let B=P.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(B)>=0?B:M.UNKNOWN})(T.status);u(new j(k,T.message))}else u(new j(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(M.UNAVAILABLE,"Connection failed."));break;default:q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{F(pt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(pt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=yv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sy(),c=oy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,_=!1,T=new Ev({Ho:N=>{_?F(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(F(pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(pt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),k=(N,P,B)=>{N.listen(P,ne=>{try{B(ne)}catch(be){setTimeout(()=>{throw be},0)}})};return k(p,fs.EventType.OPEN,()=>{_||(F(pt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),k(p,fs.EventType.CLOSE,()=>{_||(_=!0,F(pt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),k(p,fs.EventType.ERROR,N=>{_||(_=!0,zr(pt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),T.__(new j(M.UNAVAILABLE,"The operation could not be completed")))}),k(p,fs.EventType.MESSAGE,N=>{var P;if(!_){let B=N.data[0];ve(!!B,16349);let ne=B,be=ne?.error||((P=ne[0])===null||P===void 0?void 0:P.error);if(be){F(pt,`RPC '${e}' stream ${i} received error:`,be);let mt=be.status,Ee=(function(E){let I=Ue[E];if(I!==void 0)return F0(I)})(mt),D=be.message;Ee===void 0&&(Ee=M.INTERNAL,D="Unknown error status: "+mt+" with message "+be.message),_=!0,T.__(new j(Ee,D)),p.close()}else F(pt,`RPC '${e}' stream ${i} received:`,B),T.a_(B)}}),k(c,iy.STAT_EVENT,N=>{N.stat===Wd.PROXY?F(pt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Wd.NOPROXY&&F(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function uy(){return typeof document<"u"?document:null}function Oh(n){return new Hy(n,!0)}var _h=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var PA="PersistentStream",yh=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _h(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return A(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return A(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return A(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new j(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>A(this,null,function*(){this.state=0,this.start()}))}G_(e){return F(PA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(F(PA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Iv=class extends yh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=$B(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?On(s.readTime):ee.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=qy(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=My(u)?{documents:qB(o,u)}:{query:GB(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=L0(o,s.resumeToken);let l=$y(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=dh(o,s.snapshotVersion.toTimestamp());let l=$y(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=YB(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=qy(this.serializer),t.removeTarget=e,this.k_(t)}},Dv=class extends yh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=WB(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=qy(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>zB(this.serializer,r))};this.k_(t)}};var bv=class{},Cv=class extends bv{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,zy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(M.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,zy(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Tv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(nr(t),this._a=!1):F("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var lo="RemoteStore",Sv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>A(this,null,function*(){po(this)&&(F(lo,"Restarting streams for network reachability change."),yield(function(u){return A(this,null,function*(){let l=X(u);l.Ia.add(4),yield xc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Fh(l)})})(this))}))}),this.Aa=new Tv(r,i)}};function Fh(n){return A(this,null,function*(){if(po(n))for(let e of n.da)yield e(!0)})}function xc(n){return A(this,null,function*(){for(let e of n.da)yield e(!1)})}function G0(n,e){let t=X(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),cE(t)?aE(t):Ls(t).x_()&&sE(t,e))}function oE(n,e){let t=X(n),r=Ls(t);t.Ta.delete(e),r.x_()&&K0(t,e),t.Ta.size===0&&(r.x_()?r.B_():po(t)&&t.Aa.set("Unknown"))}function sE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ls(n).H_(e)}function K0(n,e){n.Ra.$e(e),Ls(n).Y_(e)}function aE(n){n.Ra=new Uy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ls(n).start(),n.Aa.aa()}function cE(n){return po(n)&&!Ls(n).M_()&&n.Ta.size>0}function po(n){return X(n).Ia.size===0}function Y0(n){n.Ra=void 0}function hU(n){return A(this,null,function*(){n.Aa.set("Online")})}function fU(n){return A(this,null,function*(){n.Ta.forEach((e,t)=>{sE(n,e)})})}function pU(n,e){return A(this,null,function*(){Y0(n),cE(n)?(n.Aa.la(e),aE(n)):n.Aa.set("Unknown")})}function gU(n,e,t){return A(this,null,function*(){if(n.Aa.set("Online"),e instanceof uh&&e.state===2&&e.cause)try{yield(function(i,o){return A(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(n,e)}catch(r){F(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vh(n,r)}else if(e instanceof vs?n.Ra.Ye(e):e instanceof ch?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ee.min()))try{let r=yield q0(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),K0(o,u);let p=new Tc(h.target,u,l,h.sequenceNumber);sE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(r){F(lo,"Failed to raise snapshot:",r),yield vh(n,r)}})}function vh(n,e,t){return A(this,null,function*(){if(!Fs(e))throw e;n.Ia.add(1),yield xc(n),n.Aa.set("Offline"),t||(t=()=>q0(n.localStore)),n.asyncQueue.enqueueRetryable(()=>A(null,null,function*(){F(lo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Fh(n)}))})}function Q0(n,e){return e().catch(t=>vh(n,t,e))}function Lh(n){return A(this,null,function*(){let e=X(n),t=qr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kv;for(;mU(e);)try{let i=yield cU(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,_U(e,i)}catch(i){yield vh(e,i)}Z0(e)&&X0(e)})}function mU(n){return po(n)&&n.Pa.length<10}function _U(n,e){n.Pa.push(e);let t=qr(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Z0(n){return po(n)&&!qr(n).M_()&&n.Pa.length>0}function X0(n){qr(n).start()}function yU(n){return A(this,null,function*(){qr(n).na()})}function vU(n){return A(this,null,function*(){let e=qr(n);for(let t of n.Pa)e.X_(t.mutations)})}function EU(n,e,t){return A(this,null,function*(){let r=n.Pa.shift(),i=Ly.from(r,e,t);yield Q0(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lh(n)})}function wU(n,e){return A(this,null,function*(){e&&qr(n).Z_&&(yield(function(r,i){return A(this,null,function*(){if((function(s){return FB(s)&&s!==M.ABORTED})(i.code)){let o=r.Pa.shift();qr(r).N_(),yield Q0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Lh(r)}})})(n,e)),Z0(n)&&X0(n)})}function OA(n,e){return A(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),F(lo,"RemoteStore received new credentials");let r=po(t);t.Ia.add(3),yield xc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Fh(t)})}function IU(n,e){return A(this,null,function*(){let t=X(n);e?(t.Ia.delete(2),yield Fh(t)):e||(t.Ia.add(2),yield xc(t),t.Aa.set("Unknown"))})}function Ls(n){return n.Va||(n.Va=(function(t,r,i){let o=X(t);return o.ia(),new Iv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:hU.bind(null,n),e_:fU.bind(null,n),n_:pU.bind(null,n),J_:gU.bind(null,n)}),n.da.push(e=>A(null,null,function*(){e?(n.Va.N_(),cE(n)?aE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),Y0(n))}))),n.Va}function qr(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.ia(),new Dv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:yU.bind(null,n),n_:wU.bind(null,n),ea:vU.bind(null,n),ta:EU.bind(null,n)}),n.da.push(e=>A(null,null,function*(){e?(n.ma.N_(),yield Lh(n)):(yield n.ma.stop(),n.Pa.length>0&&(F(lo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Av=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uE(n,e){if(nr("AsyncQueue",`${e}: ${n}`),Fs(n))return new j(M.UNAVAILABLE,`${e}: ${n}`);throw n}var Eh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=gc(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var wh=class{constructor(){this.fa=new xe(z.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):q(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ms=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,Eh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Rv=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Nv=class{constructor(){this.queries=FA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=FA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new j(M.ABORTED,"Firestore shutting down"))}};function FA(){return new or(n=>b0(n),xh)}function J0(n,e){return A(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Rv,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=uE(s,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&lE(t)})}function eR(n,e){return A(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function DU(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&lE(t)}function bU(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function lE(n){n.Da.forEach(e=>{e.next()})}var kv,LA;(LA=kv||(kv={})).Fa="default",LA.Cache="cache";var Ih=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kv.Cache}};var Dh=class{constructor(e){this.key=e}},bh=class{constructor(e){this.key=e}},Mv=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=C0(e),this.eu=new Eh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new wh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),_=Ph(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),N=!1;m&&_?m.data.isEqual(_.data)?T!==k&&(r.track({type:3,doc:_}),N=!0):this.iu(m,_)||(r.track({type:2,doc:_}),N=!0,(u&&this.Xa(_,u)>0||l&&this.Xa(_,l)<0)&&(c=!0)):!m&&_?(r.track({type:0,doc:_}),N=!0):m&&!_&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(c=!0)),N&&(_?(s=s.add(_),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(_,T){let k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{At:N})}};return k(_)-k(T)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Ms(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new bh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Dh(r))}),t}uu(e){this.Ha=e.qs,this.Za=ue();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ms.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},dE="SyncEngine",xv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Pv=class{constructor(e){this.key=e,this.lu=!1}},Ov=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new or(c=>b0(c),xh),this.Tu=new Map,this.Iu=new Set,this.du=new xe(z.comparator),this.Eu=new Map,this.Au=new Ac,this.Ru={},this.Vu=new Map,this.mu=Sc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function CU(n,e,t=!0){return A(this,null,function*(){let r=sR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield tR(r,e,t,!0),i})}function TU(n,e){return A(this,null,function*(){let t=sR(n);yield tR(t,e,!0,!1)})}function tR(n,e,t,r){return A(this,null,function*(){let i=yield uU(n.localStore,Pn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield SU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&G0(n.remoteStore,i),c})}function SU(n,e,t,r,i){return A(this,null,function*(){n.gu=(p,m,_)=>(function(k,N,P,B){return A(this,null,function*(){let ne=N.view.nu(P);ne.Ds&&(ne=yield MA(k.localStore,N.query,!1).then(({documents:D})=>N.view.nu(D,ne)));let be=B&&B.targetChanges.get(N.targetId),mt=B&&B.targetMismatches.get(N.targetId)!=null,Ee=N.view.applyChanges(ne,k.isPrimaryClient,be,mt);return jA(k,N.targetId,Ee._u),Ee.snapshot})})(n,p,m,_);let o=yield MA(n.localStore,e,!0),s=new Mv(e,o.qs),c=s.nu(o.documents),u=Cc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);jA(n,t,l._u);let h=new xv(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function AU(n,e,t){return A(this,null,function*(){let r=X(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!xh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&oE(r.remoteStore,i.targetId),Fv(r,i.targetId)}).catch(Os))):(Fv(r,i.targetId),yield gv(r.localStore,i.targetId,!0))})}function RU(n,e){return A(this,null,function*(){let t=X(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),oE(t.remoteStore,r.targetId))})}function NU(n,e,t){return A(this,null,function*(){let r=LU(n);try{let i=yield(function(s,c){let u=X(s),l=ze.now(),h=c.reduce((_,T)=>_.add(T.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=sr(),k=ue();return u.Os.getEntries(_,h).next(N=>{T=N,T.forEach((P,B)=>{B.isValidDocument()||(k=k.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,T)).next(N=>{p=N;let P=[];for(let B of c){let ne=OB(B,p.get(B.key).overlayedDocument);ne!=null&&P.push(new ar(B.key,ne,y0(ne.value.mapValue),no.exists(!0)))}return u.mutationQueue.addMutationBatch(_,l,P,c)}).next(N=>{m=N;let P=N.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(_,N.batchId,P)})}).then(()=>({batchId:m.batchId,changes:S0(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new xe(se)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Pc(r,i.changes),yield Lh(r.remoteStore)}catch(i){let o=uE(i,"Failed to persist write");t.reject(o)}})}function nR(n,e){return A(this,null,function*(){let t=X(n);try{let r=yield sU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ve(s.lu,14607):i.removedDocuments.size>0&&(ve(s.lu,42227),s.lu=!1))}),yield Pc(t,r,e)}catch(r){yield Os(r)}})}function VA(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=X(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&lE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kU(n,e,t){return A(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new xe(z.comparator);s=s.insert(o,ln.newNoDocument(o,ee.min()));let c=ue().add(o),u=new ah(ee.min(),new Map,new xe(se),s,c);yield nR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),hE(r)}else yield gv(r.localStore,e,!1).then(()=>Fv(r,e,t)).catch(Os)})}function MU(n,e){return A(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield oU(t.localStore,e);iR(t,r,null),rR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pc(t,i)}catch(i){yield Os(i)}})}function xU(n,e,t){return A(this,null,function*(){let r=X(n);try{let i=yield(function(s,c){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ve(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);iR(r,e,t),rR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pc(r,i)}catch(i){yield Os(i)}})}function rR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function iR(n,e,t){let r=X(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||oR(n,r)})}function oR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(oE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),hE(n))}function jA(n,e,t){for(let r of t)r instanceof Dh?(n.Au.addReference(r.key,e),PU(n,r)):r instanceof bh?(F(dE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||oR(n,r.key)):q(19791,{yu:r})}function PU(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(F(dE,"New document in limbo: "+t),n.Iu.add(r),hE(n))}function hE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new z(ke.fromString(e)),r=n.mu.next();n.Eu.set(r,new Pv(t)),n.du=n.du.insert(t,r),G0(n.remoteStore,new Tc(Pn(tE(t.path)),r,"TargetPurposeLimboResolution",Gv.ue))}}function Pc(n,e,t){return A(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=dv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return A(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Is,_=>h.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>x.forEach(m.ds,_=>h.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Fs(p))throw p;F(iE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let _=h.Fs.get(m),T=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,k)}}})})(r.localStore,o))})}function OU(n,e){return A(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){F(dE,"User change. New user:",e.toKey());let r=yield W0(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new j(M.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pc(t,r.Bs)}})}function FU(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function sR(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kU.bind(null,e),e.hu.J_=DU.bind(null,e.eventManager),e.hu.pu=bU.bind(null,e.eventManager),e}function LU(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xU.bind(null,e),e}var aR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return A(this,null,function*(){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return iU(this.persistence,new fv,t.initialUser,this.serializer)}Du(t){return new fh(lv.Vi,this.serializer)}bu(t){return new mv}terminate(){return A(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Lv=class extends aR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ve(this.persistence.referenceDelegate instanceof ph,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Zy(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new fh(r=>ph.Vi(r,t),this.serializer)}};var VU=(()=>{class n{initialize(t,r){return A(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OU.bind(null,this.syncEngine),yield IU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new Nv})()}createDatastore(t){let r=Oh(t.databaseInfo.databaseId),i=(function(s){return new wv(s)})(t.databaseInfo);return(function(s,c,u,l){return new Cv(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new Sv(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>VA(this.syncEngine,r,0),(function(){return mh.C()?new mh:new _v})())}createSyncEngine(t,r){return(function(o,s,c,u,l,h,p){let m=new Ov(o,s,c,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return A(this,null,function*(){var t,r;yield(function(o){return A(this,null,function*(){let s=X(o);F(lo,"RemoteStore shutting down."),s.Ia.add(5),yield xc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ch=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Gr="FirestoreClient",Vv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=Ec.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>A(this,null,function*(){F(Gr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(Gr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=uE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ly(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F(Gr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>A(null,null,function*(){r.isEqual(i)||(yield W0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{zr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{zr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function BA(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield jU(n);F(Gr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>OA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>OA(e.remoteStore,i)),n._onlineComponents=e})}function jU(n){return A(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(Gr,"Using user provided OfflineComponentProvider");try{yield ly(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;zr("Error using user provided cache. Falling back to memory cache: "+t),yield ly(n,new aR)}}else F(Gr,"Using default OfflineComponentProvider"),yield ly(n,new Lv(void 0));return n._offlineComponents})}function cR(n){return A(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(Gr,"Using user provided OnlineComponentProvider"),yield BA(n,n._uninitializedComponentsProvider._online)):(F(Gr,"Using default OnlineComponentProvider"),yield BA(n,new VU))),n._onlineComponents})}function BU(n){return cR(n).then(e=>e.syncEngine)}function jv(n){return A(this,null,function*(){let e=yield cR(n),t=e.eventManager;return t.onListen=CU.bind(null,e.syncEngine),t.onUnlisten=AU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RU.bind(null,e.syncEngine),t})}function UU(n,e,t={}){let r=new Mn;return n.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return(function(o,s,c,u,l){let h=new Ch({next:m=>{h.Ou(),s.enqueueAndForget(()=>eR(o,p)),m.fromCache&&u.source==="server"?l.reject(new j(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ih(c,h,{includeMetadataChanges:!0,ka:!0});return J0(o,p)})(yield jv(n),n.asyncQueue,e,t,r)})),r.promise}function uR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var UA=new Map;var lR="firestore.googleapis.com",HA=!0,Th=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lR,this.ssl=HA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:HA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tU)throw new j(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Th({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Th(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new dy;switch(r.type){case"firstParty":return new gy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return A(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=UA.get(t);r&&(F("ComponentProvider","Removing Datastore"),UA.delete(t),r.terminate())})(this),Promise.resolve()}};function dR(n,e,t,r={}){var i;n=to(n,xs);let o=Hi(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(__(`https://${u}`),y_("Firestore",!0)),s.host!==lR&&s.host!==u&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!$i(l,c)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=et.MOCK_USER;else{h=tS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new j(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new et(m)}n._authCredentials=new hy(new Xd(h,p))}}var Rc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Dt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Mc(t,n._jsonSchema))return new n(e,r||null,new z(ke.fromString(t.referencePath)))}};Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:$e("string",Dt._jsonSchemaVersion),referencePath:$e("string")};var Br=class n extends Rc{constructor(e,t,r){super(e,t,tE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function hR(n,e,...t){if(n=Ft(n),KA("collection","path",e),n instanceof xs){let r=ke.fromString(e,...t);return aA(r),new Br(n,null,r)}{if(!(n instanceof Dt||n instanceof Br))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return aA(r),new Br(n.firestore,null,r)}}function fR(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=Ec.newId()),KA("doc","path",e),n instanceof xs){let r=ke.fromString(e,...t);return sA(r),new Dt(n,null,new z(r))}{if(!(n instanceof Dt||n instanceof Br))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return sA(r),new Dt(n.firestore,n instanceof Br?n.converter:null,new z(r))}}var $A="AsyncQueue",Sh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _h(this,"async_queue_retry"),this.oc=()=>{let r=uy();r&&F($A,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=uy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=uy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Mn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return A(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fs(e))throw e;F($A,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,nr("INTERNAL UNHANDLED ERROR: ",zA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Av.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&q(47125,{hc:zA(this.tc)})}verifyOperationInProgress(){}Pc(){return A(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function zA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function WA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var ho=class extends xs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return A(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sh(e),this._firestoreClient=void 0,yield e}})}};function pR(n,e){let t=typeof n=="object"?n:ls(),r=typeof n=="string"?n:e||rh,i=Td(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=JT("firestore");o&&dR(i,...o)}return i}function fE(n){if(n._terminated)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HU(n),n._firestoreClient}function HU(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,h){return new Ey(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Vv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Ur=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(gt.fromBase64String(e))}catch(t){throw new j(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:$e("string",Ur._jsonSchemaVersion),bytes:$e("string")};var Nc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ah=class{constructor(e){this._methodName=e}};var Hr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:$e("string",Hr._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};var $r=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new j(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:$e("string",$r._jsonSchemaVersion),vectorValues:$e("object")};var $U=/^__.*__$/,Bv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,t,this.fieldTransforms):new uo(e,this.data,t,this.fieldTransforms)}};function gR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ec:n})}}var Uv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gR(this.Ec)&&$U.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Hv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oh(e)}Dc(e,t,r,i=!1){return new Uv({Ec:e,methodName:t,bc:r,path:Lt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zU(n){let e=n._freezeSettings(),t=Oh(n._databaseId);return new Hv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WU(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);vR("Data must be an object, but it was:",s,r);let c=_R(r,s),u,l;if(o.merge)u=new kn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=qU(e,p,t);if(!s.contains(m))throw new j(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);KU(h,m)||h.push(m)}u=new kn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Bv(new un(c),u,l)}function mR(n,e){if(yR(n=Ft(n)))return vR("Unsupported field value:",e,n),_R(n,e);if(n instanceof Ah)return(function(r,i){if(!gR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=mR(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:dh(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(i.serializer,o)}}if(r instanceof Hr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:L0(i.serializer,r._byteString)};if(r instanceof Dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $r)return(function(s,c){return{mapValue:{fields:{[Qv]:{stringValue:Zv},[Is]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return nE(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${qv(r)}`)})(n,e)}function _R(n,e){let t={};return l0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(n,(r,i)=>{let o=mR(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function yR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof Hr||n instanceof Ur||n instanceof Dt||n instanceof Ah||n instanceof $r)}function vR(n,e,t){if(!yR(t)||!YA(t)){let r=qv(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function qU(n,e,t){if((e=Ft(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return ER(n,e);throw Rh("Field path arguments must be of type string or ",n,!1,void 0,t)}var GU=new RegExp("[~\\*/\\[\\]]");function ER(n,e,t){if(e.search(GU)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(M.INVALID_ARGUMENT,c+n+u)}function KU(n,e){return n.some(t=>t.isEqual(e))}var Nh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $v(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(wR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$v=class extends Nh{data(){return super.data()}};function wR(n,e){return typeof e=="string"?ER(n,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function IR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zv=class{convertValue(e,t="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return fo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Is].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new $r(o)}convertGeoPoint(e){return new Hr(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Mh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){let t=rr(e);return new ze(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);ve($0(r),9688,{name:e});let i=new ih(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(t)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function YU(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var eo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ro=class n extends Nh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(wR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:$e("string",ro._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};var Es=class extends ro{data(e={}){return super.data(e)}},io=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Es(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Es(i._firestore,i._userDataWriter,c.doc.key,c.doc,new eo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Es(i._firestore,i._userDataWriter,c.doc.key,c.doc,new eo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:QU(c.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ec.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function QU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:n})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:$e("string",io._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};var kc=class extends zv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}};function DR(n){n=to(n,Rc);let e=to(n.firestore,ho),t=fE(e),r=new kc(e);return IR(n._query),UU(t,n._query).then(i=>new io(e,r,n,i))}function bR(n,e){let t=to(n.firestore,ho),r=fR(n),i=YU(n.converter,e);return ZU(t,[WU(zU(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,no.exists(!1))]).then(()=>r)}function pE(n,...e){var t,r,i;n=Ft(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||WA(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(WA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Dt)l=to(n.firestore,ho),h=tE(n._key.path),u={next:p=>{e[s]&&e[s](XU(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=to(n,Rc);l=to(p.firestore,ho),h=p._query;let m=new kc(l);u={next:_=>{e[s]&&e[s](new io(l,m,p,_))},error:e[s+1],complete:e[s+2]},IR(n._query)}return(function(m,_,T,k){let N=new Ch(k),P=new Ih(_,N,T);return m.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return J0(yield jv(m),P)})),()=>{N.Ou(),m.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return eR(yield jv(m),P)}))}})(fE(l),h,c,u)}function ZU(n,e){return(function(r,i){let o=new Mn;return r.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return NU(yield BU(r),i,o)})),o.promise})(fE(n),e)}function XU(n,e,t){let r=t.docs.get(e._key),i=new kc(n);return new ro(n,i,e._key,r,new eo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ps=i})(us),an(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ho(new fy(r.getProvider("auth-internal")),new my(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Oe(nA,rA,e),Oe(nA,rA,"esm2017")})();var Vh=function(){return Vh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vh.apply(this,arguments)};var tH={includeMetadataChanges:!1};function CR(n,e){return e===void 0&&(e=tH),new G(function(t){var r=pE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function TR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Vh(Vh({},r),(t={},t[e.idField]=n.id,t))}function SR(n){return CR(n,{includeMetadataChanges:!0}).pipe(Le(function(e){return e.docs}))}function AR(n,e){return e===void 0&&(e={}),SR(n).pipe(Le(function(t){return t.map(function(r){return TR(r,e)})}))}var Oc=class{constructor(e){return e}},RR="firestore",gE=class{constructor(){return hs(RR)}};var mE=new V("angularfire2.firestore-instances");function nH(n,e){let t=Rd(RR,n,e);return t&&new Oc(t)}function rH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Oc(r)}}var iH={provide:gE,deps:[[new bn,mE]]},oH={provide:Oc,useFactory:nH,deps:[[new bn,mE],Ki]};function Cie(n,...e){return Oe("angularfire",qi.full,"fst"),yi([oH,iH,{provide:mE,useFactory:rH(n),multi:!0,deps:[ie,le,Gi,ac,[new bn,$d],[new bn,kd],...e]}])}var Tie=Jn(AR,!0);var Sie=Jn(bR,!0,2);var Aie=Jn(hR,!0,2);var Rie=Jn(DR,!0);var Nie=Jn(pR,!0);var _E;try{_E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_E=!1}var nt=(()=>{class n{_platformId=w($a);isBrowser=this._platformId?ET(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||_E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NR(n,e=0){return kR(n)?Number(n):arguments.length===2?e:0}function kR(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function go(n){return n instanceof ye?n.nativeElement:n}function yE(n){return n.buttons===0||n.detail===0}function vE(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var EE;function MR(){if(EE==null){let n=typeof document<"u"?document.head:null;EE=!!(n&&(n.createShadowRoot||n.attachShadow))}return EE}function wE(n){if(MR()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function sH(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function dn(n){return n.composedPath?n.composedPath()[0]:n.target}var Fc;function xR(){if(Fc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fc=!0}))}finally{Fc=Fc||!1}return Fc}function IE(n){return xR()?n:!!n.capture}var PR=new V("cdk-input-modality-detector-options"),OR={ignoreKeys:[18,17,224,91,16]},FR=650,DE={passive:!0,capture:!0},LR=(()=>{class n{_platform=w(nt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Hn(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=dn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<FR||(this._modality.next(yE(t)?"keyboard":"mouse"),this._mostRecentTarget=dn(t))};_onTouchstart=t=>{if(vE(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dn(t)};constructor(){let t=w(ie),r=w(De),i=w(PR,{optional:!0});if(this._options=J(J({},OR),i),this.modalityDetected=this._modality.pipe(ga(1)),this.modalityChanged=this.modalityDetected.pipe(pa()),this._platform.isBrowser){let o=w(St).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,DE),o.listen(r,"mousedown",this._onMousedown,DE),o.listen(r,"touchstart",this._onTouchstart,DE)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lc=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Lc||{}),VR=new V("cdk-focus-monitor-default-options"),jh=IE({passive:!0,capture:!0}),aH=(()=>{class n{_ngZone=w(ie);_platform=w(nt);_inputModalityDetector=w(LR);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=w(De);_stopInputModalityDetector=new te;constructor(){let t=w(VR,{optional:!0});this._detectionMode=t?.detectionMode||Lc.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=dn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=go(t);if(!this._platform.isBrowser||i.nodeType!==1)return gr();let o=wE(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let c={checkChildren:r,subject:new te,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){let r=go(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=go(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Lc.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Lc.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?FR:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=dn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,jh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,jh)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var soe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({providers:[cH]})}return n})();var Bh=new WeakMap,Vs=(()=>{class n{_appRef;_injector=w(le);_environmentInjector=w(Ve);load(t){let r=this._appRef=this._appRef||this._injector.get(tn),i=Bh.get(r);i||(i={loaders:new Set,refs:[]},Bh.set(r,i),r.onDestroy(()=>{Bh.get(r)?.refs.forEach(o=>o.destroy()),Bh.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(rd(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function js(n){return Array.isArray(n)?n:[n]}var BR=new Set,mo,uH=(()=>{class n{_platform=w(nt);_nonce=w(rm,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dH}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&lH(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lH(n,e){if(!BR.has(n))try{mo||(mo=document.createElement("style"),e&&mo.setAttribute("nonce",e),mo.setAttribute("type","text/css"),document.head.appendChild(mo)),mo.sheet&&(mo.sheet.insertRule(`@media ${n} {body{ }}`,0),BR.add(n))}catch(t){console.error(t)}}function dH(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var HR=(()=>{class n{_mediaMatcher=w(uH);_zone=w(ie);_queries=new Map;_destroySubject=new te;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return UR(js(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=UR(js(t)).map(s=>this._registerQuery(s).observable),o=zf(i);return o=mr(o.pipe(_r(1)),o.pipe(ga(1),ha(0))),o.pipe(Le(s=>{let c={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:l})=>{c.matches=c.matches||u,c.breakpoints[l]=u}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new G(s=>{let c=u=>this._zone.run(()=>s.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(ma(r),Le(({matches:s})=>({query:t,matches:s})),pn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UR(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var qR=(()=>{class n{_platform=w(nt);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return fH(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=hH(wH(t));if(r&&($R(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=$R(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!vH(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return EH(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hH(n){try{return n.frameElement}catch{return null}}function fH(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function pH(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function gH(n){return _H(n)&&n.type=="hidden"}function mH(n){return yH(n)&&n.hasAttribute("href")}function _H(n){return n.nodeName.toLowerCase()=="input"}function yH(n){return n.nodeName.toLowerCase()=="a"}function GR(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function $R(n){if(!GR(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function vH(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function EH(n){return gH(n)?!1:pH(n)||mH(n)||n.hasAttribute("contenteditable")||GR(n)}function wH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Uh=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,o=!1,s){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Pt(e,{injector:this._injector}):setTimeout(e)}},IH=(()=>{class n{_checker=w(qR);_ngZone=w(ie);_document=w(De);_injector=w(le);constructor(){w(Vs).load(jR)}create(t,r=!1){return new Uh(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var KR=new V("liveAnnouncerElement",{providedIn:"root",factory:YR});function YR(){return null}var QR=new V("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),DH=0,bH=(()=>{class n{_ngZone=w(ie);_defaultOptions=w(QR,{optional:!0});_liveElement;_document=w(De);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=w(KR,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${DH++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kr=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Kr||{}),zR="cdk-high-contrast-black-on-white",WR="cdk-high-contrast-white-on-black",bE="cdk-high-contrast-active",CH=(()=>{class n{_platform=w(nt);_hasCheckedHighContrastMode;_document=w(De);_breakpointSubscription;constructor(){this._breakpointSubscription=w(HR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Kr.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Kr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Kr.BLACK_ON_WHITE}return Kr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(bE,zR,WR),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Kr.BLACK_ON_WHITE?t.add(bE,zR):r===Kr.WHITE_ON_BLACK&&t.add(bE,WR)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CE={},TE=(()=>{class n{_appId=w(tm);getId(t){return this._appId!=="ng"&&(t+=this._appId),CE.hasOwnProperty(t)||(CE[t]=0),`${t}${CE[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hh(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var TH=200,$h=class{_letterKeyStream=new te;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new te;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:TH;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(np(t=>this._pressedLetters.push(t)),ha(e),Ct(()=>this._pressedLetters.length>0),Le(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};var Bs=class{_items;_activeItemIndex=st(-1);_activeItem=st(null);_wrap=!1;_typeaheadSubscription=me.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Ni?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):Go(e)&&(this._effectRef=Jl(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new te;change=new te;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new $h(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||Hh(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return Go(this._items)?this._items():this._items instanceof Ni?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var SE=class extends Bs{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var AE=class extends Bs{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var ZR=" ";function hse(n,e,t){let r=XR(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(ZR)))}function fse(n,e,t){let r=XR(n,e);t=t.trim();let i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(ZR)):n.removeAttribute(e)}function XR(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var Vc=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},RE=class extends Vc{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},jc=class extends Vc{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},NE=class extends Vc{element;constructor(e){super(),this.element=e instanceof ye?e.nativeElement:e}},zh=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof RE)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof jc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof NE)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Wh=class extends zh{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Dn,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||le.NULL,o=i.get(Ve,r.injector);t=rd(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Tse=(()=>{class n extends zh{_moduleRef=w(Dn,{optional:!0});_document=w(De);_viewContainerRef=w(Ze);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Ie;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Xe]})}return n})();var JR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({})}return n})();var SH=new V("cdk-dir-doc",{providedIn:"root",factory:AH});function AH(){return w(De)}var RH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function eN(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?RH.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Us=(()=>{class n{get value(){return this.valueSignal()}valueSignal=st("ltr");change=new Ie;constructor(){let t=w(SH,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(eN(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({})}return n})();function qh(n){return n&&typeof n.connect=="function"&&!(n instanceof ca)}var Yr=(function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n})(Yr||{}),Gh=new V("_ViewRepeater");var _o;function tN(){if(_o==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _o=!1,_o;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)_o=!0;else{let n=Element.prototype.scrollTo;n?_o=!/\{\s*\[native code\]\s*\}/.test(n.toString()):_o=!1}}return _o}var NH=20,Kh=(()=>{class n{_ngZone=w(ie);_platform=w(nt);_renderer=w(St).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new te;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=NH){return this._platform.isBrowser?new G(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(ku(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):gr()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ct(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=go(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kH=20,Qr=(()=>{class n{_platform=w(nt);_listeners;_viewportSize;_change=new te;_document=w(De);constructor(){let t=w(ie),r=w(St).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,c=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:c}}change(t=kH){return t>0?this._change.pipe(ku(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({})}return n})(),Uc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({imports:[Bc,kE,Bc,kE]})}return n})();function ME(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Fe(n){return n==null?"":typeof n=="string"?n:`${n}px`}var nN=tN();function uN(n){return new Yh(n.get(Qr),n.get(De))}var Yh=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Fe(-this._previousScrollPosition.left),e.style.top=Fe(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),nN&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nN&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function lN(n,e){return new Qh(n.get(Kh),n.get(ie),n.get(Qr),e)}var Qh=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ct(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Hc=class{enable(){}disable(){}attach(){}};function xE(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function rN(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function nf(n,e){return new Zh(n.get(Kh),n.get(Qr),n.get(ie),e)}var Zh=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();xE(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},dN=(()=>{class n{_injector=w(le);constructor(){}noop=()=>new Hc;close=t=>lN(this._injector,t);block=()=>uN(this._injector);reposition=t=>nf(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$c=class{positionStrategy;scrollStrategy=new Hc;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var Xh=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var hN=(()=>{class n{_attachedOverlays=[];_document=w(De);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fN=(()=>{class n extends hN{_ngZone=w(ie);_renderer=w(St).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mi(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pN=(()=>{class n extends hN{_platform=w(nt);_ngZone=w(ie);_renderer=w(St).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=dn(t)};_clickListener=t=>{let r=dn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let c=o[s];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(iN(c.overlayElement,r)||iN(c.overlayElement,i))break;let u=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(t)):u.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=Mi(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iN(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var gN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),FE=(()=>{class n{_platform=w(nt);_containerElement;_document=w(De);_styleLoader=w(Vs);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||ME()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),ME()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(gN)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PE=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Jh=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new te;_attachments=new te;_detachments=new te;_positionStrategy;_scrollStrategy;_locationChanges=me.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new te;_outsidePointerEvents=new te;_afterNextRenderRef;constructor(e,t,r,i,o,s,c,u,l,h=!1,p,m){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=u,this._outsideClickDispatcher=l,this._animationsDisabled=h,this._injector=p,this._renderer=m,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Pt(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=J(J({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ce(J({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Fe(this._config.width),e.height=Fe(this._config.height),e.minWidth=Fe(this._config.minWidth),e.minHeight=Fe(this._config.minHeight),e.maxWidth=Fe(this._config.maxWidth),e.maxHeight=Fe(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new PE(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=js(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=Pt(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},oN="cdk-overlay-connected-position-bounding-box",MH=/([A-Za-z%]+)$/;function LE(n,e){return new ef(e,n.get(Qr),n.get(De),n.get(nt),n.get(FE))}var ef=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new te;_resizeSubscription=me.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(oN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let c of this._preferredPositions){let u=this._getOriginPoint(e,i,c),l=this._getOverlayPoint(u,t,c),h=this._getOverlayFit(l,t,r,c);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,u);return}if(this._canFitWithFlexibleDimensions(h,l,r)){o.push({position:c,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,c)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:l,originPoint:u,position:c,overlayRect:t})}if(o.length){let c=null,u=-1;for(let l of o){let h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>u&&(u=h,c=l)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(oN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:c}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=aN(t),{x:s,y:c}=e,u=this._getOffset(i,"x"),l=this._getOffset(i,"y");u&&(s+=u),l&&(c+=l);let h=0-s,p=s+o.width-r.width,m=0-c,_=c+o.height-r.height,T=this._subtractOverflows(o.width,h,p),k=this._subtractOverflows(o.height,m,_),N=T*k;return{visibleArea:N,isCompletelyWithinViewport:o.width*o.height===N,fitsInViewportVertically:k===o.height,fitsInViewportHorizontally:T==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=sN(this._overlayRef.getConfig().minHeight),c=sN(this._overlayRef.getConfig().minWidth),u=e.fitsInViewportVertically||s!=null&&s<=i,l=e.fitsInViewportHorizontally||c!=null&&c<=o;return u&&l}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=aN(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),c=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-r.top-e.y,0),l=Math.max(o.left-r.left-e.x,0),h=0,p=0;return i.width<=o.width?h=l||-s:h=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=u||-c:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!xH(this._lastScrollVisibility,r)){let i=new Xh(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,c;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")c=r.height-e.y+this._viewportMargin*2,o=r.height-c+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),T=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>T&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-T/2)}let u=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,l=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,h,p,m;if(l)m=r.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(u)p=e.x,h=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),T=this._lastBoundingBoxSize.width;h=_*2,p=e.x-_,h>T&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-T/2)}return{top:s,left:p,bottom:c,right:m,width:h,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Fe(r.height),i.top=Fe(r.top),i.bottom=Fe(r.bottom),i.width=Fe(r.width),i.left=Fe(r.left),i.right=Fe(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Fe(o)),s&&(i.maxWidth=Fe(s))}this._lastBoundingBoxSize=r,yo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){yo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let h=this._viewportRuler.getViewportScrollPosition();yo(r,this._getExactOverlayY(t,e,h)),yo(r,this._getExactOverlayX(t,e,h))}else r.position="static";let c="",u=this._getOffset(t,"x"),l=this._getOffset(t,"y");u&&(c+=`translateX(${u}px) `),l&&(c+=`translateY(${l}px)`),r.transform=c.trim(),s.maxHeight&&(i?r.maxHeight=Fe(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Fe(s.maxWidth):o&&(r.maxWidth="")),yo(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Fe(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let c=this._document.documentElement.clientWidth;i.right=`${c-(o.x+this._overlayRect.width)}px`}else i.left=Fe(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:rN(e,r),isOriginOutsideView:xE(e,r),isOverlayClipped:rN(t,r),isOverlayOutsideView:xE(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&js(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ye)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function yo(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function sN(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(MH);return!t||t==="px"?parseFloat(e):null}return n||null}function aN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function xH(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var cN="cdk-global-overlay-wrapper";function mN(n){return new tf}var tf=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(cN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:c}=r,u=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),h=this._xPosition,p=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",_="",T="",k="";u?k="flex-start":h==="center"?(k="center",m?T=p:_=p):m?h==="left"||h==="end"?(k="flex-end",_=p):(h==="right"||h==="start")&&(k="flex-start",T=p):h==="left"||h==="start"?(k="flex-start",_=p):(h==="right"||h==="end")&&(k="flex-end",T=p),e.position=this._cssPosition,e.marginLeft=u?"0":_,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":T,t.justifyContent=k,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(cN),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},_N=(()=>{class n{_injector=w(le);constructor(){}global(){return mN()}flexibleConnectedTo(t){return LE(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VE(n,e){n.get(Vs).load(gN);let t=n.get(FE),r=n.get(De),i=n.get(TE),o=n.get(tn),s=n.get(Us),c=r.createElement("div"),u=r.createElement("div");u.id=i.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),c.appendChild(u),t.getContainerElement().appendChild(c);let l=new Wh(u,o,n),h=new $c(e),p=n.get(Cn,null,{optional:!0})||n.get(St).createRenderer(null,null);return h.direction=h.direction||s.value,new Jh(l,c,u,h,n.get(ie),n.get(fN),r,n.get(sd),n.get(pN),e?.disableAnimations??n.get(nm,null,{optional:!0})==="NoopAnimations",n.get(Ve),p)}var yN=(()=>{class n{scrollStrategies=w(dN);_positionBuilder=w(_N);_injector=w(le);constructor(){}create(t){return VE(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PH=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vN=new V("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=w(le);return()=>nf(n)}}),OE=(()=>{class n{elementRef=w(ye);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),OH=(()=>{class n{_dir=w(Us,{optional:!0});_injector=w(le);_overlayRef;_templatePortal;_backdropSubscription=me.EMPTY;_attachSubscription=me.EMPTY;_detachSubscription=me.EMPTY;_positionSubscription=me.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=w(vN);_disposeOnNavigation=!1;_ngZone=w(ie);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}backdropClick=new Ie;positionChange=new Ie;attach=new Ie;detach=new Ie;overlayKeydown=new Ie;overlayOutsideClick=new Ie;constructor(){let t=w(je),r=w(Ze);this._templatePortal=new jc(t,r),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=PH);let t=this._overlayRef=VE(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Hh(r)&&(r.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let i=this._getOriginElement(),o=dn(r);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new $c({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=LE(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof OE?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof OE?this.origin.elementRef.nativeElement:this.origin instanceof ye?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(tp(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Ke],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Ke],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ke],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ke],push:[2,"cdkConnectedOverlayPush","push",Ke],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ke]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[At]})}return n})();function FH(n){let e=w(le);return()=>nf(e)}var LH={provide:vN,useFactory:FH},VH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({providers:[yN,LH],imports:[Bc,JR,Uc,Uc]})}return n})();var Hs,EN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Yae(){if(Hs)return Hs;if(typeof document!="object"||!document)return Hs=new Set(EN),Hs;let n=document.createElement("input");return Hs=new Set(EN.filter(e=>(n.setAttribute("type",e),n.type===e))),Hs}var zc=class{applyChanges(e,t,r,i,o){e.forEachOperation((s,c,u)=>{let l,h;if(s.previousIndex==null){let p=r(s,c,u);l=t.createEmbeddedView(p.templateRef,p.context,p.index),h=Yr.INSERTED}else u==null?(t.remove(c),h=Yr.REMOVED):(l=t.get(c),t.move(l,u),h=Yr.MOVED);o&&o({context:l?.context,operation:h,record:s})})}detach(){}};var BH=[[["caption"]],[["colgroup"],["col"]],"*"],UH=["caption","colgroup, col","*"];function HH(n,e){n&1&&os(0,2)}function $H(n,e){n&1&&(Oi(0,"thead",0),Qn(1,1),Fi(),Oi(2,"tbody",0),Qn(3,2)(4,3),Fi(),Oi(5,"tfoot",0),Qn(6,4),Fi())}function zH(n,e){n&1&&Qn(0,1)(1,2)(2,3)(3,4)}var cr=new V("CDK_TABLE");var WH=(()=>{class n{template=w(je);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),qH=(()=>{class n{template=w(je);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),GH=(()=>{class n{template=w(je);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),BE=(()=>{class n{_table=w(cr,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(t){this._setNameInput(t)}_name;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,i,o){if(r&1&&(Sn(o,WH,5),Sn(o,qH,5),Sn(o,GH,5)),r&2){let s;nn(s=rn())&&(i.cell=s.first),nn(s=rn())&&(i.headerCell=s.first),nn(s=rn())&&(i.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ke],stickyEnd:[2,"stickyEnd","stickyEnd",Ke]},features:[Ht([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})(),of=class{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}},wce=(()=>{class n extends of{constructor(){super(w(BE),w(ye))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Xe]})}return n})();var Ice=(()=>{class n extends of{constructor(){let t=w(BE),r=w(ye);super(t,r);let i=t._table?._getCellRole();i&&r.nativeElement.setAttribute("role",i)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Xe]})}return n})();var UE=(()=>{class n{template=w(je);_differs=w(An);columns;_columnsDiffer;constructor(){}ngOnChanges(t){if(!this._columnsDiffer){let r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof bN?t.headerCell.template:this instanceof CN?t.footerCell.template:t.cell.template}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,features:[At]})}return n})(),bN=(()=>{class n extends UE{_table=w(cr,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(w(je),w(An))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ke]},features:[Xe,At]})}return n})(),CN=(()=>{class n extends UE{_table=w(cr,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(w(je),w(An))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ke]},features:[Xe,At]})}return n})(),KH=(()=>{class n extends UE{_table=w(cr,{optional:!0});when;constructor(){super(w(je),w(An))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[Xe]})}return n})(),sf=(()=>{class n{_viewContainer=w(Ze);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),Dce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){r&1&&Qn(0,0)},dependencies:[sf],encapsulation:2})}return n})();var bce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,i){r&1&&Qn(0,0)},dependencies:[sf],encapsulation:2})}return n})(),YH=(()=>{class n{templateRef=w(je);_contentClassNames=["cdk-no-data-row","cdk-row"];_cellClassNames=["cdk-cell","cdk-no-data-cell"];_cellSelector="td, cdk-cell, [cdk-cell], .cdk-cell";constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})(),wN=["top","bottom","left","right"],jE=class{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(e=>this._updateCachedSizes(e)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(e,t,r=!0,i=!0,o,s,c){this._isNativeHtmlTable=e,this._stickCellCss=t,this._isBrowser=r,this._needsPositionStickyOnElement=i,this.direction=o,this._positionListener=s,this._tableInjector=c,this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){(t.includes("left")||t.includes("right"))&&this._removeFromStickyColumnReplayQueue(e);let r=[];for(let i of e)i.nodeType===i.ELEMENT_NODE&&r.push(i,...Array.from(i.children));Pt({write:()=>{for(let i of r)this._removeStickyStyle(i,t)}},{injector:this._tableInjector})}updateStickyColumns(e,t,r,i=!0,o=!0){if(!e.length||!this._isBrowser||!(t.some(N=>N)||r.some(N=>N))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let s=e[0],c=s.children.length,u=this.direction==="rtl",l=u?"right":"left",h=u?"left":"right",p=t.lastIndexOf(!0),m=r.indexOf(!0),_,T,k;o&&this._updateStickyColumnReplayQueue({rows:[...e],stickyStartStates:[...t],stickyEndStates:[...r]}),Pt({earlyRead:()=>{_=this._getCellWidths(s,i),T=this._getStickyStartColumnPositions(_,t),k=this._getStickyEndColumnPositions(_,r)},write:()=>{for(let N of e)for(let P=0;P<c;P++){let B=N.children[P];t[P]&&this._addStickyStyle(B,l,T[P],P===p),r[P]&&this._addStickyStyle(B,h,k[P],P===m)}this._positionListener&&_.some(N=>!!N)&&(this._positionListener.stickyColumnsUpdated({sizes:p===-1?[]:_.slice(0,p+1).map((N,P)=>t[P]?N:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:m===-1?[]:_.slice(m).map((N,P)=>r[P+m]?N:null).reverse()}))}},{injector:this._tableInjector})}stickRows(e,t,r){if(!this._isBrowser)return;let i=r==="bottom"?e.slice().reverse():e,o=r==="bottom"?t.slice().reverse():t,s=[],c=[],u=[];Pt({earlyRead:()=>{for(let l=0,h=0;l<i.length;l++){if(!o[l])continue;s[l]=h;let p=i[l];u[l]=this._isNativeHtmlTable?Array.from(p.children):[p];let m=this._retrieveElementSize(p).height;h+=m,c[l]=m}},write:()=>{let l=o.lastIndexOf(!0);for(let h=0;h<i.length;h++){if(!o[h])continue;let p=s[h],m=h===l;for(let _ of u[h])this._addStickyStyle(_,r,p,m)}r==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:s,elements:u}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:s,elements:u})}},{injector:this._tableInjector})}updateStickyFooterContainer(e,t){this._isNativeHtmlTable&&Pt({write:()=>{let r=e.querySelector("tfoot");r&&(t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(e,t){if(!e.classList.contains(this._stickCellCss))return;for(let i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);wN.some(i=>t.indexOf(i)===-1&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){let t={top:100,bottom:10,left:1,right:1},r=0;for(let i of wN)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;let r=[],i=e.children;for(let o=0;o<i.length;o++){let s=i[o];r.push(this._retrieveElementSize(s).width)}return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){let r=[],i=0;for(let o=0;o<e.length;o++)t[o]&&(r[o]=i,i+=e[o]);return r}_getStickyEndColumnPositions(e,t){let r=[],i=0;for(let o=e.length;o>0;o--)t[o]&&(r[o]=i,i+=e[o]);return r}_retrieveElementSize(e){let t=this._elemSizeCache.get(e);if(t)return t;let r=e.getBoundingClientRect(),i={width:r.width,height:r.height};return this._resizeObserver&&(this._elemSizeCache.set(e,i),this._resizeObserver.observe(e,{box:"border-box"})),i}_updateStickyColumnReplayQueue(e){this._removeFromStickyColumnReplayQueue(e.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(e)}_removeFromStickyColumnReplayQueue(e){let t=new Set(e);for(let r of this._updatedStickyColumnsParamsToReplay)r.rows=r.rows.filter(i=>!t.has(i));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(r=>!!r.rows.length)}_updateCachedSizes(e){let t=!1;for(let r of e){let i=r.borderBoxSize?.length?{width:r.borderBoxSize[0].inlineSize,height:r.borderBoxSize[0].blockSize}:{width:r.contentRect.width,height:r.contentRect.height};i.width!==this._elemSizeCache.get(r.target)?.width&&QH(r.target)&&(t=!0),this._elemSizeCache.set(r.target,i)}t&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let r of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(r.rows,r.stickyStartStates,r.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}};function QH(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(e=>n.classList.contains(e))}var IN=new V("CDK_SPL");var ZH=(()=>{class n{viewContainer=w(Ze);elementRef=w(ye);constructor(){let t=w(cr);t._rowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","rowOutlet",""]]})}return n})(),XH=(()=>{class n{viewContainer=w(Ze);elementRef=w(ye);constructor(){let t=w(cr);t._headerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),JH=(()=>{class n{viewContainer=w(Ze);elementRef=w(ye);constructor(){let t=w(cr);t._footerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),e$=(()=>{class n{viewContainer=w(Ze);elementRef=w(ye);constructor(){let t=w(cr);t._noDataRowOutlet=this,t._outletAssigned()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=oe({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})(),Cce=(()=>{class n{_differs=w(An);_changeDetectorRef=w(Or);_elementRef=w(ye);_dir=w(Us,{optional:!0});_platform=w(nt);_viewRepeater=w(Gh);_viewportRuler=w(Qr);_stickyPositioningListener=w(IN,{optional:!0,skipSelf:!0});_document=w(De);_data;_onDestroy=new te;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let t=this._elementRef.nativeElement.getAttribute("role");return t==="grid"||t==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}_trackByFn;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new Ie;viewChange=new Hn({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=w(le);constructor(){w(new td("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((r,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(pn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),qh(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let t=this._dataDiffer.diff(this._renderRows);if(!t){this._updateNoDataRow(),this.contentChanged.next();return}let r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{i.operation===Yr.INSERTED&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);o.context.$implicit=i.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){let t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let i=DN(this._headerRowOutlet,"thead");i&&(i.style.display=t.length?"":"none")}let r=this._headerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,r,"top"),this._headerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyFooterRowStyles(){let t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let i=DN(this._footerRowOutlet,"tfoot");i&&(i.style.display=t.length?"":"none")}let r=this._footerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyColumnStyles(){let t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let c=0;c<r.length;c++)this._renderRows[c].rowDef===o&&s.push(r[c]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let t=[],r=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return t;for(let i=0;i<this._data.length;i++){let o=this._data[i],s=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let c=0;c<s.length;c++){let u=s[c],l=this._cachedRenderRowsMap.get(u.data);l.has(u.rowDef)?l.get(u.rowDef).push(u):l.set(u.rowDef,[u]),t.push(u)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(s=>{let c=i&&i.has(s)?i.get(s):[];if(c.length){let u=c.shift();return u.dataIndex=r,u}else return{data:t,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),rf(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=rf(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=rf(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=rf(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let t=this._rowDefs.filter(r=>!r.when);!this.multiTemplateDataRows&&t.length>1,this._defaultRowDef=t[0]}_renderUpdatedColumns(){let t=(s,c)=>{let u=!!c.getColumnsDiff();return s||u},r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();let i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(t){this._data=[],qh(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;qh(this.dataSource)?t=this.dataSource.connect(this):Nu(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=gr(this.dataSource)),this._renderChangeSubscription=t.pipe(pn(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){let i=Array.from(r?.columns||[]).map(c=>{let u=this._columnDefsByName.get(c);return u}),o=i.map(c=>c.sticky),s=i.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){let r=[];for(let i=0;i<t.viewContainer.length;i++){let o=t.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(this._rowDefs.length==1)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(r,t))||this._defaultRowDef;o&&i.push(o)}return i.length,i}_getEmbeddedViewArgs(t,r){let i=t.rowDef,o={$implicit:t.data};return{templateRef:i.template,context:o,index:r}}_renderRow(t,r,i,o={}){let s=t.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),s}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))sf.mostRecentCellOutlet&&sf.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){let s=t.get(r).context;s.count=i,s.first=r===0,s.last=r===i-1,s.even=r%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return!t||!t.columns?[]:Array.from(t.columns,r=>{let i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let t=this._dir?this._dir.value:"ltr";this._stickyStyler=new jE(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,t,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:gr()).pipe(pn(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){let t=this._customNoDataRow||this._noDataRow;if(!t)return;let r=this._rowOutlet.viewContainer.length===0;if(r===this._isShowingNoDataRow)return;let i=this._noDataRowOutlet.viewContainer;if(r){let o=i.createEmbeddedView(t.templateRef),s=o.rootNodes[0];if(o.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE){s.setAttribute("role","row"),s.classList.add(...t._contentClassNames);let c=s.querySelectorAll(t._cellSelector);for(let u=0;u<c.length;u++)c[u].classList.add(...t._cellClassNames)}}else i.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,i,o){if(r&1&&(Sn(o,YH,5),Sn(o,BE,5),Sn(o,KH,5),Sn(o,bN,5),Sn(o,CN,5)),r&2){let s;nn(s=rn())&&(i._noDataRow=s.first),nn(s=rn())&&(i._contentColumnDefs=s),nn(s=rn())&&(i._contentRowDefs=s),nn(s=rn())&&(i._contentHeaderRowDefs=s),nn(s=rn())&&(i._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,i){r&2&&Li("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ke],fixedLayout:[2,"fixedLayout","fixedLayout",Ke]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Ht([{provide:cr,useExisting:n},{provide:Gh,useClass:zc},{provide:IN,useValue:null}])],ngContentSelectors:UH,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,i){r&1&&(Ql(BH),os(0),os(1,1),zl(2,HH,1,0),zl(3,$H,7,0)(4,zH,4,0)),r&2&&(za(2),Wl(i._isServer?2:-1),za(),Wl(i._isNativeHtmlTable?3:4))},dependencies:[XH,ZH,e$,JH],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return n})();function rf(n,e){return n.concat(Array.from(e))}function DN(n,e){let t=e.toUpperCase(),r=n.viewContainer.element.nativeElement;for(;r;){let i=r.nodeType===1?r.nodeName:null;if(i===t)return r;if(i==="TABLE")break;r=r.parentNode}return null}var Tce=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Be({type:n});static \u0275inj=Pe({imports:[Uc]})}return n})();function Ace(n){return n!=null&&`${n}`!="false"}var HE=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new te;constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e.map(o=>this._getConcreteValue(o)));e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};export{J as a,ce as b,t$ as c,n$ as d,r$ as e,A as f,me as g,Zw as h,G as i,Wf as j,ca as k,te as l,Hn as m,Ro as n,$n as o,kt as p,gr as q,xk as r,Nu as s,si as t,Le as u,zf as v,Gt as w,da as x,mr as y,Pk as z,Yf as A,Uk as B,Ct as C,yI as D,Hk as E,ha as F,fa as G,_r as H,$k as I,pa as J,qk as K,Gk as L,Zf as M,Kk as N,Xf as O,Yk as P,II as Q,ep as R,DI as S,ma as T,bI as U,pn as V,tp as W,np as X,Q as Y,gi as Z,L as _,Pe as $,oM as aa,V as ba,qe as ca,w as da,yi as ea,YI as fa,jp as ga,Ve as ha,br as ia,uD as ja,lD as ka,ID as la,le as ma,De as na,Zt as oa,qn as pa,Xt as qa,Go as ra,st as sa,Mr as ta,At as ua,Mi as va,ye as wa,ax as xa,tm as ya,wb as za,$a as Aa,nm as Ba,rm as Ca,dx as Da,Xo as Ea,vx as Fa,za as Ga,Va as Ha,El as Ia,ns as Ja,xi as Ka,Ie as La,ie as Ma,Pt as Na,je as Oa,St as Pa,Cn as Qa,pe as Ra,KP as Sa,Ze as Ta,DC as Ua,bC as Va,Tn as Wa,Be as Xa,oe as Ya,Xe as Za,Om as _a,WO as $a,Pi as ab,qO as bb,RC as cb,tn as db,$l as eb,zl as fb,Wl as gb,MC as hb,Oi as ib,Fi as jb,xC as kb,ql as lb,Gl as mb,jm as nb,Kl as ob,Yl as pb,Qn as qb,QO as rb,OC as sb,is as tb,VC as ub,Ql as vb,os as wb,Sn as xb,Bm as yb,nn as zb,rn as Ab,eF as Bb,tF as Cb,nF as Db,rF as Eb,Li as Fb,pF as Gb,WC as Hb,GC as Ib,Zl as Jb,KC as Kb,AF as Lb,YC as Mb,RF as Nb,Ht as Ob,PF as Pb,LF as Qb,jF as Rb,UF as Sb,HF as Tb,Rt as Ub,Vi as Vb,Jl as Wb,td as Xb,JZ as Yb,eX as Zb,tX as _b,Or as $b,nX as ac,Ke as bc,w1 as cc,rX as dc,iX as ec,ji as fc,D1 as gc,Qm as hc,b1 as ic,ss as jc,mT as kc,sd as lc,A1 as mc,R1 as nc,vT as oc,N1 as pc,P1 as qc,O1 as rc,F1 as sc,e_ as tc,L1 as uc,ET as vc,BJ as wc,kT as xc,wT as yc,tc as zc,uee as Ac,gL as Bc,yL as Cc,EL as Dc,dee as Ec,yE as Fc,vE as Gc,sH as Hc,dn as Ic,nt as Jc,IE as Kc,NR as Lc,go as Mc,aH as Nc,Vs as Oc,jR as Pc,uH as Qc,soe as Rc,qR as Sc,Uh as Tc,IH as Uc,bH as Vc,CH as Wc,TE as Xc,Hh as Yc,SE as Zc,AE as _c,hse as $c,fse as ad,RE as bd,jc as cd,zh as dd,Tse as ed,JR as fd,Us as gd,Bc as hd,Gh as id,Kh as jd,Qr as kd,uN as ld,Yh as md,nf as nd,dN as od,$c as pd,FE as qd,Jh as rd,ef as sd,mN as td,tf as ud,_N as vd,VE as wd,yN as xd,OE as yd,OH as zd,VH as Ad,Yae as Bd,zc as Cd,cr as Dd,WH as Ed,qH as Fd,BE as Gd,wce as Hd,Ice as Id,bN as Jd,KH as Kd,sf as Ld,Dce as Md,bce as Nd,IN as Od,ZH as Pd,XH as Qd,JH as Rd,e$ as Sd,Cce as Td,Tce as Ud,Ace as Vd,HE as Wd,wS as Xd,lte as Yd,Oc as Zd,Cie as _d,Tie as $d,Sie as ae,Aie as be,Rie as ce,Nie as de};
